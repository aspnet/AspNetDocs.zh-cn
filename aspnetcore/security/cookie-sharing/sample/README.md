---
ms.openlocfilehash: c3b00951d2f9e22a1c677a88261a36238d2b12fc
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/01/2019
ms.locfileid: "57061544"
---
# <a name="cookie-sharing-sample-app"></a><span data-ttu-id="d0bc6-101">Cookie 共享示例应用</span><span class="sxs-lookup"><span data-stu-id="d0bc6-101">Cookie Sharing Sample App</span></span>

<span data-ttu-id="d0bc6-102">此示例演示了在使用 cookie 身份验证的三个应用之间共享 cookie:</span><span class="sxs-lookup"><span data-stu-id="d0bc6-102">The sample illustrates cookie sharing across three apps that use cookie authentication:</span></span>

| <span data-ttu-id="d0bc6-103">项目</span><span class="sxs-lookup"><span data-stu-id="d0bc6-103">Project</span></span>                             | <span data-ttu-id="d0bc6-104">描述</span><span class="sxs-lookup"><span data-stu-id="d0bc6-104">Description</span></span> |
| ----------------------------------- | ----------- |
| <span data-ttu-id="d0bc6-105">CookieAuth.Core</span><span class="sxs-lookup"><span data-stu-id="d0bc6-105">CookieAuth.Core</span></span>                     | <span data-ttu-id="d0bc6-106">ASP.NET Core Razor 页面应用，而无需使用 ASP.NET Core 标识</span><span class="sxs-lookup"><span data-stu-id="d0bc6-106">ASP.NET Core Razor Pages app without using ASP.NET Core Identity</span></span> |
| <span data-ttu-id="d0bc6-107">CookieAuthWithIdentity.Core</span><span class="sxs-lookup"><span data-stu-id="d0bc6-107">CookieAuthWithIdentity.Core</span></span>         | <span data-ttu-id="d0bc6-108">使用 ASP.NET Core 标识的 ASP.NET Core MVC 应用程序</span><span class="sxs-lookup"><span data-stu-id="d0bc6-108">ASP.NET Core MVC app with ASP.NET Core Identity</span></span> |
| <span data-ttu-id="d0bc6-109">CookieAuthWithIdentity.NETFramework</span><span class="sxs-lookup"><span data-stu-id="d0bc6-109">CookieAuthWithIdentity.NETFramework</span></span> | <span data-ttu-id="d0bc6-110">使用 ASP.NET 标识的 ASP.NET Framework MVC 应用程序</span><span class="sxs-lookup"><span data-stu-id="d0bc6-110">ASP.NET Framework MVC app with ASP.NET Identity</span></span> |

<span data-ttu-id="d0bc6-111">说明：</span><span class="sxs-lookup"><span data-stu-id="d0bc6-111">Instructions:</span></span>

1. <span data-ttu-id="d0bc6-112">运行 CookieAuth.Core 应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-112">Run the CookieAuth.Core app.</span></span> <span data-ttu-id="d0bc6-113">注册用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-113">Register a user.</span></span> <span data-ttu-id="d0bc6-114">应用程序对用户进行身份验证时注册该用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-114">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="d0bc6-115">注销用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-115">Sign the user out.</span></span>
1. <span data-ttu-id="d0bc6-116">在同一浏览器会话中，运行 CookieAuthWithIdentity.Core 应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-116">In the same browser session, run the CookieAuthWithIdentity.Core app.</span></span> <span data-ttu-id="d0bc6-117">将同一用户注册为与核心应用程序一起使用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-117">Register the same user as used with the Core app.</span></span> <span data-ttu-id="d0bc6-118">应用程序对用户进行身份验证时注册该用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-118">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="d0bc6-119">注销用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-119">Sign the user out.</span></span>
1. <span data-ttu-id="d0bc6-120">在同一浏览器会话中，运行 CookieAuthWithIdentity.NETFramework 应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-120">In the same browser session, run the CookieAuthWithIdentity.NETFramework app.</span></span> <span data-ttu-id="d0bc6-121">将同一用户注册为使用与其他应用程序。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-121">Register the same user as used with the other apps.</span></span> <span data-ttu-id="d0bc6-122">应用程序对用户进行身份验证时注册该用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-122">The app authenticates the user when the user is registered.</span></span> <span data-ttu-id="d0bc6-123">注销用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-123">Sign the user out.</span></span>
1. <span data-ttu-id="d0bc6-124">登录到三个应用的任何用户。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-124">Sign in the user to any of the three apps.</span></span> <span data-ttu-id="d0bc6-125">在应用之间共享身份验证 cookie。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-125">The authentication cookie is shared among the apps.</span></span> <span data-ttu-id="d0bc6-126">请注意，用户会自动登录到其他两个应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-126">Note that the user is automatically signed into the other two apps.</span></span>
1. <span data-ttu-id="d0bc6-127">注销用户从任何应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-127">Sign out the user from any of the apps.</span></span> <span data-ttu-id="d0bc6-128">请注意用户自动注销的其他两个应用。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-128">Note that the user is automatically signed out of the other two apps.</span></span>

<span data-ttu-id="d0bc6-129">此示例演示中所述的功能[应用之间共享 cookie](https://docs.microsoft.com/aspnet/core/security/cookie-sharing)主题。</span><span class="sxs-lookup"><span data-stu-id="d0bc6-129">This sample demonstrates the features described in the [Share cookies among apps](https://docs.microsoft.com/aspnet/core/security/cookie-sharing) topic.</span></span>
