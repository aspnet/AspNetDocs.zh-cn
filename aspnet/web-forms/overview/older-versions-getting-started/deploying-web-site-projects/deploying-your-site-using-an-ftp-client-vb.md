---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-vb
title: 使用 FTP 客户端部署站点（VB） |Microsoft Docs
author: rick-anderson
description: 部署 ASP.NET 应用程序的最简单方法是将所需文件手动复制到生产环境。 Thi 。
ms.author: riande
ms.date: 04/01/2009
ms.assetid: 09279194-bcf9-4b59-a09d-c68e5926a758
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/deploying-your-site-using-an-ftp-client-vb
msc.type: authoredcontent
ms.openlocfilehash: 7875304c672625d8c0eaaf0fea8ef509bb801a3a
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78438872"
---
# <a name="deploying-your-site-using-an-ftp-client-vb"></a><span data-ttu-id="bf7f5-104">使用 FTP 客户端部署站点 (VB)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-104">Deploying Your Site Using an FTP Client (VB)</span></span>

<span data-ttu-id="bf7f5-105">作者： [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="bf7f5-106">[下载代码](https://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_VB.zip)或[下载 PDF](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-106">[Download Code](https://download.microsoft.com/download/4/5/F/45F815EC-8B0E-46D3-9FB8-2DC015CCA306/ASPNET_Hosting_Tutorial_03_VB.zip) or [Download PDF](https://download.microsoft.com/download/E/8/9/E8920AE6-D441-41A7-8A77-9EF8FF970D8B/aspnet_tutorial03_DeployingViaFTP_vb.pdf)</span></span>

> <span data-ttu-id="bf7f5-107">部署 ASP.NET 应用程序的最简单方法是将所需文件手动复制到生产环境。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-107">The simplest way to deploy an ASP.NET application is to manually copy the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="bf7f5-108">本教程演示如何使用 FTP 客户端将文件从桌面获取到 web 宿主提供程序。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-108">This tutorial shows how to use an FTP client to get the files from your desktop to the web host provider.</span></span>

## <a name="introduction"></a><span data-ttu-id="bf7f5-109">简介</span><span class="sxs-lookup"><span data-stu-id="bf7f5-109">Introduction</span></span>

<span data-ttu-id="bf7f5-110">前面的教程介绍了一个简单的书籍回顾 ASP.NET web 应用程序，该应用程序由几个 ASP.NET 页、一个母版页、一个自定义基 `Page` 类、多个图像和三个 CSS 样式表组成。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-110">The previous tutorial introduced a simple Book Review ASP.NET web application, which is comprised of a handful of ASP.NET pages, a master page, a custom base `Page` class, a number of images, and three CSS style sheets.</span></span> <span data-ttu-id="bf7f5-111">现在，我们已准备好将此应用程序部署到 web 主机提供程序，此时连接到 Internet 的任何人都可以访问该应用程序！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-111">We are now ready to deploy this application to a web host provider, at which point the application will be accessible to anyone with a connection to the Internet!</span></span>

<span data-ttu-id="bf7f5-112">从我们在[*确定需要部署哪些文件*](determining-what-files-need-to-be-deployed-vb.md)的讨论中，我们知道需要将哪些文件复制到 web 宿主提供程序。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-112">From our discussions in the [*Determining What Files Need to Be Deployed*](determining-what-files-need-to-be-deployed-vb.md) tutorial, we know what files need to be copied to the web host provider.</span></span> <span data-ttu-id="bf7f5-113">（回想一下，要复制哪些文件取决于应用程序是显式编译还是自动编译。）但如何从开发环境（桌面）到生产环境（由 web 主机提供商管理的 web 服务器）获取文件？</span><span class="sxs-lookup"><span data-stu-id="bf7f5-113">(Recall that what files are copied depends on whether your application is explicitly or automatically compiled.) But how do we get the files from the development environment (our desktop) up to the production environment (the web server managed by the web host provider)?</span></span> <span data-ttu-id="bf7f5-114">[ **F** Ile **T** ransfer **P**协议（FTP）](http://en.wikipedia.org/wiki/File_Transfer_Protocol)是用于通过网络将文件从一台计算机复制到另一台计算机的常用协议。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-114">The [**F** ile **T** ransfer **P** rotocol (FTP)](http://en.wikipedia.org/wiki/File_Transfer_Protocol) is a commonly used protocol for copying files from one machine to another over a network.</span></span> <span data-ttu-id="bf7f5-115">另一个选项是 FrontPage 服务器扩展（FPSE）。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-115">Another option is FrontPage Server Extensions (FPSE).</span></span> <span data-ttu-id="bf7f5-116">本教程重点介绍如何使用独立的 FTP 客户端软件将开发环境中所需的文件部署到生产环境。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-116">This tutorial focuses on using stand-alone FTP client software to deploy the necessary files from the development environment to the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="bf7f5-117">Visual Studio 包含通过 FTP 发布网站的工具;下一教程将介绍这些工具以及使用 FPSE 的工具。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-117">Visual Studio includes tools for publishing websites via FTP; these tools, as well as a look at tools that use FPSE, are covered in the next tutorial.</span></span>

<span data-ttu-id="bf7f5-118">若要使用 FTP 复制文件，需要在开发环境中使用*ftp 客户端*。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-118">To copy the files using FTP we need an *FTP client* on the development environment.</span></span> <span data-ttu-id="bf7f5-119">FTP 客户端是一种应用程序，用于将文件从安装了计算机的计算机复制到运行*FTP 服务器*的计算机。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-119">An FTP client is an application that is designed to copy files from the computer it's installed to a computer that is running an *FTP server*.</span></span> <span data-ttu-id="bf7f5-120">（如果你的 web 宿主提供程序支持通过 FTP 进行文件传输，则在这种情况下，web 服务器上会运行一个 FTP 服务器。）有许多可用的 FTP 客户端应用程序。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-120">(If your web host provider supports file transfers via FTP, as most do, then there is an FTP server running on their web servers.) There are a number of FTP client applications available.</span></span> <span data-ttu-id="bf7f5-121">你的 web 浏览器甚至可以作为 FTP 客户端使用 double。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-121">Your web browser can even double as an FTP client.</span></span> <span data-ttu-id="bf7f5-122">我喜欢的 FTP 客户端和我将用于本教程的客户端是[FileZilla](http://filezilla-project.org/)，它是一种可用于 Windows、Linux 和 mac 的免费开源 FTP 客户端。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-122">My favorite FTP client, and the one I will be using for this tutorial, is [FileZilla](http://filezilla-project.org/), a free, open-source FTP client that is available for Windows, Linux, and Macs.</span></span> <span data-ttu-id="bf7f5-123">不过，任何 FTP 客户端都可以使用，因此可以随意使用最适合的任何客户端。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-123">Any FTP client will work, though, so feel free to use whatever client you are most comfortable with.</span></span>

<span data-ttu-id="bf7f5-124">如果你正在进行以下过程，你将需要使用 web 主机提供商创建一个帐户，然后才能完成本教程或后续教程。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-124">If you are following along you will need to create an account with a web host provider before you can complete this tutorial or subsequent ones.</span></span> <span data-ttu-id="bf7f5-125">如前面的教程中所述，有一个 gaggle 的 web 主机提供商公司，具有各种价格、功能和服务质量。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-125">As noted in the previous tutorial, there are a gaggle of web host provider companies with a wide spectrum of prices, features, and quality of service.</span></span> <span data-ttu-id="bf7f5-126">在本系列教程中，我将使用 ASP.NET 作为 web 主机提供商提供[折扣](http://discountasp.net)，但您可以遵循任何 web 主机提供程序，只要它们支持您在中开发的 ASP.NET 版本即可。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-126">For this tutorial series I will be using [Discount ASP.NET](http://discountasp.net) as my web host provider, but you can follow along with any web host provider as long as they support the ASP.NET version your site is developed in.</span></span> <span data-ttu-id="bf7f5-127">（这些教程是使用 ASP.NET 3.5 创建的。）此外，因为我们将在本教程中使用 FTP 将文件复制到 web 主机提供程序，而在以后使用时，必须确保 web 主机提供商支持对其 web 服务器的 FTP 访问。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-127">(These tutorials were created using ASP.NET 3.5.) Also, because we will be copying the files to the web host provider using FTP in this tutorial and in future ones it is imperative that your web host provider supports FTP access to their web servers.</span></span> <span data-ttu-id="bf7f5-128">几乎所有 web 宿主提供程序都提供了此功能，但在注册之前应仔细检查。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-128">Virtually all web host providers offer this feature, but you should double-check before signing up.</span></span>

## <a name="deploying-the-book-review-web-application-project"></a><span data-ttu-id="bf7f5-129">部署书籍评审 Web 应用程序项目</span><span class="sxs-lookup"><span data-stu-id="bf7f5-129">Deploying the Book Review Web Application Project</span></span>

<span data-ttu-id="bf7f5-130">请记住，有两个版本的书籍评审 web 应用程序：一个是使用 Web 应用程序项目模型（BookReviewsWAP）实现的，另一个是使用网站项目模型（BookReviewsWSP）实现的。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-130">Recall that there are two versions of the Book Review web application: one implemented using the Web Application Project model (BookReviewsWAP) and the other using the Web Site Project model (BookReviewsWSP).</span></span> <span data-ttu-id="bf7f5-131">项目类型影响网站是自动编译还是显式编译，并且编译模型确定需要部署哪些文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-131">The project type influences whether the site is compiled automatically or explicitly, and that compilation model dictates what files need to be deployed.</span></span> <span data-ttu-id="bf7f5-132">因此，我们将从 BookReviewsWAP 开始分别检查 BookReviewsWAP 和 BookReviewsWSP 项目的部署。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-132">Consequently, we will examine deploying the BookReviewsWAP and BookReviewsWSP projects separately, starting with the BookReviewsWAP.</span></span> <span data-ttu-id="bf7f5-133">下载这两个 ASP.NET 应用程序（如果尚未这样做）。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-133">Take a moment to download these two ASP.NET applications if you have not done so already.</span></span>

<span data-ttu-id="bf7f5-134">通过导航到 `BookReviewsWAP` 文件夹并双击 `BookReviewsWAP.sln` 文件来启动 BookReviewsWAP 项目。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-134">Launch the BookReviewsWAP project by navigating to the `BookReviewsWAP` folder and double-clicking the `BookReviewsWAP.sln` file.</span></span> <span data-ttu-id="bf7f5-135">在部署项目之前，必须生成该项目以确保对源代码进行的任何更改都包含在编译的程序集中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-135">Before deploying the project it is important to build it to ensure that any changes to the source code are included in the compiled assembly.</span></span> <span data-ttu-id="bf7f5-136">若要生成项目，请在 "生成" 菜单中选择 "生成" 菜单选项。 BookReviewsWAP</span><span class="sxs-lookup"><span data-stu-id="bf7f5-136">To build the project go to the Build menu and choose the Build BookReviewsWAP menu option.</span></span> <span data-ttu-id="bf7f5-137">这会将项目中的源代码编译成一个程序集，`BookReviewsWAP.dll`放置在 `Bin` 文件夹中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-137">This compiles the source code in the project into a single assembly, `BookReviewsWAP.dll`, which is placed in the `Bin` folder.</span></span>

<span data-ttu-id="bf7f5-138">现在，我们已准备好部署所需的文件！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-138">We are now ready to deploy the necessary files!</span></span> <span data-ttu-id="bf7f5-139">启动 FTP 客户端，并连接到 web 主机提供程序上的 web 服务器。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-139">Launch your FTP client and connect to the web server at your web host provider.</span></span> <span data-ttu-id="bf7f5-140">（当你注册 web 托管公司时，他们将通过电子邮件向你发送有关如何连接到 FTP 服务器的信息; 这包括 FTP 服务器的地址以及用户名和密码。）</span><span class="sxs-lookup"><span data-stu-id="bf7f5-140">(When you sign up with a web hosting company they will email you information on how to connect to the FTP server; this includes the address for the FTP server as well as a username and password.)</span></span>

<span data-ttu-id="bf7f5-141">将以下文件从桌面复制到 web 主机提供程序的根网站文件夹中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-141">Copy the following files from your desktop to the root website folder at your web host provider.</span></span> <span data-ttu-id="bf7f5-142">当你在 web 主机提供商处 FTP 到 web 服务器时，可能会出现根网站目录。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-142">When you FTP into the web server at the web host provider you are likely at the root website directory.</span></span> <span data-ttu-id="bf7f5-143">但是，某些 web 宿主提供程序有一个名为 `www` 或 `wwwroot` 的子文件夹，用作网站文件的根文件夹。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-143">However, some web host providers have a subfolder named `www` or `wwwroot` that serves as the root folder for your website files.</span></span> <span data-ttu-id="bf7f5-144">最后，在 FTPing 文件时，您可能需要在生产环境中创建相应的文件夹结构-`Bin` 文件夹、`Fiction` 文件夹、`Images` 文件夹等。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-144">Finally, when FTPing the files you may need to create the corresponding folder structure on the production environment - the `Bin` folder, the `Fiction` folder, the `Images` folder, and so on.</span></span>

- `~/Default.aspx`
- `~/About.aspx`
- `~/Site.master`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="bf7f5-145">`Styles` 文件夹的完整内容</span><span class="sxs-lookup"><span data-stu-id="bf7f5-145">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="bf7f5-146">`Images` 文件夹（及其子文件夹，`BookCovers`）的完整内容</span><span class="sxs-lookup"><span data-stu-id="bf7f5-146">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/Fiction/Default.aspx`
- `~/Fiction/Blaze.aspx`
- `~/Tech/Default.aspx`
- `~/Tech/CYOW.aspx`
- `~/Tech/TYASP35.aspx`
- `~/Bin/BookReviewsWAP.dll`

<span data-ttu-id="bf7f5-147">图1显示了复制必需文件后的 FileZilla。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-147">Figure 1 shows FileZilla after the necessary files have been copied.</span></span> <span data-ttu-id="bf7f5-148">FileZilla 将本地计算机上的文件显示在左侧，并显示远程计算机上的文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-148">FileZilla displays the files on the local computer on the left and the files on the remote computer on the right.</span></span> <span data-ttu-id="bf7f5-149">如图1所示，ASP.NET 源代码文件（如 `About.aspx.vb`）位于本地计算机（开发环境）上，但尚未复制到 web 主机提供程序（生产环境），因为使用显式编译时不需要部署代码文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-149">As Figure 1 shows, the ASP.NET source code files, such as `About.aspx.vb`, are on the local computer (the development environment) but were not copied to the web host provider (the production environment) because code files do not need to be deployed when using explicit compilation.</span></span>

> [!NOTE]
> <span data-ttu-id="bf7f5-150">在生产服务器上不会有任何损害，因为这些文件被忽略。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-150">There is no harm in having the source code files on the production server, as they are ignored.</span></span> <span data-ttu-id="bf7f5-151">默认情况下，ASP.NET 禁止 HTTP 请求发送到源代码文件，因此即使在生产服务器上存在源代码文件，网站的访问者也无法访问这些文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-151">ASP.NET forbids HTTP requests to source code files by default so that even if the source code files are present on the production server they are inaccessible to visitors to your website.</span></span> <span data-ttu-id="bf7f5-152">（也就是说，如果用户尝试访问 `http://www.yoursite.com/Default.aspx.vb` 他们会收到一个错误页面，指出这些类型的文件 `.vb` 文件-是禁止的。）</span><span class="sxs-lookup"><span data-stu-id="bf7f5-152">(That is, if a user tries to visit `http://www.yoursite.com/Default.aspx.vb` they will get an error page that explains that these types of files - `.vb` files - are forbidden.)</span></span>

<span data-ttu-id="bf7f5-153">[![使用 FTP 客户端将您的桌面中所需的文件复制到 Web 主机提供程序中的 Web 服务器。](deploying-your-site-using-an-ftp-client-vb/_static/image2.png)](deploying-your-site-using-an-ftp-client-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-153">[![Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider.](deploying-your-site-using-an-ftp-client-vb/_static/image2.png)](deploying-your-site-using-an-ftp-client-vb/_static/image1.png)</span></span>

<span data-ttu-id="bf7f5-154">**图 1**：使用 FTP 客户端将您的桌面中所需的文件复制到 Web 宿主提供程序中的 web 服务器（[单击以查看完全大小的图像](deploying-your-site-using-an-ftp-client-vb/_static/image3.png)）</span><span class="sxs-lookup"><span data-stu-id="bf7f5-154">**Figure 1**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-vb/_static/image3.png))</span></span>

<span data-ttu-id="bf7f5-155">部署站点后，请花点时间测试站点。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-155">After deploying your site take a moment to test the site.</span></span> <span data-ttu-id="bf7f5-156">如果你已购买域名并正确配置了 DNS 设置，则可以通过输入你的域名来访问你的站点。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-156">If you have purchased a domain name and configured the DNS settings properly, you can visit your site by entering your domain name.</span></span> <span data-ttu-id="bf7f5-157">或者，你的 web 主机提供商应为你提供一个指向你的网站的 URL，该 URL 将类似于*accountname*。*webhostprovider*或*webhostprovider*/*accountname*。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-157">Alternatively, your web host provider should have supplied you with a URL to your site, which will look something like *accountname*.*webhostprovider*.com or *webhostprovider*.com/*accountname*.</span></span> <span data-ttu-id="bf7f5-158">例如，ASP.NET 上我的帐户的 URL 为： `http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-158">For example, the URL for my account on Discount ASP.NET is: `http://httpruntime.web703.discountasp.net`.</span></span>

<span data-ttu-id="bf7f5-159">图2显示了已部署的书籍审阅网站。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-159">Figure 2 shows the deployed Book Reviews site.</span></span> <span data-ttu-id="bf7f5-160">请注意，我在折扣 ASP 上查看它。网络服务器，`http://httpruntime.web703.discountasp.net`。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-160">Note that I am viewing it on Discount ASP.NET's servers, at `http://httpruntime.web703.discountasp.net`.</span></span> <span data-ttu-id="bf7f5-161">此时，与 Internet 建立连接的任何人都可以查看我的网站！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-161">At this point in time anyone with a connection to the Internet could view my website!</span></span> <span data-ttu-id="bf7f5-162">正如我们所料，站点的外观和行为与在开发环境中测试时的行为一样。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-162">As we'd expect, the site looks and behaves just as it did when testing it in the development environment.</span></span>

> [!NOTE]
> <span data-ttu-id="bf7f5-163">如果在查看应用程序时出现错误，请确保部署了正确的文件集。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-163">If you get an error when viewing your application take a moment to ensure that you deployed the correct set of files.</span></span> <span data-ttu-id="bf7f5-164">接下来，请检查错误消息，以确定它是否显示了问题的任何线索。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-164">Next, check the error message to see if it reveals any clues as to the problem.</span></span> <span data-ttu-id="bf7f5-165">之后，你可以转到你的 web 主机公司的技术支持人员，或将你的问题发布到[ASP.NET 论坛](https://forums.asp.net/)中的相应论坛。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-165">Following that, you can turn to your web host company's helpdesk or post your question to the appropriate forum at the [ASP.NET Forums](https://forums.asp.net/).</span></span>

<span data-ttu-id="bf7f5-166">[!["书籍评论" 站点现在可以通过 Internet 连接的任何人访问。](deploying-your-site-using-an-ftp-client-vb/_static/image5.png)](deploying-your-site-using-an-ftp-client-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-166">[![The Book Reviews Site is Now Accessible to Anyone with an Internet Connection.](deploying-your-site-using-an-ftp-client-vb/_static/image5.png)](deploying-your-site-using-an-ftp-client-vb/_static/image4.png)</span></span>

<span data-ttu-id="bf7f5-167">**图 2**：使用 Internet 连接的任何人都可以访问 "书籍评论" 站点（[单击查看完全大小的图像](deploying-your-site-using-an-ftp-client-vb/_static/image6.png)）</span><span class="sxs-lookup"><span data-stu-id="bf7f5-167">**Figure 2**: The Book Reviews Site is Now Accessible to Anyone with an Internet Connection ([Click to view full-size image](deploying-your-site-using-an-ftp-client-vb/_static/image6.png))</span></span>

## <a name="deploying-the-book-review-web-site-project"></a><span data-ttu-id="bf7f5-168">部署书籍评审网站项目</span><span class="sxs-lookup"><span data-stu-id="bf7f5-168">Deploying the Book Review Web Site Project</span></span>

<span data-ttu-id="bf7f5-169">部署使用自动编译的 ASP.NET 应用程序（如 BookReviewsWSP 网站项目）时，`Bin` 文件夹中没有已编译的程序集。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-169">When deploying an ASP.NET application that uses automatic compilation, such as the BookReviewsWSP Web Site Project, there is no compiled assembly in the `Bin` folder.</span></span> <span data-ttu-id="bf7f5-170">因此，必须将 web 应用程序的源代码文件部署到生产环境中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-170">As a result, the web application's source code files must be deployed to the production environment.</span></span> <span data-ttu-id="bf7f5-171">我们来演练此过程。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-171">Let's walk through this process.</span></span>

<span data-ttu-id="bf7f5-172">对于 Web 应用程序项目，在部署应用程序之前，最好先生成应用程序。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-172">As with the Web Application Project it's wise to first Build the application before deploying it.</span></span> <span data-ttu-id="bf7f5-173">生成网站项目时，不会创建程序集，它会检查页面中是否存在任何编译时错误。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-173">While building a Web Site Project does not create an assembly, it does check for any compile-time errors in the page.</span></span> <span data-ttu-id="bf7f5-174">现在更好地发现这些错误，而不是让网站访问者为你发现这些错误！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-174">Better to find these errors now rather than having a visitor to your site discover them for you!</span></span>

<span data-ttu-id="bf7f5-175">成功生成项目后，请使用 FTP 客户端将以下文件复制到 web 主机提供商处的根网站文件夹中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-175">Once you've successfully built the project, use your FTP client to copy the following files to the root website folder at your web host provider.</span></span> <span data-ttu-id="bf7f5-176">可能需要在生产环境中创建相应的文件夹结构。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-176">You may need to create the corresponding folder structure on the production environment.</span></span>

> [!NOTE]
> <span data-ttu-id="bf7f5-177">如果已部署 BookReviewsWAP 项目，但仍想要尝试部署 BookReviewsWSP 项目，请先删除 web 服务器上的所有文件，这些文件是在部署 BookReviewsWAP 时上载的，然后部署 BookReviewsWSP 的文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-177">If you already deployed the BookReviewsWAP project but still want to try deploying the BookReviewsWSP project, first delete all of the files on the web server that were uploaded when deploying BookReviewsWAP and then deploy the files for BookReviewsWSP.</span></span>

- `~/Default.aspx`
- `~/Default.aspx.vb`
- `~/About.aspx`
- `~/About.aspx.vb`
- `~/Site.master`
- `~/Site.master.vb`
- `~/Web.config`
- `~/Web.sitemap`
- <span data-ttu-id="bf7f5-178">`Styles` 文件夹的完整内容</span><span class="sxs-lookup"><span data-stu-id="bf7f5-178">The complete contents of the `Styles` folder</span></span>
- <span data-ttu-id="bf7f5-179">`Images` 文件夹（及其子文件夹，`BookCovers`）的完整内容</span><span class="sxs-lookup"><span data-stu-id="bf7f5-179">The complete contents of the `Images` folder (and its subfolder, `BookCovers`)</span></span>
- `~/App_Code/BasePage.vb`
- `~/Fiction/Default.aspx`
- `~/Fiction/Default.aspx.vb`
- `~/Fiction/Blaze.aspx`
- `~/Fiction/Blaze.aspx.vb`
- `~/Tech/Default.aspx`
- `~/Tech/Default.aspx.vb`
- `~/Tech/CYOW.aspx`
- `~/Tech/CYOW.aspx.vb`
- `~/Tech/TYASP35.aspx`
- `~/Tech/TYASP35.aspx.vb`

<span data-ttu-id="bf7f5-180">图3显示了复制所需文件后的 FileZilla。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-180">Figure 3 shows FileZilla after copying up the necessary files.</span></span> <span data-ttu-id="bf7f5-181">如您所见，ASP.NET 源代码文件（如 `About.aspx.vb`）同时存在于本地计算机（开发环境）和 web 主机提供程序（生产环境）上，因为代码文件需要在使用自动编译时进行部署。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-181">As you can see, the ASP.NET source code files, such as `About.aspx.vb`, are present on both the local computer (the development environment) and the web host provider (the production environment) because code files need to be deployed when using automatic compilation.</span></span>

<span data-ttu-id="bf7f5-182">[![使用 FTP 客户端将您的桌面中所需的文件复制到 Web 宿主提供程序中的 Web 服务器](deploying-your-site-using-an-ftp-client-vb/_static/image8.png)](deploying-your-site-using-an-ftp-client-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-182">[![Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider](deploying-your-site-using-an-ftp-client-vb/_static/image8.png)](deploying-your-site-using-an-ftp-client-vb/_static/image7.png)</span></span>

<span data-ttu-id="bf7f5-183">**图 3**：使用 FTP 客户端将您的桌面中所需的文件复制到 Web 宿主提供程序中的 web 服务器（[单击以查看完全大小的图像](deploying-your-site-using-an-ftp-client-vb/_static/image9.png)）</span><span class="sxs-lookup"><span data-stu-id="bf7f5-183">**Figure 3**: Use an FTP Client to Copy the Necessary Files from Your Desktop to the Web Server at the Web Host Provider ([Click to view full-size image](deploying-your-site-using-an-ftp-client-vb/_static/image9.png))</span></span>

<span data-ttu-id="bf7f5-184">应用程序的编译模型不会影响用户体验。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-184">The user experience is not affected by the application's compilation model.</span></span> <span data-ttu-id="bf7f5-185">无论网站是使用 Web 应用程序项目模型还是网站项目模型创建的，相同的 ASP.NET 页面都可访问，其外观和行为都相同。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-185">The same ASP.NET pages are accessible and they look and behave the same whether the website was created using the Web Application Project model or the Web Site Project model.</span></span>

## <a name="updating-a-web-application-on-production"></a><span data-ttu-id="bf7f5-186">在生产环境中更新 Web 应用程序</span><span class="sxs-lookup"><span data-stu-id="bf7f5-186">Updating a Web Application on Production</span></span>

<span data-ttu-id="bf7f5-187">Web 应用程序开发和部署不是一次性过程。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-187">Web application development and deployment are not a one-time process.</span></span> <span data-ttu-id="bf7f5-188">例如，在创建书籍检查网站时，我生成了各种页面，并在个人计算机（开发环境）上编写了随附的代码。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-188">For example, when creating the Book Review website I built the various pages and wrote the accompanying code on my personal computer (the development environment).</span></span> <span data-ttu-id="bf7f5-189">在达到某个稳定状态后，我部署了应用程序，以便其他人可以访问该网站并阅读我的评论。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-189">After reaching a certain stable state, I deployed my application so that others could visit the site and read my reviews.</span></span> <span data-ttu-id="bf7f5-190">但部署不会在此站点上标记我的开发结束。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-190">But deployment does not mark the end of my development on this site.</span></span> <span data-ttu-id="bf7f5-191">我可以添加更多书籍评论或实施新功能，例如允许我的访客对书籍进行评级或离开他们自己的意见。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-191">I may add more book reviews or implement new features, such as allowing my visitors to rate books or leave their own comments.</span></span> <span data-ttu-id="bf7f5-192">此类增强功能将在开发环境中开发，完成后，需要进行部署。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-192">Such enhancements would be developed on the development environment and, when completed, would need to be deployed.</span></span> <span data-ttu-id="bf7f5-193">因此，开发和部署是循环的。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-193">Development and deployment, therefore, are cyclical.</span></span> <span data-ttu-id="bf7f5-194">开发应用程序，然后将其部署。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-194">You develop an application and then deploy it.</span></span> <span data-ttu-id="bf7f5-195">当站点处于活动阶段和生产环境中时，会添加新功能，并随着时间的推移固定 bug，这就需要重新部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-195">While the site is live and in production, new features are added and bugs are fixed over time, which necessitates re-deploying the application.</span></span> <span data-ttu-id="bf7f5-196">依此类推。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-196">And so on and so on.</span></span>

<span data-ttu-id="bf7f5-197">正如您所料，在重新部署 web 应用程序时，只需要复制新文件和更改的文件。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-197">As you might expect, when re-deploying a web application you only need to copy new and changed files.</span></span> <span data-ttu-id="bf7f5-198">无需重新部署未更改的页面或服务器端或客户端支持文件（虽然这样做不会有任何损害）。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-198">There's no need to re-deploy unchanged pages or server- or client-side support files (although there's no harm in doing so).</span></span>

> [!NOTE]
> <span data-ttu-id="bf7f5-199">使用显式编译时需要注意的一点是，每当向项目添加新的 ASP.NET 页或进行任何与代码相关的更改时，都需要重新生成项目，该项目将更新 `Bin` 文件夹中的程序集。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-199">One thing to keep in mind when using explicit compilation is that anytime you add a new ASP.NET page to the project or make any code-related changes, you need to rebuild your project, which updates the assembly in the `Bin` folder.</span></span> <span data-ttu-id="bf7f5-200">因此，在生产环境中更新 web 应用程序时，您需要将此更新的程序集复制到生产环境中。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-200">Consequently, you'll need to copy this updated assembly to production when updating a web application on production (along with the other new and updated content).</span></span>

<span data-ttu-id="bf7f5-201">还要了解，对 `Web.config` 或 `Bin` 目录中的文件所做的任何更改都将停止并重新启动网站的应用程序池。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-201">Also understand that any changes to the `Web.config` or the files in the `Bin` directory stops and restarts the website's Application Pool.</span></span> <span data-ttu-id="bf7f5-202">如果使用 `InProc` 模式（默认值）存储会话状态，则每当修改这些密钥文件时，网站的访问者都将失去其会话状态。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-202">If your session state is stored using the `InProc` mode (the default) then your site's visitors will lose their session state whenever these key files are modified.</span></span> <span data-ttu-id="bf7f5-203">若要避免这种情况，请考虑使用 `StateServer` 或 `SQLServer` 模式存储会话。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-203">To avoid this pitfall, consider storing session using the `StateServer` or `SQLServer` modes.</span></span> <span data-ttu-id="bf7f5-204">有关本主题的详细信息，请阅读[会话状态模式](https://msdn.microsoft.com/library/ms178586.aspx)。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-204">For more information on this topic read [Session-State Modes](https://msdn.microsoft.com/library/ms178586.aspx).</span></span>

<span data-ttu-id="bf7f5-205">最后，请记住，重新部署应用程序可能需要几秒钟到几分钟的时间，具体取决于需要复制到生产环境中的文件的数量和大小。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-205">Finally, keep in mind that re-deploying an application can take anywhere from a few seconds to several minutes, depending on the number and size of files that need to be copied to the production environment.</span></span> <span data-ttu-id="bf7f5-206">在此期间，访问站点的用户可能会遇到错误或错误行为。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-206">During this time users visiting your site may experience errors or odd behavior.</span></span> <span data-ttu-id="bf7f5-207">你可以通过将名为 `App_Offline.htm` 的页添加到应用程序的根目录中来 "关闭" 你的整个应用程序，该目录向用户说明网站关闭进行维护（或任何其他），稍后将进行备份。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-207">You can "turn off" your entire application by adding a page named `App_Offline.htm` to your application's root directory that explains to your users that the site is down for maintenance (or whatever) and will be back up shortly.</span></span> <span data-ttu-id="bf7f5-208">存在 `App_Offline.htm` 文件时，ASP.NET 运行时会将所有传入请求重定向到该页面。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-208">When the `App_Offline.htm` file is present, the ASP.NET runtime redirects all incoming requests to that page.</span></span>

## <a name="summary"></a><span data-ttu-id="bf7f5-209">摘要</span><span class="sxs-lookup"><span data-stu-id="bf7f5-209">Summary</span></span>

<span data-ttu-id="bf7f5-210">部署 web 应用程序需要将所需的文件从开发环境复制到生产环境。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-210">Deploying a web application entails copying the necessary files from the development environment to the production environment.</span></span> <span data-ttu-id="bf7f5-211">通过网络传输文件的最常见方式是文件传输协议（FTP），大多数 web 主机提供程序支持对其 web 服务器的 FTP 访问。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-211">The most common means by which files are transferred over a network is the File Transfer Protocol (FTP), and most web host providers support FTP access to their web servers.</span></span> <span data-ttu-id="bf7f5-212">在本教程中，我们介绍了如何使用 FTP 客户端将所需文件部署到 web 服务器。</span><span class="sxs-lookup"><span data-stu-id="bf7f5-212">In this tutorial we saw how to use an FTP client to deploy the needed files to the web server.</span></span> <span data-ttu-id="bf7f5-213">部署后，任何连接到 Internet 的人都可以访问该网站！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-213">Once deployed, the website can be visited by anyone with a connection to the Internet!</span></span>

<span data-ttu-id="bf7f5-214">很高兴编程！</span><span class="sxs-lookup"><span data-stu-id="bf7f5-214">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="bf7f5-215">其他阅读材料</span><span class="sxs-lookup"><span data-stu-id="bf7f5-215">Further Reading</span></span>

<span data-ttu-id="bf7f5-216">有关本教程中讨论的主题的详细信息，请参阅以下资源：</span><span class="sxs-lookup"><span data-stu-id="bf7f5-216">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="bf7f5-217">应用\_脱机，并避开 "IE 友好错误" 功能</span><span class="sxs-lookup"><span data-stu-id="bf7f5-217">App\_Offline.htm and Working Around the "IE Friendly Errors" Feature</span></span>](https://weblogs.asp.net/scottgu/App_5F00_Offline.htm-and-working-around-the-_2200_IE-Friendly-Errors_2200_-feature)
- [<span data-ttu-id="bf7f5-218">会话状态模式</span><span class="sxs-lookup"><span data-stu-id="bf7f5-218">Session-State Modes</span></span>](https://msdn.microsoft.com/library/ms178586.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="bf7f5-219">[上一页](determining-what-files-need-to-be-deployed-vb.md)
> [下一页](deploying-your-site-using-visual-studio-vb.md)</span><span class="sxs-lookup"><span data-stu-id="bf7f5-219">[Previous](determining-what-files-need-to-be-deployed-vb.md)
[Next](deploying-your-site-using-visual-studio-vb.md)</span></span>
