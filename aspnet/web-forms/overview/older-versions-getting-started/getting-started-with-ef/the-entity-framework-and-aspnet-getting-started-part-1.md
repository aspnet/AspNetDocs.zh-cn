---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-1
title: 入门实体框架 4.0 Database First 和 ASP.NET 4 Web 窗体 |Microsoft Docs
author: tdykstra
description: Contoso 大学示例 web 应用程序演示如何使用实体框架4.0 和 Visual Studio 2010 。
ms.author: riande
ms.date: 12/03/2010
ms.assetid: 5cb00916-8f46-491f-be25-4739a615d619
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-1
msc.type: authoredcontent
ms.openlocfilehash: fd88b32ad2a65e5b4c7ead15f0d6dc5dc6e97e75
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78511676"
---
# <a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms"></a><span data-ttu-id="7c13d-103">入门实体框架 4.0 Database First 和 ASP.NET 4 Web 窗体</span><span class="sxs-lookup"><span data-stu-id="7c13d-103">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms</span></span>

<span data-ttu-id="7c13d-104">作者： [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="7c13d-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="7c13d-105">Contoso 大学示例 web 应用程序演示了如何使用实体框架4.0 和 Visual Studio 2010 创建 ASP.NET Web 窗体应用程序。</span><span class="sxs-lookup"><span data-stu-id="7c13d-105">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="7c13d-106">该示例应用程序是一个虚构的 Contoso 大学的网站。</span><span class="sxs-lookup"><span data-stu-id="7c13d-106">The sample application is a website for a fictional Contoso University.</span></span> <span data-ttu-id="7c13d-107">它包括诸如学生入学、 课程创建和导师分配等功能。</span><span class="sxs-lookup"><span data-stu-id="7c13d-107">It includes functionality such as student admission, course creation, and instructor assignments.</span></span>
> 
> <span data-ttu-id="7c13d-108">本教程演示中C#的示例。</span><span class="sxs-lookup"><span data-stu-id="7c13d-108">The tutorial shows examples in C#.</span></span> <span data-ttu-id="7c13d-109">[可下载的示例](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a)包含C#和 Visual Basic 中的代码。</span><span class="sxs-lookup"><span data-stu-id="7c13d-109">The [downloadable sample](https://code.msdn.microsoft.com/ASPNET-Web-Forms-97f8ee9a) contains code in both C# and Visual Basic.</span></span>
> 
> ## <a name="database-first"></a><span data-ttu-id="7c13d-110">Database First</span><span class="sxs-lookup"><span data-stu-id="7c13d-110">Database First</span></span>
> 
> <span data-ttu-id="7c13d-111">可以通过三种方式使用实体框架中的数据： *Database First*、 *Model First*和*Code First*。</span><span class="sxs-lookup"><span data-stu-id="7c13d-111">There are three ways you can work with data in the Entity Framework: *Database First*, *Model First*, and *Code First*.</span></span> <span data-ttu-id="7c13d-112">本教程适用于 Database First。</span><span class="sxs-lookup"><span data-stu-id="7c13d-112">This tutorial is for Database First.</span></span> <span data-ttu-id="7c13d-113">有关这些工作流之间的差异以及如何为你的方案选择最佳方案的指南的信息，请参阅[实体框架开发工作流](https://msdn.microsoft.com/library/ms178359.aspx#dbfmfcf)。</span><span class="sxs-lookup"><span data-stu-id="7c13d-113">For information about the differences between these workflows and guidance on how to choose the best one for your scenario, see [Entity Framework Development Workflows](https://msdn.microsoft.com/library/ms178359.aspx#dbfmfcf).</span></span>
> 
> ## <a name="web-forms"></a><span data-ttu-id="7c13d-114">Web Forms — Web 窗体</span><span class="sxs-lookup"><span data-stu-id="7c13d-114">Web Forms</span></span>
> 
> <span data-ttu-id="7c13d-115">本教程系列使用 ASP.NET Web 窗体模型，并假设你知道如何在 Visual Studio 中使用 ASP.NET Web 窗体。</span><span class="sxs-lookup"><span data-stu-id="7c13d-115">This tutorial series uses the ASP.NET Web Forms model and assumes you know how to work with ASP.NET Web Forms in Visual Studio.</span></span> <span data-ttu-id="7c13d-116">否则，请参阅[ASP.NET 4.5 Web Forms 入门](../../getting-started/getting-started-with-aspnet-45-web-forms/introduction-and-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="7c13d-116">If you don't, see [Getting Started with ASP.NET 4.5 Web Forms](../../getting-started/getting-started-with-aspnet-45-web-forms/introduction-and-overview.md).</span></span> <span data-ttu-id="7c13d-117">如果希望使用 ASP.NET MVC 框架，请参阅[使用 ASP.NET mvc 入门与实体框架](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md)。</span><span class="sxs-lookup"><span data-stu-id="7c13d-117">If you prefer to work with the ASP.NET MVC framework, see [Getting Started with the Entity Framework using ASP.NET MVC](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/creating-an-entity-framework-data-model-for-an-asp-net-mvc-application.md).</span></span>
> 
> ## <a name="software-versions"></a><span data-ttu-id="7c13d-118">软件版本</span><span class="sxs-lookup"><span data-stu-id="7c13d-118">Software versions</span></span>
> 
> | <span data-ttu-id="7c13d-119">**教程中所示**</span><span class="sxs-lookup"><span data-stu-id="7c13d-119">**Shown in the tutorial**</span></span> | <span data-ttu-id="7c13d-120">**还适用于**</span><span class="sxs-lookup"><span data-stu-id="7c13d-120">**Also works with**</span></span> |
> | --- | --- |
> | <span data-ttu-id="7c13d-121">Windows 7</span><span class="sxs-lookup"><span data-stu-id="7c13d-121">Windows 7</span></span> | <span data-ttu-id="7c13d-122">Windows 8</span><span class="sxs-lookup"><span data-stu-id="7c13d-122">Windows 8</span></span> |
> | <span data-ttu-id="7c13d-123">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="7c13d-123">Visual Studio 2010</span></span> | <span data-ttu-id="7c13d-124">Visual Studio 2010 Express for Web。</span><span class="sxs-lookup"><span data-stu-id="7c13d-124">Visual Studio 2010 Express for Web.</span></span> <span data-ttu-id="7c13d-125">本教程尚未通过更高版本的 Visual Studio 进行测试。</span><span class="sxs-lookup"><span data-stu-id="7c13d-125">The tutorial has not been tested with later versions of Visual Studio.</span></span> <span data-ttu-id="7c13d-126">菜单选择、对话框和模板有很多不同之处。</span><span class="sxs-lookup"><span data-stu-id="7c13d-126">There are many differences in menu selections, dialog boxes, and templates.</span></span> |
> | <span data-ttu-id="7c13d-127">.NET 4</span><span class="sxs-lookup"><span data-stu-id="7c13d-127">.NET 4</span></span> | <span data-ttu-id="7c13d-128">.NET 4.5 向后兼容 .NET 4，但本教程尚未通过 .NET 4.5 进行测试。</span><span class="sxs-lookup"><span data-stu-id="7c13d-128">.NET 4.5 is backward compatible with .NET 4, but the tutorial has not been tested with .NET 4.5.</span></span> |
> | <span data-ttu-id="7c13d-129">实体框架4</span><span class="sxs-lookup"><span data-stu-id="7c13d-129">Entity Framework 4</span></span> | <span data-ttu-id="7c13d-130">本教程尚未测试实体框架的更高版本。</span><span class="sxs-lookup"><span data-stu-id="7c13d-130">The tutorial has not been tested with later versions of Entity Framework.</span></span> <span data-ttu-id="7c13d-131">从实体框架5开始，EF 默认使用 EF 4.1 引入的 `DbContext API`。</span><span class="sxs-lookup"><span data-stu-id="7c13d-131">Starting with Entity Framework 5, EF uses by default the `DbContext API` that was introduced with EF 4.1.</span></span> <span data-ttu-id="7c13d-132">EntityDataSource 控件设计为使用 `ObjectContext` API。</span><span class="sxs-lookup"><span data-stu-id="7c13d-132">The EntityDataSource control was designed to use the `ObjectContext` API.</span></span> <span data-ttu-id="7c13d-133">有关如何将 EntityDataSource 控件与 `DbContext` API 一起使用的信息，请参阅[此博客文章](https://blogs.msdn.com/b/webdev/archive/2012/09/13/how-to-use-the-entitydatasource-control-with-entity-framework-code-first.aspx)。</span><span class="sxs-lookup"><span data-stu-id="7c13d-133">For information about how to use the EntityDataSource control with the `DbContext` API, see [this blog post](https://blogs.msdn.com/b/webdev/archive/2012/09/13/how-to-use-the-entitydatasource-control-with-entity-framework-code-first.aspx).</span></span> |
> 
> ## <a name="questions"></a><span data-ttu-id="7c13d-134">问题</span><span class="sxs-lookup"><span data-stu-id="7c13d-134">Questions</span></span>
> 
> <span data-ttu-id="7c13d-135">如果你有与本教程不直接相关的问题，则可以将其发布到[ASP.NET 实体框架论坛](https://forums.asp.net/1227.aspx)、[实体框架和 LINQ to Entities 论坛](https://social.msdn.microsoft.com/forums/adodotnetentityframework/threads/)，或[StackOverflow.com](http://stackoverflow.com/)。</span><span class="sxs-lookup"><span data-stu-id="7c13d-135">If you have questions that are not directly related to the tutorial, you can post them to the [ASP.NET Entity Framework forum](https://forums.asp.net/1227.aspx), the [Entity Framework and LINQ to Entities forum](https://social.msdn.microsoft.com/forums/adodotnetentityframework/threads/), or [StackOverflow.com](http://stackoverflow.com/).</span></span>

## <a name="overview"></a><span data-ttu-id="7c13d-136">概述</span><span class="sxs-lookup"><span data-stu-id="7c13d-136">Overview</span></span>

<span data-ttu-id="7c13d-137">你将在这些教程中构建的应用程序是一个简单的大学网站。</span><span class="sxs-lookup"><span data-stu-id="7c13d-137">The application you'll be building in these tutorials is a simple university website.</span></span>

<span data-ttu-id="7c13d-138">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-138">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image1.png)</span></span>

<span data-ttu-id="7c13d-139">用户可以查看和更新学生、 课程和教师信息。</span><span class="sxs-lookup"><span data-stu-id="7c13d-139">Users can view and update student, course, and instructor information.</span></span> <span data-ttu-id="7c13d-140">下面显示了你将创建的几个屏幕。</span><span class="sxs-lookup"><span data-stu-id="7c13d-140">A few of the screens you'll create are shown below.</span></span>

<span data-ttu-id="7c13d-141">[![Image30](the-entity-framework-and-aspnet-getting-started-part-1/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-141">[![Image30](the-entity-framework-and-aspnet-getting-started-part-1/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image3.png)</span></span>

<span data-ttu-id="7c13d-142">[![Image37](the-entity-framework-and-aspnet-getting-started-part-1/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-142">[![Image37](the-entity-framework-and-aspnet-getting-started-part-1/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image5.png)</span></span>

<span data-ttu-id="7c13d-143">[![Image31](the-entity-framework-and-aspnet-getting-started-part-1/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-143">[![Image31](the-entity-framework-and-aspnet-getting-started-part-1/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image7.png)</span></span>

<span data-ttu-id="7c13d-144">[![Image32](the-entity-framework-and-aspnet-getting-started-part-1/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-144">[![Image32](the-entity-framework-and-aspnet-getting-started-part-1/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image9.png)</span></span>

## <a name="creating-the-web-application"></a><span data-ttu-id="7c13d-145">创建 Web 应用程序</span><span class="sxs-lookup"><span data-stu-id="7c13d-145">Creating the Web Application</span></span>

<span data-ttu-id="7c13d-146">若要开始学习本教程，请打开 Visual Studio，然后使用**ASP.NET Web 应用程序**模板创建新的 ASP.NET Web 应用程序项目：</span><span class="sxs-lookup"><span data-stu-id="7c13d-146">To start the tutorial, open Visual Studio and then create a new ASP.NET Web Application Project using the **ASP.NET Web Application** template:</span></span>

<span data-ttu-id="7c13d-147">[![Image01](the-entity-framework-and-aspnet-getting-started-part-1/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-147">[![Image01](the-entity-framework-and-aspnet-getting-started-part-1/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image11.png)</span></span>

<span data-ttu-id="7c13d-148">此模板创建已包含样式表和母版页的 web 应用程序项目：</span><span class="sxs-lookup"><span data-stu-id="7c13d-148">This template creates a web application project that already includes a style sheet and master pages:</span></span>

<span data-ttu-id="7c13d-149">[![Image02](the-entity-framework-and-aspnet-getting-started-part-1/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-149">[![Image02](the-entity-framework-and-aspnet-getting-started-part-1/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image13.png)</span></span>

<span data-ttu-id="7c13d-150">打开*网站 .master*文件，将 "My ASP.NET Application" 更改为 "Contoso 大学"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-150">Open the *Site.Master* file and change "My ASP.NET Application" to "Contoso University".</span></span>

[!code-html[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample1.html)]

<span data-ttu-id="7c13d-151">找到名为 `NavigationMenu` 的*菜单*控件，并将其替换为以下标记，该标记将为要创建的页添加菜单项。</span><span class="sxs-lookup"><span data-stu-id="7c13d-151">Find the *Menu* control named `NavigationMenu` and replace it with the following markup, which adds menu items for the pages you'll be creating.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample2.aspx)]

<span data-ttu-id="7c13d-152">打开*default.aspx*页，将名为 `BodyContent` 的 `Content` 控件更改为：</span><span class="sxs-lookup"><span data-stu-id="7c13d-152">Open the *Default.aspx* page and change the `Content` control named `BodyContent` to this:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-1/samples/sample3.aspx)]

<span data-ttu-id="7c13d-153">现在，你有了一个简单的主页，其中包含指向要创建的各个页面的链接：</span><span class="sxs-lookup"><span data-stu-id="7c13d-153">You now have a simple home page with links to the various pages that you'll be creating:</span></span>

<span data-ttu-id="7c13d-154">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-154">[![Image03](the-entity-framework-and-aspnet-getting-started-part-1/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image15.png)</span></span>

## <a name="creating-the-database"></a><span data-ttu-id="7c13d-155">创建数据库</span><span class="sxs-lookup"><span data-stu-id="7c13d-155">Creating the Database</span></span>

<span data-ttu-id="7c13d-156">对于这些教程，您将使用实体框架数据模型设计器自动基于现有数据库创建数据模型（通常称为*数据库优先*的方法）。</span><span class="sxs-lookup"><span data-stu-id="7c13d-156">For these tutorials, you'll use the Entity Framework data model designer to automatically create the data model based on an existing database (often called the *database-first* approach).</span></span> <span data-ttu-id="7c13d-157">本系列教程未涵盖的替代方法是手动创建数据模型，然后让设计器生成用于创建数据库的脚本（*模型优先*的方法）。</span><span class="sxs-lookup"><span data-stu-id="7c13d-157">An alternative that's not covered in this tutorial series is to create the data model manually and then have the designer generate scripts that create the database (the *model-first* approach).</span></span>

<span data-ttu-id="7c13d-158">对于本教程中使用的数据库优先方法，下一步是将数据库添加到站点。</span><span class="sxs-lookup"><span data-stu-id="7c13d-158">For the database-first method used in this tutorial, the next step is to add a database to the site.</span></span> <span data-ttu-id="7c13d-159">最简单的方法是先下载本教程中的项目。</span><span class="sxs-lookup"><span data-stu-id="7c13d-159">The easiest way is to first download the project that goes with this tutorial.</span></span> <span data-ttu-id="7c13d-160">然后右键单击 "*应用\_Data* " 文件夹，选择 "**添加现有项**"，然后从下载的项目中选择*School .mdf*数据库文件。</span><span class="sxs-lookup"><span data-stu-id="7c13d-160">Then right-click the *App\_Data* folder, select **Add Existing Item**, and select the *School.mdf* database file from the downloaded project.</span></span>

<span data-ttu-id="7c13d-161">一种替代方法是按照[创建 School 示例数据库](https://msdn.microsoft.com/library/bb399731.aspx)中的说明进行操作。</span><span class="sxs-lookup"><span data-stu-id="7c13d-161">An alternative is to follow the instructions at [Creating the School Sample Database](https://msdn.microsoft.com/library/bb399731.aspx).</span></span> <span data-ttu-id="7c13d-162">无论是下载数据库还是创建数据库，请将以下文件夹中的*School .mdf*文件复制到应用程序的应用程序 *\_Data*文件夹：</span><span class="sxs-lookup"><span data-stu-id="7c13d-162">Whether you download the database or create it, copy the *School.mdf* file from the following folder to your application's *App\_Data* folder:</span></span>

`%PROGRAMFILES%\Microsoft SQL Server\MSSQL10.SQLEXPRESS\MSSQL\DATA`

<span data-ttu-id="7c13d-163">（此 *.mdf*文件的位置假设你使用 SQL Server 2008 Express。）</span><span class="sxs-lookup"><span data-stu-id="7c13d-163">(This location of the *.mdf* file assumes you're using SQL Server 2008 Express.)</span></span>

<span data-ttu-id="7c13d-164">如果从脚本创建数据库，请执行以下步骤来创建数据库关系图：</span><span class="sxs-lookup"><span data-stu-id="7c13d-164">If you create the database from a script, perform the following steps to create a database diagram:</span></span>

1. <span data-ttu-id="7c13d-165">在**服务器资源管理器**中，展开 "**数据连接**"，展开 " *School*"，右键单击 "**数据库关系图**"，然后选择 "**添加新关系图**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-165">In **Server Explorer**, expand **Data Connections**, expand *School.mdf*, right-click **Database Diagrams**, and select **Add New Diagram**.</span></span>

    <span data-ttu-id="7c13d-166">[![Image35](the-entity-framework-and-aspnet-getting-started-part-1/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-166">[![Image35](the-entity-framework-and-aspnet-getting-started-part-1/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image17.png)</span></span>
2. <span data-ttu-id="7c13d-167">选择所有表，然后单击 "**添加**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-167">Select all of the tables and then click **Add**.</span></span>

    <span data-ttu-id="7c13d-168">[![Image36](the-entity-framework-and-aspnet-getting-started-part-1/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-168">[![Image36](the-entity-framework-and-aspnet-getting-started-part-1/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image19.png)</span></span>

    <span data-ttu-id="7c13d-169">SQL Server 创建一个数据库关系图，该关系图显示表、表中的列以及表之间的关系。</span><span class="sxs-lookup"><span data-stu-id="7c13d-169">SQL Server creates a database diagram that shows tables, columns in the tables, and relationships between the tables.</span></span> <span data-ttu-id="7c13d-170">您可以根据自己的需要移动表以对它们进行组织。</span><span class="sxs-lookup"><span data-stu-id="7c13d-170">You can move the tables around to organize them however you like.</span></span>
3. <span data-ttu-id="7c13d-171">将关系图保存为 "SchoolDiagram" 并将其关闭。</span><span class="sxs-lookup"><span data-stu-id="7c13d-171">Save the diagram as "SchoolDiagram" and close it.</span></span>

<span data-ttu-id="7c13d-172">如果下载本教程附带的*School .mdf*文件，则可以通过在**服务器资源管理器**中的 "**数据库关系图**" 下双击**SchoolDiagram**来查看数据库关系图。</span><span class="sxs-lookup"><span data-stu-id="7c13d-172">If you download the *School.mdf* file that goes with this tutorial, you can view the database diagram by double-clicking **SchoolDiagram** under **Database Diagrams** in **Server Explorer**.</span></span>

<span data-ttu-id="7c13d-173">[![Image38](the-entity-framework-and-aspnet-getting-started-part-1/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-173">[![Image38](the-entity-framework-and-aspnet-getting-started-part-1/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image21.png)</span></span>

<span data-ttu-id="7c13d-174">关系图看起来类似于下面这样的内容（表可能位于不同位置，如下所示）：</span><span class="sxs-lookup"><span data-stu-id="7c13d-174">The diagram looks something like this (the tables might be in different locations from what's shown here):</span></span>

<span data-ttu-id="7c13d-175">[![Image04](the-entity-framework-and-aspnet-getting-started-part-1/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-175">[![Image04](the-entity-framework-and-aspnet-getting-started-part-1/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image23.png)</span></span>

## <a name="creating-the-entity-framework-data-model"></a><span data-ttu-id="7c13d-176">创建实体框架数据模型</span><span class="sxs-lookup"><span data-stu-id="7c13d-176">Creating the Entity Framework Data Model</span></span>

<span data-ttu-id="7c13d-177">现在，您可以从该数据库创建实体框架的数据模型。</span><span class="sxs-lookup"><span data-stu-id="7c13d-177">Now you can create an Entity Framework data model from this database.</span></span> <span data-ttu-id="7c13d-178">您可以在应用程序的根文件夹中创建数据模型，但对于本教程，您需要将其放在名为*DAL*的文件夹（对于数据访问层）中。</span><span class="sxs-lookup"><span data-stu-id="7c13d-178">You could create the data model in the root folder of the application, but for this tutorial you'll place it in a folder named *DAL* (for Data Access Layer).</span></span>

<span data-ttu-id="7c13d-179">在**解决方案资源管理器**中，添加一个名为*DAL*的项目文件夹（确保它位于项目下，而不是在解决方案下）。</span><span class="sxs-lookup"><span data-stu-id="7c13d-179">In **Solution Explorer**, add a project folder named *DAL* (make sure it's under the project, not under the solution).</span></span>

<span data-ttu-id="7c13d-180">右键单击*DAL*文件夹，然后选择 "**添加**" 和 "**新建项**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-180">Right-click the *DAL* folder and then select **Add** and **New Item**.</span></span> <span data-ttu-id="7c13d-181">在 "**已安装的模板**" 下，选择 "**数据**"，选择 " **ADO.NET 实体数据模型**" 模板，将其命名为*SchoolModel*，然后单击 "**添加**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-181">Under **Installed Templates**, select **Data**, select the **ADO.NET Entity Data Model** template, name it *SchoolModel.edmx*, and then click **Add**.</span></span>

<span data-ttu-id="7c13d-182">[![Image05](the-entity-framework-and-aspnet-getting-started-part-1/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-182">[![Image05](the-entity-framework-and-aspnet-getting-started-part-1/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image25.png)</span></span>

<span data-ttu-id="7c13d-183">这将启动实体数据模型向导。</span><span class="sxs-lookup"><span data-stu-id="7c13d-183">This starts the Entity Data Model Wizard.</span></span> <span data-ttu-id="7c13d-184">在第一个向导步骤中，默认情况下将选择 "**从数据库生成**" 选项。</span><span class="sxs-lookup"><span data-stu-id="7c13d-184">In the first wizard step, the **Generate from database** option is selected by default.</span></span> <span data-ttu-id="7c13d-185">单击 **“下一步”** 。</span><span class="sxs-lookup"><span data-stu-id="7c13d-185">Click **Next**.</span></span>

<span data-ttu-id="7c13d-186">[![Image06](the-entity-framework-and-aspnet-getting-started-part-1/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-186">[![Image06](the-entity-framework-and-aspnet-getting-started-part-1/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image27.png)</span></span>

<span data-ttu-id="7c13d-187">在 "**选择你的数据连接**" 步骤中，保留默认值，然后单击 "**下一步**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-187">In the **Choose Your Data Connection** step, leave the default values and click **Next**.</span></span> <span data-ttu-id="7c13d-188">默认情况下，School 数据库处于选中状态，并且连接设置在 web.config*文件中*保存为**SchoolEntities**。</span><span class="sxs-lookup"><span data-stu-id="7c13d-188">The School database is selected by default and the connection setting is saved in the *Web.config* file as **SchoolEntities**.</span></span>

<span data-ttu-id="7c13d-189">[![Image07](the-entity-framework-and-aspnet-getting-started-part-1/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-189">[![Image07](the-entity-framework-and-aspnet-getting-started-part-1/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image29.png)</span></span>

<span data-ttu-id="7c13d-190">在 "**选择数据库对象**" 向导步骤中，选择除 "`sysdiagrams`" 之外的所有表（为之前生成的关系图创建），然后单击 "**完成**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-190">In the **Choose Your Database Objects** wizard step, select all of the tables except `sysdiagrams` (which was created for the diagram you generated earlier) and then click **Finish**.</span></span>

<span data-ttu-id="7c13d-191">[![Image08](the-entity-framework-and-aspnet-getting-started-part-1/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-191">[![Image08](the-entity-framework-and-aspnet-getting-started-part-1/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image31.png)</span></span>

<span data-ttu-id="7c13d-192">模型创建完成后，Visual Studio 将显示与数据库表相对应的实体框架对象（实体）的图形化表示形式。</span><span class="sxs-lookup"><span data-stu-id="7c13d-192">After it's finished creating the model, Visual Studio shows you a graphical representation of the Entity Framework objects (entities) that correspond to your database tables.</span></span> <span data-ttu-id="7c13d-193">（与数据库关系图一样，各个元素的位置可能不同于在此图中看到的内容。</span><span class="sxs-lookup"><span data-stu-id="7c13d-193">(As with the database diagram, the location of individual elements might be different from what you see in this illustration.</span></span> <span data-ttu-id="7c13d-194">如果需要，可以拖动围绕的元素来匹配图。）</span><span class="sxs-lookup"><span data-stu-id="7c13d-194">You can drag the elements around to match the illustration if you want.)</span></span>

<span data-ttu-id="7c13d-195">[![Image09](the-entity-framework-and-aspnet-getting-started-part-1/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-195">[![Image09](the-entity-framework-and-aspnet-getting-started-part-1/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image33.png)</span></span>

## <a name="exploring-the-entity-framework-data-model"></a><span data-ttu-id="7c13d-196">浏览实体框架数据模型</span><span class="sxs-lookup"><span data-stu-id="7c13d-196">Exploring the Entity Framework Data Model</span></span>

<span data-ttu-id="7c13d-197">您可以看到，实体关系图与数据库关系图非常相似，但有几个不同之处。</span><span class="sxs-lookup"><span data-stu-id="7c13d-197">You can see that the entity diagram looks very similar to the database diagram, with a couple of differences.</span></span> <span data-ttu-id="7c13d-198">一个不同之处是在每个关联的末尾添加符号，以指示关联的类型（数据模型中的表关系称为实体关联）：</span><span class="sxs-lookup"><span data-stu-id="7c13d-198">One difference is the addition of symbols at the end of each association that indicate the type of association (table relationships are called entity associations in the data model):</span></span>

- <span data-ttu-id="7c13d-199">一对零或一的关联由 "1" 和 "0 .0" 表示。</span><span class="sxs-lookup"><span data-stu-id="7c13d-199">A one-to-zero-or-one association is represented by "1" and "0..1".</span></span>

    <span data-ttu-id="7c13d-200">[![Image39](the-entity-framework-and-aspnet-getting-started-part-1/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-200">[![Image39](the-entity-framework-and-aspnet-getting-started-part-1/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image35.png)</span></span>

    <span data-ttu-id="7c13d-201">在这种情况下，`Person` 实体不一定与 `OfficeAssignment` 实体相关联。</span><span class="sxs-lookup"><span data-stu-id="7c13d-201">In this case, a `Person` entity may or may not be associated with an `OfficeAssignment` entity.</span></span> <span data-ttu-id="7c13d-202">`OfficeAssignment` 实体必须与 `Person` 实体相关联。</span><span class="sxs-lookup"><span data-stu-id="7c13d-202">An `OfficeAssignment` entity must be associated with a `Person` entity.</span></span> <span data-ttu-id="7c13d-203">换句话说，指导员可以或不能分配到办公室，任何办公室都只能分配给一个教师。</span><span class="sxs-lookup"><span data-stu-id="7c13d-203">In other words, an instructor may or may not be assigned to an office, and any office can be assigned to only one instructor.</span></span>
- <span data-ttu-id="7c13d-204">一对多关联由 "1" 和 "\*" 表示。</span><span class="sxs-lookup"><span data-stu-id="7c13d-204">A one-to-many association is represented by "1" and "\*".</span></span>

    <span data-ttu-id="7c13d-205">[![Image40](the-entity-framework-and-aspnet-getting-started-part-1/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-205">[![Image40](the-entity-framework-and-aspnet-getting-started-part-1/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image37.png)</span></span>

    <span data-ttu-id="7c13d-206">在这种情况下，`Person` 实体不一定有关联的 `StudentGrade` 实体。</span><span class="sxs-lookup"><span data-stu-id="7c13d-206">In this case, a `Person` entity may or may not have associated `StudentGrade` entities.</span></span> <span data-ttu-id="7c13d-207">`StudentGrade` 实体必须与一个 `Person` 实体相关联。</span><span class="sxs-lookup"><span data-stu-id="7c13d-207">A `StudentGrade` entity must be associated with one `Person` entity.</span></span> <span data-ttu-id="7c13d-208">`StudentGrade` 实体实际表示此数据库中的已注册课程;如果学生已在课程中注册，但没有评分，则 `Grade` 属性为 null。</span><span class="sxs-lookup"><span data-stu-id="7c13d-208">`StudentGrade` entities actually represent enrolled courses in this database; if a student is enrolled in a course and there's no grade yet, the `Grade` property is null.</span></span> <span data-ttu-id="7c13d-209">换句话说，一名学生可能尚未注册到任何课程中，可以在一个课程中注册，也可以在多个课程中注册。</span><span class="sxs-lookup"><span data-stu-id="7c13d-209">In other words, a student may not be enrolled in any courses yet, may be enrolled in one course, or may be enrolled in multiple courses.</span></span> <span data-ttu-id="7c13d-210">注册课程中的每个成绩仅适用于一个学生。</span><span class="sxs-lookup"><span data-stu-id="7c13d-210">Each grade in an enrolled course applies to only one student.</span></span>
- <span data-ttu-id="7c13d-211">多对多关联由 "\*" 和 "\*" 表示。</span><span class="sxs-lookup"><span data-stu-id="7c13d-211">A many-to-many association is represented by "\*" and "\*".</span></span>

    <span data-ttu-id="7c13d-212">[![Image41](the-entity-framework-and-aspnet-getting-started-part-1/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-212">[![Image41](the-entity-framework-and-aspnet-getting-started-part-1/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image39.png)</span></span>

    <span data-ttu-id="7c13d-213">在这种情况下，`Person` 实体可能具有也可能不具有关联的 `Course` 实体，反之亦然： `Course` 实体可能具有或没有关联的 `Person` 实体。</span><span class="sxs-lookup"><span data-stu-id="7c13d-213">In this case, a `Person` entity may or may not have associated `Course` entities, and the reverse is also true: a `Course` entity may or may not have associated `Person` entities.</span></span> <span data-ttu-id="7c13d-214">换句话说，讲师可以讲授多个课程，一个课程可能由多个讲师讲授。</span><span class="sxs-lookup"><span data-stu-id="7c13d-214">In other words, an instructor may teach multiple courses, and a course may be taught by multiple instructors.</span></span> <span data-ttu-id="7c13d-215">（在此数据库中，此关系仅适用于讲师; 它不会将学生链接到课程。</span><span class="sxs-lookup"><span data-stu-id="7c13d-215">(In this database, this relationship applies only to instructors; it does not link students to courses.</span></span> <span data-ttu-id="7c13d-216">学生通过 StudentGrades 表链接到课程。）</span><span class="sxs-lookup"><span data-stu-id="7c13d-216">Students are linked to courses by the StudentGrades table.)</span></span>

<span data-ttu-id="7c13d-217">数据库关系图和数据模型之间的另一个差异是每个实体的其他**导航属性**部分。</span><span class="sxs-lookup"><span data-stu-id="7c13d-217">Another difference between the database diagram and the data model is the additional **Navigation Properties** section for each entity.</span></span> <span data-ttu-id="7c13d-218">实体的导航属性引用相关实体。</span><span class="sxs-lookup"><span data-stu-id="7c13d-218">A navigation property of an entity references related entities.</span></span> <span data-ttu-id="7c13d-219">例如，`Person` 实体中的 `Courses` 属性包含与该 `Person` 实体相关的所有 `Course` 实体的集合。</span><span class="sxs-lookup"><span data-stu-id="7c13d-219">For example, the `Courses` property in a `Person` entity contains a collection of all the `Course` entities that are related to that `Person` entity.</span></span>

<span data-ttu-id="7c13d-220">[![Image12](the-entity-framework-and-aspnet-getting-started-part-1/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-220">[![Image12](the-entity-framework-and-aspnet-getting-started-part-1/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image41.png)</span></span>

<span data-ttu-id="7c13d-221">但数据库和数据模型之间的另一个差异在于，数据库中使用的 `CourseInstructor` 关联表与多对多关系中的 `Person` 和 `Course` 表之间没有关联。</span><span class="sxs-lookup"><span data-stu-id="7c13d-221">Yet another difference between the database and data model is the absence of the `CourseInstructor` association table that's used in the database to link the `Person` and `Course` tables in a many-to-many relationship.</span></span> <span data-ttu-id="7c13d-222">使用导航属性，您可以从 "`Person`" 实体和 "`Course`" 实体中的相关 `Person` 实体获取相关 `Course` 实体，因此不需要在数据模型中表示关联表。</span><span class="sxs-lookup"><span data-stu-id="7c13d-222">The navigation properties enable you to get related `Course` entities from the `Person` entity and related `Person` entities from the `Course` entity, so there's no need to represent the association table in the data model.</span></span>

<span data-ttu-id="7c13d-223">[![Image11](the-entity-framework-and-aspnet-getting-started-part-1/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-223">[![Image11](the-entity-framework-and-aspnet-getting-started-part-1/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image43.png)</span></span>

<span data-ttu-id="7c13d-224">出于本教程的目的，假设 `Person` 表的 `FirstName` 列实际包含人员的名字和中间名。</span><span class="sxs-lookup"><span data-stu-id="7c13d-224">For purposes of this tutorial, suppose the `FirstName` column of the `Person` table actually contains both a person's first name and middle name.</span></span> <span data-ttu-id="7c13d-225">您要更改字段的名称以反映这一点，但数据库管理员（DBA）可能不想更改数据库。</span><span class="sxs-lookup"><span data-stu-id="7c13d-225">You want to change the name of the field to reflect this, but the database administrator (DBA) might not want to change the database.</span></span> <span data-ttu-id="7c13d-226">您可以在数据模型中更改 `FirstName` 属性的名称，同时使其数据库的等效项保持不变。</span><span class="sxs-lookup"><span data-stu-id="7c13d-226">You can change the name of the `FirstName` property in the data model, while leaving its database equivalent unchanged.</span></span>

<span data-ttu-id="7c13d-227">在设计器中，右键单击 "`Person`" 实体中的 "**名字**"，然后选择 "**重命名**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-227">In the designer, right-click **FirstName** in the `Person` entity, and then select **Rename**.</span></span>

<span data-ttu-id="7c13d-228">[![Image13](the-entity-framework-and-aspnet-getting-started-part-1/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-228">[![Image13](the-entity-framework-and-aspnet-getting-started-part-1/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image45.png)</span></span>

<span data-ttu-id="7c13d-229">键入新名称 "FirstMidName"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-229">Type in the new name "FirstMidName".</span></span> <span data-ttu-id="7c13d-230">这会改变您在代码中引用列的方式，而无需更改数据库。</span><span class="sxs-lookup"><span data-stu-id="7c13d-230">This changes the way you refer to the column in code without changing the database.</span></span>

<span data-ttu-id="7c13d-231">[![Image29](the-entity-framework-and-aspnet-getting-started-part-1/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-231">[![Image29](the-entity-framework-and-aspnet-getting-started-part-1/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image47.png)</span></span>

<span data-ttu-id="7c13d-232">模型浏览器提供另一种方法来查看数据库结构、数据模型结构以及它们之间的映射。</span><span class="sxs-lookup"><span data-stu-id="7c13d-232">The model browser provides another way to view the database structure, the data model structure, and the mapping between them.</span></span> <span data-ttu-id="7c13d-233">若要查看它，请在实体设计器中右键单击空白区域，然后单击 "**模型浏览器**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-233">To see it, right-click a blank area in the entity designer and then click **Model Browser**.</span></span>

<span data-ttu-id="7c13d-234">[![Image18](the-entity-framework-and-aspnet-getting-started-part-1/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-234">[![Image18](the-entity-framework-and-aspnet-getting-started-part-1/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image49.png)</span></span>

<span data-ttu-id="7c13d-235">"**模型浏览器**" 窗格显示树视图。</span><span class="sxs-lookup"><span data-stu-id="7c13d-235">The **Model Browser** pane displays a tree view.</span></span> <span data-ttu-id="7c13d-236">（"**模型浏览器**" 窗格可能与 "**解决方案资源管理器**" 窗格停靠在一起。）**SchoolModel**节点表示数据模型结构， **SchoolModel**节点表示数据库结构。</span><span class="sxs-lookup"><span data-stu-id="7c13d-236">(The **Model Browser** pane might be docked with the **Solution Explorer** pane.) The **SchoolModel** node represents the data model structure, and the **SchoolModel.Store** node represents the database structure.</span></span>

<span data-ttu-id="7c13d-237">[![Image26](the-entity-framework-and-aspnet-getting-started-part-1/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-237">[![Image26](the-entity-framework-and-aspnet-getting-started-part-1/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image51.png)</span></span>

<span data-ttu-id="7c13d-238">展开**SchoolModel**以查看表，展开 "**表/视图**" 以查看表，然后展开 "**课程**" 以查看表中的列。</span><span class="sxs-lookup"><span data-stu-id="7c13d-238">Expand **SchoolModel.Store** to see the tables, expand **Tables / Views** to see tables, and then expand **Course** to see the columns within a table.</span></span>

<span data-ttu-id="7c13d-239">[![Image19](the-entity-framework-and-aspnet-getting-started-part-1/_static/image54.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image53.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-239">[![Image19](the-entity-framework-and-aspnet-getting-started-part-1/_static/image54.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image53.png)</span></span>

<span data-ttu-id="7c13d-240">展开 " **SchoolModel**"，展开 "**实体类型**"，然后展开 "**课程**" 节点以查看实体和实体中的属性。</span><span class="sxs-lookup"><span data-stu-id="7c13d-240">Expand **SchoolModel**, expand **Entity Types**, and then expand the **Course** node to see the entities and the properties within the entities.</span></span>

<span data-ttu-id="7c13d-241">[![Image20](the-entity-framework-and-aspnet-getting-started-part-1/_static/image56.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image55.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-241">[![Image20](the-entity-framework-and-aspnet-getting-started-part-1/_static/image56.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image55.png)</span></span>

<span data-ttu-id="7c13d-242">在 "设计器" 或 "**模型浏览器**" 窗格中，可以看到实体框架如何将这两个模型的对象相关联。</span><span class="sxs-lookup"><span data-stu-id="7c13d-242">In either the designer or the **Model Browser** pane you can see how the Entity Framework relates the objects of the two models.</span></span> <span data-ttu-id="7c13d-243">右键单击 "`Person`" 实体，然后选择 "**表映射**"。</span><span class="sxs-lookup"><span data-stu-id="7c13d-243">Right-click the `Person` entity and select **Table Mapping**.</span></span>

<span data-ttu-id="7c13d-244">[![Image21](the-entity-framework-and-aspnet-getting-started-part-1/_static/image58.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-244">[![Image21](the-entity-framework-and-aspnet-getting-started-part-1/_static/image58.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image57.png)</span></span>

<span data-ttu-id="7c13d-245">这将打开 "**映射详细信息**" 窗口。</span><span class="sxs-lookup"><span data-stu-id="7c13d-245">This opens the **Mapping Details** window.</span></span> <span data-ttu-id="7c13d-246">请注意，此窗口使你可以看到 `FirstName` 的数据库列映射到数据模型中将其重命名为的 `FirstMidName`。</span><span class="sxs-lookup"><span data-stu-id="7c13d-246">Notice that this window lets you see that the database column `FirstName` is mapped to `FirstMidName`, which is what you renamed it to in the data model.</span></span>

<span data-ttu-id="7c13d-247">[![Image22](the-entity-framework-and-aspnet-getting-started-part-1/_static/image60.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image59.png)</span><span class="sxs-lookup"><span data-stu-id="7c13d-247">[![Image22](the-entity-framework-and-aspnet-getting-started-part-1/_static/image60.png)](the-entity-framework-and-aspnet-getting-started-part-1/_static/image59.png)</span></span>

<span data-ttu-id="7c13d-248">实体框架使用 XML 存储有关数据库、数据模型和它们之间的映射的信息。</span><span class="sxs-lookup"><span data-stu-id="7c13d-248">The Entity Framework uses XML to store information about the database, the data model, and the mappings between them.</span></span> <span data-ttu-id="7c13d-249">*SchoolModel*文件实际上是包含此信息的 XML 文件。</span><span class="sxs-lookup"><span data-stu-id="7c13d-249">The *SchoolModel.edmx* file is actually an XML file that contains this information.</span></span> <span data-ttu-id="7c13d-250">设计器以图形格式呈现信息，但您也可以通过在**解决方案资源管理器**中右键单击 *.edmx*文件，然后单击 "**打开方式**"，然后选择 " **xml （文本）编辑器**"，以 XML 格式查看文件。</span><span class="sxs-lookup"><span data-stu-id="7c13d-250">The designer renders the information in a graphical format, but you can also view the file as XML by right-clicking the *.edmx* file in **Solution Explorer**, clicking **Open With**, and selecting **XML (Text) Editor**.</span></span> <span data-ttu-id="7c13d-251">（数据模型设计器和 XML 编辑器只是打开和使用同一文件的两种不同方式，因此您不能同时打开设计器并在 XML 编辑器中打开该文件。）</span><span class="sxs-lookup"><span data-stu-id="7c13d-251">(The data model designer and an XML editor are just two different ways of opening and working with the same file, so you cannot have the designer open and open the file in an XML editor at the same time.)</span></span>

<span data-ttu-id="7c13d-252">你现在已经创建了一个网站、一个数据库和一个数据模型。</span><span class="sxs-lookup"><span data-stu-id="7c13d-252">You've now created a website, a database, and a data model.</span></span> <span data-ttu-id="7c13d-253">在下一个演练中，你将开始使用数据模型和 ASP.NET `EntityDataSource` 控件处理数据。</span><span class="sxs-lookup"><span data-stu-id="7c13d-253">In the next walkthrough you'll begin working with data using the data model and the ASP.NET `EntityDataSource` control.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="7c13d-254">下一部分</span><span class="sxs-lookup"><span data-stu-id="7c13d-254">Next</span></span>](the-entity-framework-and-aspnet-getting-started-part-2.md)
