---
uid: web-forms/overview/data-access/masterdetail/master-detail-filtering-across-two-pages-cs
title: '跨两个页面的母版/详细信息筛选 (c # ) |Microsoft Docs'
author: rick-anderson
description: 在本教程中，我们将通过使用 GridView 列出数据库中的供应商来实现此模式。 GridView 中的每个供应商行都包含一个视图 .。。
ms.author: riande
ms.date: 03/31/2010
ms.assetid: 552d2d50-fe73-4153-9a7f-2b379bec4625
msc.legacyurl: /web-forms/overview/data-access/masterdetail/master-detail-filtering-across-two-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 9c7391c1ea7ef33febd4c2344cb40ac788a56034
ms.sourcegitcommit: 4e6d586faadbe4d9ef27122f86335ec9385134af
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/28/2020
ms.locfileid: "89045021"
---
# <a name="masterdetail-filtering-across-two-pages-c"></a><span data-ttu-id="97a64-104">跨两个页面的母版/详细信息筛选 (C#)</span><span class="sxs-lookup"><span data-stu-id="97a64-104">Master/Detail Filtering Across Two Pages (C#)</span></span>

<span data-ttu-id="97a64-105">作者： [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="97a64-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="97a64-106">[下载示例应用](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_9_CS.exe) 或 [下载 PDF](master-detail-filtering-across-two-pages-cs/_static/datatutorial09cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="97a64-106">[Download Sample App](https://download.microsoft.com/download/4/6/3/463cf87c-4724-4cbc-b7b5-3f866f43ba50/ASPNET_Data_Tutorial_9_CS.exe) or [Download PDF](master-detail-filtering-across-two-pages-cs/_static/datatutorial09cs1.pdf)</span></span>

> <span data-ttu-id="97a64-107">在本教程中，我们将通过使用 GridView 列出数据库中的供应商来实现此模式。</span><span class="sxs-lookup"><span data-stu-id="97a64-107">In this tutorial we'll implement this pattern by using a GridView to list the suppliers in the database.</span></span> <span data-ttu-id="97a64-108">GridView 中的每个供应商行将包含一个 "查看产品" 链接，单击此链接时，用户将进入单独的页面，其中列出了所选供应商提供的产品。</span><span class="sxs-lookup"><span data-stu-id="97a64-108">Each supplier row in the GridView will contain a View Products link that, when clicked, will take the user to a separate page that lists those products for the selected supplier.</span></span>

## <a name="introduction"></a><span data-ttu-id="97a64-109">简介</span><span class="sxs-lookup"><span data-stu-id="97a64-109">Introduction</span></span>

<span data-ttu-id="97a64-110">在前两个教程中，我们看到了如何 [使用 DropDownLists 在单个网页中显示大纲/详细信息报表](master-detail-filtering-with-a-dropdownlist-cs.md) ，以 [显示 "母版" 记录，并显示 GridView 或 DetailsView 控件](master-detail-filtering-with-two-dropdownlists-cs.md) 以显示 "详细信息"。</span><span class="sxs-lookup"><span data-stu-id="97a64-110">In the previous two tutorials we saw how to [display master/detail reports in a single web page using DropDownLists](master-detail-filtering-with-a-dropdownlist-cs.md) to [display the "master" records and a GridView or DetailsView control](master-detail-filtering-with-two-dropdownlists-cs.md) to display the "details."</span></span> <span data-ttu-id="97a64-111">用于主/详细信息报表的另一种常见模式是在一个网页上创建主记录，并在另一个网页上显示详细信息。</span><span class="sxs-lookup"><span data-stu-id="97a64-111">Another common pattern used for master/details reports is to have the master records on one web page and the details shown on another.</span></span> <span data-ttu-id="97a64-112">类似于 [ASP.NET 论坛](https://forums.asp.net/)的论坛网站是此模式的一个很好的示例。</span><span class="sxs-lookup"><span data-stu-id="97a64-112">A forum website, like [the ASP.NET Forums](https://forums.asp.net/), is a great example of this pattern in practice.</span></span> <span data-ttu-id="97a64-113">ASP.NET 论坛由各种论坛组成入门、Web 窗体、数据呈现控件等。</span><span class="sxs-lookup"><span data-stu-id="97a64-113">The ASP.NET Forums are composed of a variety of forums Getting Started, Web Forms, Data Presentation Controls, and so on.</span></span> <span data-ttu-id="97a64-114">每个论坛由多个线程组成，每个线程由多个帖子组成。</span><span class="sxs-lookup"><span data-stu-id="97a64-114">Each forum is composed of many threads and each thread is composed of a number of posts.</span></span> <span data-ttu-id="97a64-115">ASP.NET 论坛主页上列出了论坛。</span><span class="sxs-lookup"><span data-stu-id="97a64-115">On the ASP.NET Forums homepage, the forums are listed.</span></span> <span data-ttu-id="97a64-116">单击论坛 whisks 您的 `ShowForum.aspx` 页面，其中列出了该论坛的线索。</span><span class="sxs-lookup"><span data-stu-id="97a64-116">Clicking on a forum whisks you to a `ShowForum.aspx` page, which lists the threads for that forum.</span></span> <span data-ttu-id="97a64-117">同样，单击某个线程将转到 `ShowPost.aspx` ，其中显示了所单击的线程的帖子。</span><span class="sxs-lookup"><span data-stu-id="97a64-117">Likewise, clicking on a thread takes you to `ShowPost.aspx`, which displays the posts for the thread that was clicked.</span></span>

<span data-ttu-id="97a64-118">在本教程中，我们将通过使用 GridView 列出数据库中的供应商来实现此模式。</span><span class="sxs-lookup"><span data-stu-id="97a64-118">In this tutorial we'll implement this pattern by using a GridView to list the suppliers in the database.</span></span> <span data-ttu-id="97a64-119">GridView 中的每个供应商行将包含一个 "查看产品" 链接，单击此链接时，用户将进入单独的页面，其中列出了所选供应商提供的产品。</span><span class="sxs-lookup"><span data-stu-id="97a64-119">Each supplier row in the GridView will contain a View Products link that, when clicked, will take the user to a separate page that lists those products for the selected supplier.</span></span>

## <a name="step-1-addingsupplierlistmasteraspxandproductsforsupplierdetailsaspxpages-to-thefilteringfolder"></a><span data-ttu-id="97a64-120">步骤1：将 `SupplierListMaster.aspx` 和 `ProductsForSupplierDetails.aspx` 页面添加到 `Filtering` 文件夹</span><span class="sxs-lookup"><span data-stu-id="97a64-120">Step 1: Adding`SupplierListMaster.aspx`and`ProductsForSupplierDetails.aspx`Pages to the`Filtering`Folder</span></span>

<span data-ttu-id="97a64-121">在第三个教程中定义页面布局时，我们在 `BasicReporting` 、和文件夹中添加了多个 "starter" 页面 `Filtering` `CustomFormatting` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-121">When defining the page layout in the third tutorial we added a number of "starter" pages in the `BasicReporting`, `Filtering`, and `CustomFormatting` folders.</span></span> <span data-ttu-id="97a64-122">但是，我们此时并未添加本教程的入门页面，因此请花点时间将两个新页面添加到该文件夹中 `Filtering` ： `SupplierListMaster.aspx` 和 `ProductsForSupplierDetails.aspx` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-122">However, we did not add a starter page for this tutorial at that time, so take a moment to add two new pages to the `Filtering` folder: `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="97a64-123">`SupplierListMaster.aspx` 将列出供应商)  (的 "主" 记录，并 `ProductsForSupplierDetails.aspx` 显示所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="97a64-123">`SupplierListMaster.aspx` will list the "master" records (the suppliers) while `ProductsForSupplierDetails.aspx` will display the products for the selected supplier.</span></span>

<span data-ttu-id="97a64-124">如果创建这两个新页面，请确保它们与 `Site.master` 母版页关联。</span><span class="sxs-lookup"><span data-stu-id="97a64-124">When creating these two new pages be certain to associate them with the `Site.master` master page.</span></span>

![将 SupplierListMaster 和 ProductsForSupplierDetails 页添加到筛选文件夹](master-detail-filtering-across-two-pages-cs/_static/image1.png)

<span data-ttu-id="97a64-126">**图 1**：将 `SupplierListMaster.aspx` 和 `ProductsForSupplierDetails.aspx` 页面添加到 `Filtering` 文件夹</span><span class="sxs-lookup"><span data-stu-id="97a64-126">**Figure 1**: Add the `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx` Pages to the `Filtering` Folder</span></span>

<span data-ttu-id="97a64-127">另外，在向项目添加新页时，请确保相应地更新站点映射文件 `Web.sitemap` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-127">Also, when adding new pages to the project, be sure to update the site map file, `Web.sitemap`, accordingly.</span></span> <span data-ttu-id="97a64-128">对于本教程，只需 `SupplierListMaster.aspx` 使用以下 XML 内容将页面添加到站点映射，作为筛选报告元素的子 `<siteMapNode>` 元素：</span><span class="sxs-lookup"><span data-stu-id="97a64-128">For this tutorial simply add the `SupplierListMaster.aspx` page to the site map using the following XML content as a child of the Filtering Reports `<siteMapNode>` element:</span></span>

[!code-xml[Main](master-detail-filtering-across-two-pages-cs/samples/sample1.xml)]

> [!NOTE]
> <span data-ttu-id="97a64-129">添加新的 ASP.NET 页面时，可以使用 [Allen](http://odetocode.com/Blogs/scott/)的免费 Visual Studio [站点导航宏](http://odetocode.com/Blogs/scott/archive/2005/11/29/2537.aspx)，帮助自动更新站点映射文件。</span><span class="sxs-lookup"><span data-stu-id="97a64-129">You can help automate the process of updating the site map file when adding new ASP.NET pages using [K. Scott Allen](http://odetocode.com/Blogs/scott/)'s free Visual Studio [Site Map Macro](http://odetocode.com/Blogs/scott/archive/2005/11/29/2537.aspx).</span></span>

## <a name="step-2-displaying-the-supplier-list-insupplierlistmasteraspx"></a><span data-ttu-id="97a64-130">步骤2：在中显示供应商列表`SupplierListMaster.aspx`</span><span class="sxs-lookup"><span data-stu-id="97a64-130">Step 2: Displaying the Supplier List in`SupplierListMaster.aspx`</span></span>

<span data-ttu-id="97a64-131">`SupplierListMaster.aspx` `ProductsForSupplierDetails.aspx` 创建和页面后，下一步是在中创建供应商的 GridView `SupplierListMaster.aspx` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-131">With the `SupplierListMaster.aspx` and `ProductsForSupplierDetails.aspx` pages created, our next step is to create the GridView of suppliers in `SupplierListMaster.aspx`.</span></span> <span data-ttu-id="97a64-132">将 GridView 添加到页面，并将其绑定到新的 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="97a64-132">Add a GridView to the page and bind it to a new ObjectDataSource.</span></span> <span data-ttu-id="97a64-133">此 ObjectDataSource 应使用 `SuppliersBLL` 类的 `GetSuppliers()` 方法来返回所有供应商。</span><span class="sxs-lookup"><span data-stu-id="97a64-133">This ObjectDataSource should use the `SuppliersBLL` class's `GetSuppliers()` method to return all suppliers.</span></span>

<span data-ttu-id="97a64-134">[![选择 SuppliersBLL 类](master-detail-filtering-across-two-pages-cs/_static/image3.png)](master-detail-filtering-across-two-pages-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-134">[![Select the SuppliersBLL Class](master-detail-filtering-across-two-pages-cs/_static/image3.png)](master-detail-filtering-across-two-pages-cs/_static/image2.png)</span></span>

<span data-ttu-id="97a64-135">**图 2**：选择 `SuppliersBLL` 类 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image4.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-135">**Figure 2**: Select the `SuppliersBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image4.png))</span></span>

<span data-ttu-id="97a64-136">[![将 ObjectDataSource 配置为使用 GetSuppliers ( # A1 方法](master-detail-filtering-across-two-pages-cs/_static/image6.png)](master-detail-filtering-across-two-pages-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-136">[![Configure the ObjectDataSource to Use the GetSuppliers() Method](master-detail-filtering-across-two-pages-cs/_static/image6.png)](master-detail-filtering-across-two-pages-cs/_static/image5.png)</span></span>

<span data-ttu-id="97a64-137">**图 3**：将 ObjectDataSource 配置为使用 `GetSuppliers()` 方法 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image7.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-137">**Figure 3**: Configure the ObjectDataSource to Use the `GetSuppliers()` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image7.png))</span></span>

<span data-ttu-id="97a64-138">我们需要在每个 GridView 行中包含一个标题为 "查看产品" 的链接，单击该链接后，用户将 `ProductsForSupplierDetails.aspx` 通过 querystring 传入选定行的 `SupplierID` 值。</span><span class="sxs-lookup"><span data-stu-id="97a64-138">We need to include a link titled View Products in each GridView row that, when clicked, takes the user to `ProductsForSupplierDetails.aspx` passing in the selected row's `SupplierID` value through the querystring.</span></span> <span data-ttu-id="97a64-139">例如，如果用户单击东京商贸供应商的 "查看产品" 链接 (其 `SupplierID` 值为 4) ，则应将其发送到 `ProductsForSupplierDetails.aspx?SupplierID=4` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-139">For example, if user clicks on the View Products link for the Tokyo Traders supplier (which has a `SupplierID` value of 4), they should be sent to `ProductsForSupplierDetails.aspx?SupplierID=4`.</span></span>

<span data-ttu-id="97a64-140">若要实现此目的，请将 [HyperLinkField](https://msdn.microsoft.com/library/system.web.ui.webcontrols.hyperlinkfield.aspx) 添加到 gridview，这会向每个 gridview 行添加一个超链接。</span><span class="sxs-lookup"><span data-stu-id="97a64-140">To accomplish this, add a [HyperLinkField](https://msdn.microsoft.com/library/system.web.ui.webcontrols.hyperlinkfield.aspx) to the GridView, which adds a hyperlink to each GridView row.</span></span> <span data-ttu-id="97a64-141">从 GridView 的智能标记中单击 "编辑列" 链接开始。</span><span class="sxs-lookup"><span data-stu-id="97a64-141">Start by clicking the Edit Columns link from the GridView's smart tag.</span></span> <span data-ttu-id="97a64-142">接下来，从左上角的列表中选择 "HyperLinkField"，然后单击 "添加"，在 GridView 的字段列表中包括 HyperLinkField。</span><span class="sxs-lookup"><span data-stu-id="97a64-142">Next, select the HyperLinkField from the list in the upper left and click Add to include the HyperLinkField in the GridView's field list.</span></span>

<span data-ttu-id="97a64-143">[![向 GridView 添加 HyperLinkField](master-detail-filtering-across-two-pages-cs/_static/image9.png)](master-detail-filtering-across-two-pages-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-143">[![Add a HyperLinkField to the GridView](master-detail-filtering-across-two-pages-cs/_static/image9.png)](master-detail-filtering-across-two-pages-cs/_static/image8.png)</span></span>

<span data-ttu-id="97a64-144">**图 4**：将 HyperLinkField 添加到 GridView ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image10.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-144">**Figure 4**: Add a HyperLinkField to the GridView ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image10.png))</span></span>

<span data-ttu-id="97a64-145">可以将 HyperLinkField 配置为对每个 GridView 行中的链接使用相同的文本或 URL 值，也可以将这些值基于绑定到每个特定行的数据值。</span><span class="sxs-lookup"><span data-stu-id="97a64-145">The HyperLinkField can be configured to use the same text or URL values the link in each GridView row, or can base these values on the data values bound to each particular row.</span></span> <span data-ttu-id="97a64-146">若要在所有行中指定静态值，请使用 HyperLinkField 的 `Text` 或 `NavigateUrl` 属性。</span><span class="sxs-lookup"><span data-stu-id="97a64-146">To specify a static value across all rows use the HyperLinkField's `Text` or `NavigateUrl` properties.</span></span> <span data-ttu-id="97a64-147">由于我们希望所有行的链接文本都是相同的，因此请将 HyperLinkField 的 `Text` 属性设置为 "查看产品"。</span><span class="sxs-lookup"><span data-stu-id="97a64-147">Since we want the link text to be the same for all rows, set the HyperLinkField's `Text` property to View Products.</span></span>

<span data-ttu-id="97a64-148">[![设置 HyperLinkField 的 Text 属性以查看产品](master-detail-filtering-across-two-pages-cs/_static/image12.png)](master-detail-filtering-across-two-pages-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-148">[![Set the HyperLinkField's Text Property to View Products](master-detail-filtering-across-two-pages-cs/_static/image12.png)](master-detail-filtering-across-two-pages-cs/_static/image11.png)</span></span>

<span data-ttu-id="97a64-149">**图 5**：将 "HyperLinkField" `Text` 属性设置为 "查看产品" ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image13.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-149">**Figure 5**: Set the HyperLinkField's `Text` Property to View Products ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image13.png))</span></span>

<span data-ttu-id="97a64-150">若要将文本或 URL 值设置为基于绑定到 GridView 行的基础数据，请指定要在或属性中从其拉取文本或 URL 值的数据字段 `DataTextField` `DataNavigateUrlFields` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-150">To set the text or URL values to be based on the underlying data bound to the GridView row, specify the data fields the text or URL values should be pulled from in the `DataTextField` or `DataNavigateUrlFields` properties.</span></span> <span data-ttu-id="97a64-151">`DataTextField` 只能设置为单个数据字段; `DataNavigateUrlFields`但是，可以将设置为以逗号分隔的数据字段列表。</span><span class="sxs-lookup"><span data-stu-id="97a64-151">`DataTextField` can only be set to a single data field; `DataNavigateUrlFields`, however, can be set to a comma-delimited list of data fields.</span></span> <span data-ttu-id="97a64-152">我们经常需要将文本或 URL 基于当前行的数据字段值和一些静态标记的组合。</span><span class="sxs-lookup"><span data-stu-id="97a64-152">We frequently need to base the text or URL on a combination of the current row's data field value and some static markup.</span></span> <span data-ttu-id="97a64-153">例如，在本教程中，我们希望 HyperLinkField 的链接的 URL 为 `ProductsForSupplierDetails.aspx?SupplierID=supplierID` ，其中 *`supplierID`* 是每个 GridView 的 row's `SupplierID` 值。</span><span class="sxs-lookup"><span data-stu-id="97a64-153">In this tutorial, for example, we want the URL of the HyperLinkField's links to be `ProductsForSupplierDetails.aspx?SupplierID=supplierID`, where *`supplierID`* is each GridView's row's `SupplierID` value.</span></span> <span data-ttu-id="97a64-154">请注意，此处需要静态值和数据驱动值： `ProductsForSupplierDetails.aspx?SupplierID=` 链接的 URL 部分是静态的，而 *`supplierID`* 部分是数据驱动的，因为其值是每行自己的 `SupplierID` 值。</span><span class="sxs-lookup"><span data-stu-id="97a64-154">Notice that we need both static and data-driven values here: the `ProductsForSupplierDetails.aspx?SupplierID=` portion of the link's URL is static, whereas the *`supplierID`* portion is data-driven as its value is each row's own `SupplierID` value.</span></span>

<span data-ttu-id="97a64-155">若要指示静态值和数据驱动的值的组合，请使用 `DataTextFormatString` 和 `DataNavigateUrlFormatString` 属性。</span><span class="sxs-lookup"><span data-stu-id="97a64-155">To indicate a combination of static and data-driven values, use the `DataTextFormatString` and `DataNavigateUrlFormatString` properties.</span></span> <span data-ttu-id="97a64-156">在这些属性中，根据需要输入静态标记，然后在 `{0}` 要显示的或属性中指定的字段值的位置使用标记 `DataTextField` `DataNavigateUrlFields` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-156">In these properties enter the static markup as needed and then use the marker `{0}` where you want the value of the field specified in the `DataTextField` or `DataNavigateUrlFields` properties to appear.</span></span> <span data-ttu-id="97a64-157">如果 `DataNavigateUrlFields` 属性指定了多个字段 `{0}` ，请使用要插入的第一个字段值 `{1}` 的位置，为第二个字段值指定 "使用"。</span><span class="sxs-lookup"><span data-stu-id="97a64-157">If the `DataNavigateUrlFields` property has multiple fields specified use `{0}` where you want the first field value inserted, `{1}` for the second field value, and so on.</span></span>

<span data-ttu-id="97a64-158">在我们的教程中，我们需要将属性设置 `DataNavigateUrlFields` 为 `SupplierID` ，因为这是一个数据字段，需要在每个行的基础上自定义该值，并将 `DataNavigateUrlFormatString` 属性设置为 `ProductsForSupplierDetails.aspx?SupplierID={0}` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-158">Applying this to our tutorial, we need to set the `DataNavigateUrlFields` property to `SupplierID`, since that's the data field whose value we need to customize on a per-row basis, and the `DataNavigateUrlFormatString` property to `ProductsForSupplierDetails.aspx?SupplierID={0}`.</span></span>

<span data-ttu-id="97a64-159">[![将 HyperLinkField 配置为包含基于供应商的正确链接 URL](master-detail-filtering-across-two-pages-cs/_static/image15.png)](master-detail-filtering-across-two-pages-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-159">[![Configure the HyperLinkField to Include the Proper Link URL Based Upon the SupplierID](master-detail-filtering-across-two-pages-cs/_static/image15.png)](master-detail-filtering-across-two-pages-cs/_static/image14.png)</span></span>

<span data-ttu-id="97a64-160">**图 6**：将 HyperLinkField 配置为包含基于 (的正确链接 URL `SupplierID` [单击以查看完全大小的图像](master-detail-filtering-across-two-pages-cs/_static/image16.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-160">**Figure 6**: Configure the HyperLinkField to Include the Proper Link URL Based Upon the `SupplierID` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image16.png))</span></span>

<span data-ttu-id="97a64-161">添加 HyperLinkField 后，可以随意自定义并重新排列 GridView 字段。</span><span class="sxs-lookup"><span data-stu-id="97a64-161">After adding the HyperLinkField, feel free to customize and reorder the GridView's fields.</span></span> <span data-ttu-id="97a64-162">下面的标记显示了一些次要的字段级自定义项后的 GridView。</span><span class="sxs-lookup"><span data-stu-id="97a64-162">The following markup shows the GridView after I've made some minor field-level customizations.</span></span>

[!code-aspx[Main](master-detail-filtering-across-two-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="97a64-163">花点时间查看 `SupplierListMaster.aspx` 浏览器中的页面。</span><span class="sxs-lookup"><span data-stu-id="97a64-163">Take a moment to view the `SupplierListMaster.aspx` page through a browser.</span></span> <span data-ttu-id="97a64-164">如图7所示，页面当前列出了包括 "查看产品" 链接在内的所有供应商。</span><span class="sxs-lookup"><span data-stu-id="97a64-164">As Figure 7 shows, the page currently lists all of the suppliers including a View Products link.</span></span> <span data-ttu-id="97a64-165">单击 "查看产品" 链接会将你转到 `ProductsForSupplierDetails.aspx` ，同时传递 `SupplierID` 查询字符串中的供应商。</span><span class="sxs-lookup"><span data-stu-id="97a64-165">Clicking on the View Products link will take you to `ProductsForSupplierDetails.aspx`, passing along the supplier's `SupplierID` in the querystring.</span></span>

<span data-ttu-id="97a64-166">[![每个供应商行都包含 "查看产品" 链接](master-detail-filtering-across-two-pages-cs/_static/image18.png)](master-detail-filtering-across-two-pages-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-166">[![Each Supplier Row Contains a View Products Link](master-detail-filtering-across-two-pages-cs/_static/image18.png)](master-detail-filtering-across-two-pages-cs/_static/image17.png)</span></span>

<span data-ttu-id="97a64-167">**图 7**：每个供应商行都包含 "查看产品" 链接 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image19.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-167">**Figure 7**: Each Supplier Row Contains a View Products Link ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image19.png))</span></span>

## <a name="step-3-listing-the-suppliers-products-inproductsforsupplierdetailsaspx"></a><span data-ttu-id="97a64-168">步骤3：在中列出供应商的产品`ProductsForSupplierDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="97a64-168">Step 3: Listing the Supplier's Products in`ProductsForSupplierDetails.aspx`</span></span>

<span data-ttu-id="97a64-169">此时， `SupplierListMaster.aspx` 页面会将用户发送到 `ProductsForSupplierDetails.aspx` ，并 `SupplierID` 在查询字符串中传递选定的供应商。</span><span class="sxs-lookup"><span data-stu-id="97a64-169">At this point the `SupplierListMaster.aspx` page is sending users to `ProductsForSupplierDetails.aspx`, passing the selected supplier's `SupplierID` in the querystring.</span></span> <span data-ttu-id="97a64-170">本教程的最后一个步骤是显示 GridView 中的产品， `ProductsForSupplierDetails.aspx` 其 `SupplierID` 等于 `SupplierID` 通过 querystring 传入。</span><span class="sxs-lookup"><span data-stu-id="97a64-170">The tutorial's final step is to display the products in a GridView in `ProductsForSupplierDetails.aspx` whose `SupplierID` equals the `SupplierID` passed in through the querystring.</span></span> <span data-ttu-id="97a64-171">若要实现此目的 `ProductsForSupplierDetails.aspx` ，请使用名为的新 ObjectDataSource 控件 `ProductsBySupplierDataSource` 从类中调用方法，以将一个 GridView 添加到页面 `GetProductsBySupplierID(supplierID)` `ProductsBLL` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-171">To accomplish this start by adding a GridView to the `ProductsForSupplierDetails.aspx` page, using a new ObjectDataSource control named `ProductsBySupplierDataSource` that invokes the `GetProductsBySupplierID(supplierID)` method from the `ProductsBLL` class.</span></span>

<span data-ttu-id="97a64-172">[![添加名为 ProductsBySupplierDataSource 的新 ObjectDataSource](master-detail-filtering-across-two-pages-cs/_static/image21.png)](master-detail-filtering-across-two-pages-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-172">[![Add a New ObjectDataSource Named ProductsBySupplierDataSource](master-detail-filtering-across-two-pages-cs/_static/image21.png)](master-detail-filtering-across-two-pages-cs/_static/image20.png)</span></span>

<span data-ttu-id="97a64-173">**图 8**：添加名为 (的新 ObjectDataSource `ProductsBySupplierDataSource` [单击以查看完全大小的图像](master-detail-filtering-across-two-pages-cs/_static/image22.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-173">**Figure 8**: Add a New ObjectDataSource Named `ProductsBySupplierDataSource` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image22.png))</span></span>

<span data-ttu-id="97a64-174">[![选择 ProductsBLL 类](master-detail-filtering-across-two-pages-cs/_static/image24.png)](master-detail-filtering-across-two-pages-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-174">[![Select the ProductsBLL Class](master-detail-filtering-across-two-pages-cs/_static/image24.png)](master-detail-filtering-across-two-pages-cs/_static/image23.png)</span></span>

<span data-ttu-id="97a64-175">**图 9**：选择 `ProductsBLL` 类 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image25.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-175">**Figure 9**: Select the `ProductsBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image25.png))</span></span>

<span data-ttu-id="97a64-176">[![让 ObjectDataSource 调用 GetProductsBySupplierID (供应商) 方法](master-detail-filtering-across-two-pages-cs/_static/image27.png)](master-detail-filtering-across-two-pages-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-176">[![Have the ObjectDataSource Invoke the GetProductsBySupplierID(supplierID) Method](master-detail-filtering-across-two-pages-cs/_static/image27.png)](master-detail-filtering-across-two-pages-cs/_static/image26.png)</span></span>

<span data-ttu-id="97a64-177">**图 10**：使 ObjectDataSource 调用 `GetProductsBySupplierID(supplierID)` 方法 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image28.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-177">**Figure 10**: Have the ObjectDataSource Invoke the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image28.png))</span></span>

<span data-ttu-id="97a64-178">"配置数据源" 向导的最后一步要求我们提供方法参数的源 `GetProductsBySupplierID(supplierID)` *`supplierID`* 。</span><span class="sxs-lookup"><span data-stu-id="97a64-178">The final step of the Configure Data Source wizard asks us to provide the source of the `GetProductsBySupplierID(supplierID)` method's *`supplierID`* parameter.</span></span> <span data-ttu-id="97a64-179">若要使用查询字符串值，请将参数源设置为 QueryString，然后在 "QueryStringField" 文本框中输入要使用的 querystring 值的名称 (`SupplierID`) 。</span><span class="sxs-lookup"><span data-stu-id="97a64-179">To use the querystring value, set the Parameter source to QueryString and enter the name of the querystring value to use in the QueryStringField textbox (`SupplierID`).</span></span>

<span data-ttu-id="97a64-180">[![从供应商参数值填充供应商参数值](master-detail-filtering-across-two-pages-cs/_static/image30.png)](master-detail-filtering-across-two-pages-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-180">[![Populate the supplierID Parameter Value from the SupplierID Querystring Value](master-detail-filtering-across-two-pages-cs/_static/image30.png)](master-detail-filtering-across-two-pages-cs/_static/image29.png)</span></span>

<span data-ttu-id="97a64-181">**图 11**： *`supplierID`* 从 Querystring 值填充参数值 `SupplierID` ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image31.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-181">**Figure 11**: Populate the *`supplierID`* Parameter Value from the `SupplierID` Querystring Value ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image31.png))</span></span>

<span data-ttu-id="97a64-182">就这么简单！</span><span class="sxs-lookup"><span data-stu-id="97a64-182">That's all there is to it!</span></span> <span data-ttu-id="97a64-183">图 12 `ProductsForSupplierDetails.aspx` 通过单击中的 "东京商贸" 链接进行访问 `SupplierListMaster.aspx` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-183">Figure 12 shows the `ProductsForSupplierDetails.aspx` page when visited by clicking the Tokyo Traders link from `SupplierListMaster.aspx`.</span></span>

<span data-ttu-id="97a64-184">[![东京商贸提供的产品将显示](master-detail-filtering-across-two-pages-cs/_static/image33.png)](master-detail-filtering-across-two-pages-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-184">[![The Products Supplied by Tokyo Traders are Shown](master-detail-filtering-across-two-pages-cs/_static/image33.png)](master-detail-filtering-across-two-pages-cs/_static/image32.png)</span></span>

<span data-ttu-id="97a64-185">**图 12**：按东京商贸提供的产品 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image34.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-185">**Figure 12**: The Products Supplied by Tokyo Traders are Shown ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image34.png))</span></span>

## <a name="displaying-supplier-information-inproductsforsupplierdetailsaspx"></a><span data-ttu-id="97a64-186">显示供应商信息`ProductsForSupplierDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="97a64-186">Displaying Supplier Information in`ProductsForSupplierDetails.aspx`</span></span>

<span data-ttu-id="97a64-187">如图12所示， `ProductsForSupplierDetails.aspx` 该页只列出了 querystring 中指定的所提供的产品 `SupplierID` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-187">As Figure 12 shows, the `ProductsForSupplierDetails.aspx` page simply lists the products that are supplied by the `SupplierID` specified in the querystring.</span></span> <span data-ttu-id="97a64-188">但是，直接发送到此页面的人不知道图12显示了东京商贸的产品。</span><span class="sxs-lookup"><span data-stu-id="97a64-188">Someone sent directly to this page, however, would not know that Figure 12 is showing Tokyo Traders' products.</span></span> <span data-ttu-id="97a64-189">若要解决此情况，还可以在此页中显示供应商信息。</span><span class="sxs-lookup"><span data-stu-id="97a64-189">To remedy this we can display supplier information in this page as well.</span></span>

<span data-ttu-id="97a64-190">首先，将 FormView 添加到 "产品" GridView 之上。</span><span class="sxs-lookup"><span data-stu-id="97a64-190">Start by adding a FormView above the products GridView.</span></span> <span data-ttu-id="97a64-191">创建一个名为的新 ObjectDataSource 控件 `SuppliersDataSource` ，调用 `SuppliersBLL` 类的 `GetSupplierBySupplierID(supplierID)` 方法。</span><span class="sxs-lookup"><span data-stu-id="97a64-191">Create a new ObjectDataSource control named `SuppliersDataSource` that invokes the `SuppliersBLL` class's `GetSupplierBySupplierID(supplierID)` method.</span></span>

<span data-ttu-id="97a64-192">[![选择 SuppliersBLL 类](master-detail-filtering-across-two-pages-cs/_static/image36.png)](master-detail-filtering-across-two-pages-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-192">[![Select the SuppliersBLL Class](master-detail-filtering-across-two-pages-cs/_static/image36.png)](master-detail-filtering-across-two-pages-cs/_static/image35.png)</span></span>

<span data-ttu-id="97a64-193">**图 13**：选择 `SuppliersBLL` 类 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image37.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-193">**Figure 13**: Select the `SuppliersBLL` Class ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image37.png))</span></span>

<span data-ttu-id="97a64-194">[![让 ObjectDataSource 调用 GetSupplierBySupplierID (供应商) 方法](master-detail-filtering-across-two-pages-cs/_static/image39.png)](master-detail-filtering-across-two-pages-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-194">[![Have the ObjectDataSource Invoke the GetSupplierBySupplierID(supplierID) Method](master-detail-filtering-across-two-pages-cs/_static/image39.png)](master-detail-filtering-across-two-pages-cs/_static/image38.png)</span></span>

<span data-ttu-id="97a64-195">**图 14**：让 ObjectDataSource 调用 `GetSupplierBySupplierID(supplierID)` 方法 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image40.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-195">**Figure 14**: Have the ObjectDataSource Invoke the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image40.png))</span></span>

<span data-ttu-id="97a64-196">与一样 `ProductsBySupplierDataSource` ，将 *`supplierID`* 参数分配给 `SupplierID` 查询字符串值的值。</span><span class="sxs-lookup"><span data-stu-id="97a64-196">As with the `ProductsBySupplierDataSource`, have the *`supplierID`* parameter assigned the value of the `SupplierID` querystring value.</span></span>

<span data-ttu-id="97a64-197">[![从供应商参数值填充供应商参数值](master-detail-filtering-across-two-pages-cs/_static/image42.png)](master-detail-filtering-across-two-pages-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-197">[![Populate the supplierID Parameter Value from the SupplierID Querystring Value](master-detail-filtering-across-two-pages-cs/_static/image42.png)](master-detail-filtering-across-two-pages-cs/_static/image41.png)</span></span>

<span data-ttu-id="97a64-198">**图 15**： *`supplierID`* 从 Querystring 值填充参数值 `SupplierID` ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image43.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-198">**Figure 15**: Populate the *`supplierID`* Parameter Value from the `SupplierID` Querystring Value ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image43.png))</span></span>

<span data-ttu-id="97a64-199">将 FormView 绑定到设计视图中的 ObjectDataSource 时，Visual Studio 将自动 `ItemTemplate` `InsertItemTemplate` 为 objectdatasource 返回的每个数据字段创建 FormView 的、和，并 `EditItemTemplate` 为其提供标签和文本框 Web 控件。</span><span class="sxs-lookup"><span data-stu-id="97a64-199">When binding the FormView to the ObjectDataSource in the Design view, Visual Studio will automatically create the FormView's `ItemTemplate`, `InsertItemTemplate`, and `EditItemTemplate` with Label and TextBox Web controls for each of the data fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="97a64-200">由于我们只是想要显示供应商信息，因此可随意删除 `InsertItemTemplate` 和 `EditItemTemplate` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-200">Since we just want to display supplier information feel free to remove the `InsertItemTemplate` and `EditItemTemplate`.</span></span> <span data-ttu-id="97a64-201">接下来，编辑 ItemTemplate，使其在元素中显示供应商的公司名称， `<h3>` 以及公司名称下的地址、城市、国家/地区和电话号码。</span><span class="sxs-lookup"><span data-stu-id="97a64-201">Next, edit the ItemTemplate so that it displays the supplier's company name in an `<h3>` element and the address, city, country, and phone number beneath the company name.</span></span> <span data-ttu-id="97a64-202">或者，你可以手动设置 FormView 的 `DataSourceID` 并创建 `ItemTemplate` 标记，正如我们在 "[通过 ObjectDataSource 显示数据](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)" 教程中所做的那样。</span><span class="sxs-lookup"><span data-stu-id="97a64-202">Alternatively, you can manually set the FormView's `DataSourceID` and create the `ItemTemplate` markup, as we did back in the "[Displaying Data With the ObjectDataSource](../basic-reporting/displaying-data-with-the-objectdatasource-cs.md)" tutorial.</span></span>

<span data-ttu-id="97a64-203">完成编辑后，FormView 的声明性标记应如下所示：</span><span class="sxs-lookup"><span data-stu-id="97a64-203">After these edits the FormView's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](master-detail-filtering-across-two-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="97a64-204">图16显示了此页的屏幕截图，其中 `ProductsForSupplierDetails.aspx` 包含了上述提供的供应商信息。</span><span class="sxs-lookup"><span data-stu-id="97a64-204">Figure 16 shows a screen shot of the `ProductsForSupplierDetails.aspx` page after the supplier information detailed above has been included.</span></span>

<span data-ttu-id="97a64-205">[![产品列表包括有关供应商的摘要](master-detail-filtering-across-two-pages-cs/_static/image45.png)](master-detail-filtering-across-two-pages-cs/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-205">[![The List of Products Includes a Summary About the Supplier](master-detail-filtering-across-two-pages-cs/_static/image45.png)](master-detail-filtering-across-two-pages-cs/_static/image44.png)</span></span>

<span data-ttu-id="97a64-206">**图 16**：产品列表包括有关供应商的摘要 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image46.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-206">**Figure 16**: The List of Products Includes a Summary About the Supplier ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image46.png))</span></span>

## <a name="applying-the-final-touches-for-theproductsforsupplierdetailsaspxui"></a><span data-ttu-id="97a64-207">应用 UI 的最后润色 `ProductsForSupplierDetails.aspx`</span><span class="sxs-lookup"><span data-stu-id="97a64-207">Applying the Final Touches for the`ProductsForSupplierDetails.aspx`UI</span></span>

<span data-ttu-id="97a64-208">若要改善此报表的用户体验，我们应该向页面中添加一些内容 `ProductsForSupplierDetails.aspx` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-208">To improve the user experience for this report there are a couple of additions we ought to make to the `ProductsForSupplierDetails.aspx` page.</span></span> <span data-ttu-id="97a64-209">目前，用户可以从 `ProductsForSupplierDetails.aspx` 页面返回到供应商列表的唯一方式是单击其浏览器的 "后退" 按钮。</span><span class="sxs-lookup"><span data-stu-id="97a64-209">Currently the only way a user can go from the `ProductsForSupplierDetails.aspx` page back to the list of suppliers is to click their browser's back button.</span></span> <span data-ttu-id="97a64-210">让我们将超链接控件添加到 `ProductsForSupplierDetails.aspx` 链接回的页面 `SupplierListMaster.aspx` ，从而为用户返回主列表提供了另一种方法。</span><span class="sxs-lookup"><span data-stu-id="97a64-210">Let's add a HyperLink control to the `ProductsForSupplierDetails.aspx` page that links back to `SupplierListMaster.aspx`, providing another way for the user to return to the master list.</span></span>

<span data-ttu-id="97a64-211">[![添加超链接控件以使用户返回到 SupplierListMaster](master-detail-filtering-across-two-pages-cs/_static/image48.png)](master-detail-filtering-across-two-pages-cs/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-211">[![Add a HyperLink Control to Take the User Back to SupplierListMaster.aspx](master-detail-filtering-across-two-pages-cs/_static/image48.png)](master-detail-filtering-across-two-pages-cs/_static/image47.png)</span></span>

<span data-ttu-id="97a64-212">**图 17**：添加一个超链接控件以使用户回到 `SupplierListMaster.aspx` ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image49.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-212">**Figure 17**: Add a HyperLink Control to Take the User Back to `SupplierListMaster.aspx` ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image49.png))</span></span>

<span data-ttu-id="97a64-213">如果用户单击没有任何产品的供应商的 "查看产品" 链接，则中的 `ProductsBySupplierDataSource` ObjectDataSource `ProductsForSupplierDetails.aspx` 不会返回任何结果。</span><span class="sxs-lookup"><span data-stu-id="97a64-213">If the user clicks on the View Products link for a supplier that doesn't have any products, the `ProductsBySupplierDataSource` ObjectDataSource in `ProductsForSupplierDetails.aspx` won't return any results.</span></span> <span data-ttu-id="97a64-214">绑定到 ObjectDataSource 的 GridView 不会在用户浏览器的页面上呈现导致空白区域的任何标记。</span><span class="sxs-lookup"><span data-stu-id="97a64-214">The GridView bound to the ObjectDataSource won't render any markup resulting in a blank region on the page in the user's browser.</span></span> <span data-ttu-id="97a64-215">为了更清晰地传达给用户，如果没有与所选供应商关联的产品，我们可以将 GridView 的属性设置为在出现 `EmptyDataText` 这种情况时要显示的消息。</span><span class="sxs-lookup"><span data-stu-id="97a64-215">To more clearly communicate to the user that there are no products associated with the selected supplier we can set the GridView's `EmptyDataText` property to the message we want displayed when such a situation arises.</span></span> <span data-ttu-id="97a64-216">我已将此属性设置为 "没有此供应商提供的产品"</span><span class="sxs-lookup"><span data-stu-id="97a64-216">I've set this property to "There are no products provided by this supplier'"</span></span>

<span data-ttu-id="97a64-217">默认情况下，Northwinds 数据库中的所有供应商都至少提供一个产品。</span><span class="sxs-lookup"><span data-stu-id="97a64-217">By default, all suppliers in the Northwinds database provide at least one product.</span></span> <span data-ttu-id="97a64-218">但是，在本教程中，我手动修改了 `Products` 表，以便供应商 Escargots Nouveaux 不再与任何产品关联。</span><span class="sxs-lookup"><span data-stu-id="97a64-218">However, for this tutorial I've manually modified the `Products` table so that the supplier Escargots Nouveaux is no longer associated with any products.</span></span> <span data-ttu-id="97a64-219">图18显示了进行此更改之后，Escargots Nouveaux 的详细信息页。</span><span class="sxs-lookup"><span data-stu-id="97a64-219">Figure 18 shows the details page for Escargots Nouveaux after this change has been made.</span></span>

<span data-ttu-id="97a64-220">[![通知用户供应商未提供任何产品](master-detail-filtering-across-two-pages-cs/_static/image51.png)](master-detail-filtering-across-two-pages-cs/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="97a64-220">[![Users are Informed that the Supplier Doesn't Provide Any Products](master-detail-filtering-across-two-pages-cs/_static/image51.png)](master-detail-filtering-across-two-pages-cs/_static/image50.png)</span></span>

<span data-ttu-id="97a64-221">**图 18**：通知用户供应商未提供任何产品 ([单击查看全尺寸图像](master-detail-filtering-across-two-pages-cs/_static/image52.png)) </span><span class="sxs-lookup"><span data-stu-id="97a64-221">**Figure 18**: Users are Informed that the Supplier Doesn't Provide Any Products ([Click to view full-size image](master-detail-filtering-across-two-pages-cs/_static/image52.png))</span></span>

## <a name="summary"></a><span data-ttu-id="97a64-222">摘要</span><span class="sxs-lookup"><span data-stu-id="97a64-222">Summary</span></span>

<span data-ttu-id="97a64-223">虽然大纲/详细信息报表可以在单个页面上显示主记录和详细记录，但在许多网站中，它们在两个网页之间分隔开。</span><span class="sxs-lookup"><span data-stu-id="97a64-223">While master/detail reports can display both the master and detail records on a single page, in many websites they are separated out across two web pages.</span></span> <span data-ttu-id="97a64-224">在本教程中，我们将介绍如何通过 "主" 网页和 "详细信息" 页中列出的关联产品中列出的供应商，来实现此类主/从报表。</span><span class="sxs-lookup"><span data-stu-id="97a64-224">In this tutorial we looked at how to implement such a master/detail report by having the suppliers listed in a GridView in the "master" web page and the associated products listed in the "details" page.</span></span> <span data-ttu-id="97a64-225">母版页中的每个供应商行都包含一个链接，该链接指向行的值所传递的详细信息页 `SupplierID` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-225">Each supplier row in the master web page contained a link to the details page that passed along the row's `SupplierID` value.</span></span> <span data-ttu-id="97a64-226">使用 GridView 的 HyperLinkField 可以轻松地添加这类特定于行的链接。</span><span class="sxs-lookup"><span data-stu-id="97a64-226">Such row-specific links can be easily added using the GridView's HyperLinkField.</span></span>

<span data-ttu-id="97a64-227">在 "详细信息" 页中，通过调用类的方法来为指定的供应商检索那些产品 `ProductsBLL` `GetProductsBySupplierID(supplierID)` 。</span><span class="sxs-lookup"><span data-stu-id="97a64-227">In the details page retrieving those products for the specified supplier was accomplished by invoking the `ProductsBLL` class's `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="97a64-228">*`supplierID`* 参数值是使用 querystring 作为参数源以声明方式指定的。</span><span class="sxs-lookup"><span data-stu-id="97a64-228">The *`supplierID`* parameter value was specified declaratively using the querystring as the parameter source.</span></span> <span data-ttu-id="97a64-229">还介绍了如何使用 FormView 在详细信息页中显示供应商详细信息。</span><span class="sxs-lookup"><span data-stu-id="97a64-229">We also looked at how to display the supplier details in the details page using a FormView.</span></span>

<span data-ttu-id="97a64-230">我们的 [下一教程](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) 是主/详细信息报表中的最后一个教程。</span><span class="sxs-lookup"><span data-stu-id="97a64-230">Our [next tutorial](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) is the final one on master/detail reports.</span></span> <span data-ttu-id="97a64-231">我们将介绍如何在 GridView 中显示一系列产品，其中每行都有一个 "选择" 按钮。</span><span class="sxs-lookup"><span data-stu-id="97a64-231">We'll look at how to display a list of products in a GridView where each row has a Select button.</span></span> <span data-ttu-id="97a64-232">单击 "选择" 按钮将在同一页面上的 DetailsView 控件中显示该产品的详细信息。</span><span class="sxs-lookup"><span data-stu-id="97a64-232">Clicking on the Select button will display that product's details in a DetailsView control on the same page.</span></span>

<span data-ttu-id="97a64-233">很高兴编程！</span><span class="sxs-lookup"><span data-stu-id="97a64-233">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="97a64-234">关于作者</span><span class="sxs-lookup"><span data-stu-id="97a64-234">About the Author</span></span>

<span data-ttu-id="97a64-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，创始人的 [4GuysFromRolla.com](http://www.4guysfromrolla.com)，已在使用 Microsoft Web 技术，自1998开始。</span><span class="sxs-lookup"><span data-stu-id="97a64-235">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="97a64-236">Scott 的工作方式是独立的顾问、培训师和撰稿人。</span><span class="sxs-lookup"><span data-stu-id="97a64-236">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="97a64-237">他的最新书籍是， [*在24小时内，sam ASP.NET 2.0*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="97a64-237">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="97a64-238">可以到达[ mitchell@4GuysFromRolla.com 。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="97a64-238">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="97a64-239">或者，通过他的博客，可以找到 [http://ScottOnWriting.NET](http://ScottOnWriting.NET) 。</span><span class="sxs-lookup"><span data-stu-id="97a64-239">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="97a64-240">特别感谢</span><span class="sxs-lookup"><span data-stu-id="97a64-240">Special Thanks To</span></span>

<span data-ttu-id="97a64-241">此教程系列由许多有用的审阅者查看。</span><span class="sxs-lookup"><span data-stu-id="97a64-241">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="97a64-242">本教程的主管审查人员是 Hilton Giesenow。</span><span class="sxs-lookup"><span data-stu-id="97a64-242">Lead reviewer for this tutorial was Hilton Giesenow.</span></span> <span data-ttu-id="97a64-243">想要查看我即将发布的 MSDN 文章？</span><span class="sxs-lookup"><span data-stu-id="97a64-243">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="97a64-244">如果是这样，请在中放置一行[ mitchell@4GuysFromRolla.com 。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="97a64-244">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="97a64-245">[上一页](master-detail-filtering-with-two-dropdownlists-cs.md)
> [下一页](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)</span><span class="sxs-lookup"><span data-stu-id="97a64-245">[Previous](master-detail-filtering-with-two-dropdownlists-cs.md)
[Next](master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)</span></span>
