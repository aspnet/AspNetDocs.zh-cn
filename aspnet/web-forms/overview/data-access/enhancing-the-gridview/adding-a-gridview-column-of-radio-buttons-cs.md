---
uid: web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
title: 添加单选按钮（C#）的 GridView 列 |Microsoft Docs
author: rick-anderson
description: 本教程介绍如何向 GridView 控件添加一列单选按钮，以向用户提供一种更直观的方式来选择单个行 。
ms.author: riande
ms.date: 03/06/2007
ms.assetid: 32377145-ec25-4715-8370-a1c590a331d5
msc.legacyurl: /web-forms/overview/data-access/enhancing-the-gridview/adding-a-gridview-column-of-radio-buttons-cs
msc.type: authoredcontent
ms.openlocfilehash: b59cc64b14c6414e6558fdb8a281644db8386701
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78477950"
---
# <a name="adding-a-gridview-column-of-radio-buttons-c"></a><span data-ttu-id="87561-103">添加 GridView 单选按钮列 (C#)</span><span class="sxs-lookup"><span data-stu-id="87561-103">Adding a GridView Column of Radio Buttons (C#)</span></span>

<span data-ttu-id="87561-104">作者： [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="87561-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="87561-105">[下载示例应用](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe)或[下载 PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="87561-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_51_CS.exe) or [Download PDF](adding-a-gridview-column-of-radio-buttons-cs/_static/datatutorial51cs1.pdf)</span></span>

> <span data-ttu-id="87561-106">本教程介绍如何向 GridView 控件添加一列单选按钮，以便为用户提供更直观的方式来选择多个 GridView 行。</span><span class="sxs-lookup"><span data-stu-id="87561-106">This tutorial looks at how to add a column of radio buttons to a GridView control to provide the user with a more intuitive way of selecting a single row of the GridView.</span></span>

## <a name="introduction"></a><span data-ttu-id="87561-107">简介</span><span class="sxs-lookup"><span data-stu-id="87561-107">Introduction</span></span>

<span data-ttu-id="87561-108">GridView 控件提供大量的内置功能。</span><span class="sxs-lookup"><span data-stu-id="87561-108">The GridView control offers a great deal of built-in functionality.</span></span> <span data-ttu-id="87561-109">它包括多个用于显示文本、图像、超链接和按钮的不同字段。</span><span class="sxs-lookup"><span data-stu-id="87561-109">It includes a number of different fields for displaying text, images, hyperlinks, and buttons.</span></span> <span data-ttu-id="87561-110">它支持用于进一步自定义的模板。</span><span class="sxs-lookup"><span data-stu-id="87561-110">It supports templates for further customization.</span></span> <span data-ttu-id="87561-111">只需单击几下鼠标，就能创建一个 GridView，其中每行都可以通过按钮进行选择，或启用编辑或删除功能。</span><span class="sxs-lookup"><span data-stu-id="87561-111">With a few clicks of the mouse, it s possible to make a GridView where each row can be selected via a button, or to enable editing or deleting capabilities.</span></span> <span data-ttu-id="87561-112">尽管很多提供的功能，但在某些情况下，需要添加其他不支持的功能。</span><span class="sxs-lookup"><span data-stu-id="87561-112">Despite the plethora of provided features, there will often be situations in which additional, non-supported features will need to be added.</span></span> <span data-ttu-id="87561-113">在本教程和接下来的两个教程中，我们将探讨如何增强 GridView 的功能以包含其他功能。</span><span class="sxs-lookup"><span data-stu-id="87561-113">In this tutorial and the next two we'll examine how to enhance the GridView s functionality to include additional features.</span></span>

<span data-ttu-id="87561-114">本教程和下一个教程重点介绍如何增强行选择过程。</span><span class="sxs-lookup"><span data-stu-id="87561-114">This tutorial and the next one focus on enhancing the row-selection process.</span></span> <span data-ttu-id="87561-115">如[使用可选的主控 GridView 和详细信息 DetailView 在主/详细信息](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)中进行检查，我们可以将 CommandField 添加到包含 "选择" 按钮的 GridView。</span><span class="sxs-lookup"><span data-stu-id="87561-115">As examined in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md), we can add a CommandField to the GridView that includes a Select button.</span></span> <span data-ttu-id="87561-116">单击 "回发" 时，"`SelectedIndex` 可以" 属性将更新为单击 "选择" 按钮的行的索引。</span><span class="sxs-lookup"><span data-stu-id="87561-116">When clicked, a postback ensues and the GridView s `SelectedIndex` property is updated to the index of the row whose Select button was clicked.</span></span> <span data-ttu-id="87561-117">在[主/详细信息中，使用可选择的主 GridView 和详细信息 DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)教程，我们看到了如何使用此功能显示所选 GridView 行的详细信息。</span><span class="sxs-lookup"><span data-stu-id="87561-117">In the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, we saw how to use this feature to display details for the selected GridView row.</span></span>

<span data-ttu-id="87561-118">尽管 "选择" 按钮在许多情况下都起作用，但它可能也不适用于其他人。</span><span class="sxs-lookup"><span data-stu-id="87561-118">While the Select button works in many situations, it may not work as well for others.</span></span> <span data-ttu-id="87561-119">通常将其他两个用户界面元素用于选择：单选按钮和复选框，而不是使用按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-119">Rather than using a button, two other user interface elements are commonly used for selection: the radio button and checkbox.</span></span> <span data-ttu-id="87561-120">我们可以增加 GridView，使其而不是选择按钮，每行包含单选按钮或复选框。</span><span class="sxs-lookup"><span data-stu-id="87561-120">We can augment the GridView so that instead of a Select button, each row contains a radio button or checkbox.</span></span> <span data-ttu-id="87561-121">在用户只能选择其中一个 GridView 记录的情况下，单选按钮可能优于 "选择" 按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-121">In scenarios where the user can only select one of the GridView records, the radio button might be preferred over the Select button.</span></span> <span data-ttu-id="87561-122">如果用户可能会在基于 web 的电子邮件应用程序中选择多个记录，例如在基于 web 的电子邮件应用程序中，用户可能想要选择多个邮件以删除复选框，则会提供 "选择按钮" 或 "单选按钮" 中不可用的功能。用户界面。</span><span class="sxs-lookup"><span data-stu-id="87561-122">In situations where the user can potentially select multiple records such as in a web-based email application, where a user might want to select multiple messages to delete the checkbox offers functionality that is not available from the Select button or radio button user interfaces.</span></span>

<span data-ttu-id="87561-123">本教程介绍如何将一列单选按钮添加到 GridView。</span><span class="sxs-lookup"><span data-stu-id="87561-123">This tutorial looks at how to add a column of radio buttons to the GridView.</span></span> <span data-ttu-id="87561-124">继续教程探讨了如何使用 checkbox。</span><span class="sxs-lookup"><span data-stu-id="87561-124">The proceeding tutorial explores using checkboxes.</span></span>

## <a name="step-1-creating-the-enhancing-the-gridview-web-pages"></a><span data-ttu-id="87561-125">步骤1：创建增强 GridView 网页</span><span class="sxs-lookup"><span data-stu-id="87561-125">Step 1: Creating the Enhancing the GridView Web Pages</span></span>

<span data-ttu-id="87561-126">在开始增强 GridView 以包含一列单选按钮之前，让我们先花点时间在我们的网站项目中创建 ASP.NET 页面，我们将在本教程和接下来的两个网页中创建。</span><span class="sxs-lookup"><span data-stu-id="87561-126">Before we start enhancing the GridView to include a column of radio buttons, let s first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next two.</span></span> <span data-ttu-id="87561-127">首先添加一个名为 `EnhancedGridView`的新文件夹。</span><span class="sxs-lookup"><span data-stu-id="87561-127">Start by adding a new folder named `EnhancedGridView`.</span></span> <span data-ttu-id="87561-128">接下来，将以下 ASP.NET 页面添加到该文件夹，并确保将每个页面与 `Site.master` 母版页关联：</span><span class="sxs-lookup"><span data-stu-id="87561-128">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `RadioButtonField.aspx`
- `CheckBoxField.aspx`
- `InsertThroughFooter.aspx`

![为 SqlDataSource 相关教程添加 ASP.NET 页](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.gif)

<span data-ttu-id="87561-130">**图 1**：添加 SqlDataSource 相关教程的 ASP.NET 页</span><span class="sxs-lookup"><span data-stu-id="87561-130">**Figure 1**: Add the ASP.NET Pages for the SqlDataSource-Related Tutorials</span></span>

<span data-ttu-id="87561-131">与在其他文件夹中一样，`EnhancedGridView` 文件夹中的 `Default.aspx` 会在其部分列出教程。</span><span class="sxs-lookup"><span data-stu-id="87561-131">Like in the other folders, `Default.aspx` in the `EnhancedGridView` folder will list the tutorials in its section.</span></span> <span data-ttu-id="87561-132">请记住，`SectionLevelTutorialListing.ascx` 用户控件提供此功能。</span><span class="sxs-lookup"><span data-stu-id="87561-132">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="87561-133">因此，通过将此用户控件从解决方案资源管理器拖到页面 s 设计视图，将该用户控件添加到 `Default.aspx`。</span><span class="sxs-lookup"><span data-stu-id="87561-133">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page s Design view.</span></span>

<span data-ttu-id="87561-134">[![将 SectionLevelTutorialListing 用户控件添加到 default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="87561-134">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image1.png)</span></span>

<span data-ttu-id="87561-135">**图 2**：将 `SectionLevelTutorialListing.ascx` 用户控件添加到 `Default.aspx` （[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-135">**Figure 2**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image2.png))</span></span>

<span data-ttu-id="87561-136">最后，将这四个页面作为条目添加到 `Web.sitemap` 文件中。</span><span class="sxs-lookup"><span data-stu-id="87561-136">Lastly, add these four pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="87561-137">具体而言，请在使用 SqlDataSource 控件后添加以下标记 `<siteMapNode>`：</span><span class="sxs-lookup"><span data-stu-id="87561-137">Specifically, add the following markup after the Using the SqlDataSource Control `<siteMapNode>`:</span></span>

[!code-xml[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample1.xml)]

<span data-ttu-id="87561-138">更新 `Web.sitemap`后，请花点时间通过浏览器查看教程网站。</span><span class="sxs-lookup"><span data-stu-id="87561-138">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="87561-139">左侧菜单现在包含用于编辑、插入和删除教程的项。</span><span class="sxs-lookup"><span data-stu-id="87561-139">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![站点映射现在包含用于增强 GridView 教程的条目](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.gif)

<span data-ttu-id="87561-141">**图 3**：站点地图现在包含用于增强 GridView 教程的条目</span><span class="sxs-lookup"><span data-stu-id="87561-141">**Figure 3**: The Site Map Now Includes Entries for the Enhancing the GridView Tutorials</span></span>

## <a name="step-2-displaying-the-suppliers-in-a-gridview"></a><span data-ttu-id="87561-142">步骤2：在 GridView 中显示供应商</span><span class="sxs-lookup"><span data-stu-id="87561-142">Step 2: Displaying the Suppliers in a GridView</span></span>

<span data-ttu-id="87561-143">在本教程中，我们将构建一个 GridView，其中列出了美国的供应商，每个 GridView 行都提供一个单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-143">For this tutorial let s build a GridView that lists the suppliers from the USA, with each GridView row providing a radio button.</span></span> <span data-ttu-id="87561-144">通过单选按钮选择供应商后，用户可以通过单击按钮查看供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-144">After selecting a supplier via the radio button, the user can view the supplier s products by clicking a button.</span></span> <span data-ttu-id="87561-145">尽管此任务听起来很简单，但有许多微妙之处，这会使其显得特别棘手。</span><span class="sxs-lookup"><span data-stu-id="87561-145">While this task may sound trivial, there are a number of subtleties that make it particularly tricky.</span></span> <span data-ttu-id="87561-146">在深入探讨这些微妙之处之前，首先让我们获得一个 GridView 列出供应商。</span><span class="sxs-lookup"><span data-stu-id="87561-146">Before we delve into these subtleties, let s first get a GridView listing the suppliers.</span></span>

<span data-ttu-id="87561-147">首先，通过将 GridView 从工具箱拖到设计器上，打开 `EnhancedGridView` 文件夹中的 `RadioButtonField.aspx` 页。</span><span class="sxs-lookup"><span data-stu-id="87561-147">Start by opening the `RadioButtonField.aspx` page in the `EnhancedGridView` folder by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="87561-148">将 GridView `ID` 设置为 `Suppliers`，并从其智能标记中选择创建新的数据源。</span><span class="sxs-lookup"><span data-stu-id="87561-148">Set the GridView s `ID` to `Suppliers` and, from its smart tag, choose to create a new data source.</span></span> <span data-ttu-id="87561-149">具体而言，就是从 `SuppliersBLL` 对象中创建一个名为 `SuppliersDataSource` 的 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="87561-149">Specifically, create an ObjectDataSource named `SuppliersDataSource` that pulls its data from the `SuppliersBLL` object.</span></span>

<span data-ttu-id="87561-150">[![创建一个名为 SuppliersDataSource 的新 ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="87561-150">[![Create a New ObjectDataSource Named SuppliersDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image3.png)</span></span>

<span data-ttu-id="87561-151">**图 4**：创建名为 `SuppliersDataSource` 的新 ObjectDataSource （[单击以查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-151">**Figure 4**: Create a New ObjectDataSource Named `SuppliersDataSource` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image4.png))</span></span>

<span data-ttu-id="87561-152">[![将 ObjectDataSource 配置为使用 SuppliersBLL 类](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="87561-152">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image5.png)</span></span>

<span data-ttu-id="87561-153">**图 5**：将 ObjectDataSource 配置为使用 `SuppliersBLL` 类（[单击以查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-153">**Figure 5**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.png))</span></span>

<span data-ttu-id="87561-154">由于我们只想列出美国的这些供应商，因此请从 "选择" 选项卡的下拉列表中选择 `GetSuppliersByCountry(country)` 方法。</span><span class="sxs-lookup"><span data-stu-id="87561-154">Since we only want to list those suppliers in the USA, choose the `GetSuppliersByCountry(country)` method from the drop-down list in the SELECT tab.</span></span>

<span data-ttu-id="87561-155">[![将 ObjectDataSource 配置为使用 SuppliersBLL 类](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="87561-155">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image6.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.png)</span></span>

<span data-ttu-id="87561-156">**图 6**：将 ObjectDataSource 配置为使用 `SuppliersBLL` 类（[单击以查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-156">**Figure 6**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.png))</span></span>

<span data-ttu-id="87561-157">在 "更新" 选项卡中，选择 "（无）" 选项并单击 "下一步"。</span><span class="sxs-lookup"><span data-stu-id="87561-157">From the UPDATE tab, select the (None) option and click Next.</span></span>

<span data-ttu-id="87561-158">[![将 ObjectDataSource 配置为使用 SuppliersBLL 类](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="87561-158">[![Configure the ObjectDataSource to Use the SuppliersBLL Class](adding-a-gridview-column-of-radio-buttons-cs/_static/image7.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.png)</span></span>

<span data-ttu-id="87561-159">**图 7**：将 ObjectDataSource 配置为使用 `SuppliersBLL` 类（[单击以查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-159">**Figure 7**: Configure the ObjectDataSource to Use the `SuppliersBLL` Class ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.png))</span></span>

<span data-ttu-id="87561-160">由于 `GetSuppliersByCountry(country)` 方法接受参数，因此 "配置数据源" 向导会提示我们输入该参数的源。</span><span class="sxs-lookup"><span data-stu-id="87561-160">Since the `GetSuppliersByCountry(country)` method accepts a parameter, the Configure Data Source wizard prompts us for the source of that parameter.</span></span> <span data-ttu-id="87561-161">若要指定硬编码值（在此示例中为 USA），请将 "参数源" 下拉列表设置为 "无"，并在文本框中输入默认值。</span><span class="sxs-lookup"><span data-stu-id="87561-161">To specify a hard coded value ( USA, in this example), leave the Parameter source drop-down list set to None and enter the default value in the textbox.</span></span> <span data-ttu-id="87561-162">单击“完成”按钮以完成向导。</span><span class="sxs-lookup"><span data-stu-id="87561-162">Click Finish to complete the wizard.</span></span>

<span data-ttu-id="87561-163">[![使用 USA 作为 country 参数的默认值](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="87561-163">[![Use USA as the Default Value for the country Parameter](adding-a-gridview-column-of-radio-buttons-cs/_static/image8.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.png)</span></span>

<span data-ttu-id="87561-164">**图 8**：使用 USA 作为 `country` 参数的默认值（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-164">**Figure 8**: Use USA as the Default Value for the `country` Parameter ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.png))</span></span>

<span data-ttu-id="87561-165">完成向导后，GridView 将为每个供应商数据字段包括 BoundField。</span><span class="sxs-lookup"><span data-stu-id="87561-165">After completing the wizard, the GridView will include a BoundField for each of the supplier data fields.</span></span> <span data-ttu-id="87561-166">删除除 `CompanyName`、`City`和 `Country` BoundFields 以外的所有，并将 `CompanyName` BoundFields `HeaderText` 属性重命名为 "供应商"。</span><span class="sxs-lookup"><span data-stu-id="87561-166">Remove all but the `CompanyName`, `City`, and `Country` BoundFields, and rename the `CompanyName` BoundFields `HeaderText` property to Supplier.</span></span> <span data-ttu-id="87561-167">完成此操作后，GridView 和 ObjectDataSource 声明性语法应类似于以下内容。</span><span class="sxs-lookup"><span data-stu-id="87561-167">After doing so, the GridView and ObjectDataSource declarative syntax should look similar to the following.</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample2.aspx)]

<span data-ttu-id="87561-168">对于本教程，让用户可以在与供应商列表相同的页面上或在其他页面上查看所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-168">For this tutorial, let s allow the user to view the selected supplier s products on the same page as the supplier list, or on a different page.</span></span> <span data-ttu-id="87561-169">为此，请将两个按钮 Web 控件添加到页面。</span><span class="sxs-lookup"><span data-stu-id="87561-169">To accommodate this, add two Button Web controls to the page.</span></span> <span data-ttu-id="87561-170">我已将这两个按钮的 `ID` 设置为 `ListProducts` 和 `SendToProducts`，这一想法表明，当单击 `ListProducts` 时，所选供应商的产品将在同一页上列出，但当单击 `SendToProducts` 时，用户将 whisked 另一页列出产品。</span><span class="sxs-lookup"><span data-stu-id="87561-170">I ve set the `ID` s of these two Buttons to `ListProducts` and `SendToProducts`, with the idea that when `ListProducts` is clicked a postback will occur and the selected supplier s products will be listed on the same page, but when `SendToProducts` is clicked, the user will be whisked to a another page that lists the products.</span></span>

<span data-ttu-id="87561-171">图9显示了在浏览器中查看 `Suppliers` GridView 和两个按钮 Web 控件。</span><span class="sxs-lookup"><span data-stu-id="87561-171">Figure 9 shows the `Suppliers` GridView and the two Button Web controls when viewed through a browser.</span></span>

<span data-ttu-id="87561-172">[![美国的这些供应商列出了其姓名、城市和国家/地区信息](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="87561-172">[![Those Suppliers from the USA Have Their Name, City, and Country Information Listed](adding-a-gridview-column-of-radio-buttons-cs/_static/image9.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.png)</span></span>

<span data-ttu-id="87561-173">**图 9**：美国的这些供应商列出了其姓名、城市和国家/地区信息（[单击查看全尺寸图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-173">**Figure 9**: Those Suppliers from the USA Have Their Name, City, and Country Information Listed ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.png))</span></span>

## <a name="step-3-adding-a-column-of-radio-buttons"></a><span data-ttu-id="87561-174">步骤3：添加单选按钮列</span><span class="sxs-lookup"><span data-stu-id="87561-174">Step 3: Adding a Column of Radio Buttons</span></span>

<span data-ttu-id="87561-175">此时，`Suppliers` GridView 有三个 BoundFields，其中显示了美国每个供应商的公司名称、城市和国家/地区。</span><span class="sxs-lookup"><span data-stu-id="87561-175">At this point the `Suppliers` GridView has three BoundFields displaying the company name, city, and country of each supplier in the USA.</span></span> <span data-ttu-id="87561-176">不过，它仍缺少单选按钮的列。</span><span class="sxs-lookup"><span data-stu-id="87561-176">It is still lacking a column of radio buttons, however.</span></span> <span data-ttu-id="87561-177">遗憾的是，GridView 不包含内置 RadioButtonField，但我们只需将其添加到网格即可完成。</span><span class="sxs-lookup"><span data-stu-id="87561-177">Unfortunately, the GridView doesn t include a built-in RadioButtonField, otherwise we could just add that to the grid and be done.</span></span> <span data-ttu-id="87561-178">相反，我们可以添加 TemplateField 并配置其 `ItemTemplate` 以呈现单选按钮，从而生成每个 GridView 行的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-178">Instead, we can add a TemplateField and configure its `ItemTemplate` to render a radio button, resulting in a radio button for each GridView row.</span></span>

<span data-ttu-id="87561-179">最初，我们可能会假设所需的用户界面可以通过将单选按钮 Web 控件添加到 TemplateField 的 `ItemTemplate` 来实现。</span><span class="sxs-lookup"><span data-stu-id="87561-179">Initially, we might assume that the desired user interface can be implemented by adding a RadioButton Web control to the `ItemTemplate` of a TemplateField.</span></span> <span data-ttu-id="87561-180">虽然这确实会向 GridView 的每个行添加一个单选按钮，但无法对单选按钮进行分组，因此它们不是互相排斥的。</span><span class="sxs-lookup"><span data-stu-id="87561-180">While this will indeed add a single radio button to each row of the GridView, the radio buttons cannot be grouped and therefore are not mutually exclusive.</span></span> <span data-ttu-id="87561-181">也就是说，最终用户可以从 GridView 同时选择多个单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-181">That is, an end user is able to select multiple radio buttons simultaneously from the GridView.</span></span>

<span data-ttu-id="87561-182">即使使用的是单选按钮 Web 控件的 TemplateField，也不能提供所需的功能，因为这种方法有必要检查未分组所产生的单选按钮的原因。</span><span class="sxs-lookup"><span data-stu-id="87561-182">Even though using a TemplateField of RadioButton Web controls does not offer the functionality we need, let s implement this approach, as it s worthwhile to examine why the resulting radio buttons are not grouped.</span></span> <span data-ttu-id="87561-183">首先将 TemplateField 添加到供应商 GridView，使其成为最左侧的字段。</span><span class="sxs-lookup"><span data-stu-id="87561-183">Start by adding a TemplateField to the Suppliers GridView, making it the leftmost field.</span></span> <span data-ttu-id="87561-184">接下来，在 GridView s 智能标记中，单击 "编辑模板" 链接，并将单选按钮 Web 控件从工具箱拖到 TemplateField s `ItemTemplate` （请参阅图10）。</span><span class="sxs-lookup"><span data-stu-id="87561-184">Next, from the GridView s smart tag, click the Edit Templates link and drag a RadioButton Web control from the Toolbox into the TemplateField s `ItemTemplate` (see Figure 10).</span></span> <span data-ttu-id="87561-185">将单选按钮 `ID` 属性设置为 `RowSelector`，将 `GroupName` 属性设置为 `SuppliersGroup`。</span><span class="sxs-lookup"><span data-stu-id="87561-185">Set the RadioButton s `ID` property to `RowSelector` and the `GroupName` property to `SuppliersGroup`.</span></span>

<span data-ttu-id="87561-186">[![向 ItemTemplate 添加单选按钮 Web 控件](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="87561-186">[![Add a RadioButton Web Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image10.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.png)</span></span>

<span data-ttu-id="87561-187">**图 10**：向 `ItemTemplate` 添加单选按钮 Web 控件（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-187">**Figure 10**: Add a RadioButton Web Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.png))</span></span>

<span data-ttu-id="87561-188">通过设计器进行这些添加后，GridView 的标记应如下所示：</span><span class="sxs-lookup"><span data-stu-id="87561-188">After making these additions through the Designer, your GridView s markup should look similar to the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample3.aspx)]

<span data-ttu-id="87561-189">单选按钮[`GroupName` 属性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx)用于对一系列单选按钮进行分组。</span><span class="sxs-lookup"><span data-stu-id="87561-189">The RadioButton s [`GroupName` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.radiobutton.groupname(VS.80).aspx) is what is used to group a series of radio buttons.</span></span> <span data-ttu-id="87561-190">所有具有相同 `GroupName` 值的单选按钮控件均视为已分组;一次只能从一个组中选择一个单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-190">All RadioButton controls with the same `GroupName` value are considered grouped; only one radio button can be selected from a group at a time.</span></span> <span data-ttu-id="87561-191">`GroupName` 属性指定呈现的单选按钮的 `name` 属性的值。</span><span class="sxs-lookup"><span data-stu-id="87561-191">The `GroupName` property specifies the value for the rendered radio button s `name` attribute.</span></span> <span data-ttu-id="87561-192">浏览器将检查单选按钮 `name` 属性以确定单选按钮分组。</span><span class="sxs-lookup"><span data-stu-id="87561-192">The browser examines the radio buttons `name` attributes to determine the radio button groupings.</span></span>

<span data-ttu-id="87561-193">将单选按钮 Web 控件添加到 `ItemTemplate`后，通过浏览器访问此页，然后单击网格行中的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-193">With the RadioButton Web control added to the `ItemTemplate`, visit this page through a browser and click on the radio buttons in the grid s rows.</span></span> <span data-ttu-id="87561-194">请注意单选按钮如何分组，如图11所示，可以选择所有行。</span><span class="sxs-lookup"><span data-stu-id="87561-194">Notice how the radio buttons are not grouped, making it possible to select all of the rows, as Figure 11 shows.</span></span>

<span data-ttu-id="87561-195">[![未分组 GridView 单选按钮](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="87561-195">[![The GridView s Radio Buttons are Not Grouped](adding-a-gridview-column-of-radio-buttons-cs/_static/image11.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.png)</span></span>

<span data-ttu-id="87561-196">**图 11**：不组合 GridView 的单选按钮（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-196">**Figure 11**: The GridView s Radio Buttons are Not Grouped ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.png))</span></span>

<span data-ttu-id="87561-197">单选按钮未分组的原因是因为它们 `name` 属性的呈现方式不同，但它们 `GroupName` 属性设置相同。</span><span class="sxs-lookup"><span data-stu-id="87561-197">The reason the radio buttons are not grouped is because their rendered `name` attributes are different, despite having the same `GroupName` property setting.</span></span> <span data-ttu-id="87561-198">若要查看这些差异，请从浏览器执行视图/源并检查单选按钮标记：</span><span class="sxs-lookup"><span data-stu-id="87561-198">To see these differences, do a View/Source from the browser and examine the radio button markup:</span></span>

[!code-html[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample4.html)]

<span data-ttu-id="87561-199">请注意，`name` 和 `id` 属性与属性窗口中指定的值并不完全相同，但会附带多个其他 `ID` 值。</span><span class="sxs-lookup"><span data-stu-id="87561-199">Notice how both the `name` and `id` attributes are not the exact values as specified in the Properties window, but are prepended with a number of other `ID` values.</span></span> <span data-ttu-id="87561-200">添加到呈现的 `id` 和 `name` 特性前面的附加 `ID` 值是单选按钮的 `ID`，父控件控制 `GridViewRow` s `ID`、GridView `ID`、内容控件 `ID`和 Web 窗体 `ID`。</span><span class="sxs-lookup"><span data-stu-id="87561-200">The additional `ID` values added to the front of the rendered `id` and `name` attributes are the `ID` s of the radio buttons parent controls the `GridViewRow` s `ID` s, the GridView s `ID`, the Content control s `ID`, and the Web Form s `ID`.</span></span> <span data-ttu-id="87561-201">添加这些 `ID`，这样，在 GridView 中呈现的每个 Web 控件都具有唯一的 `id` 和 `name` 值。</span><span class="sxs-lookup"><span data-stu-id="87561-201">These `ID` s are added so that each rendered Web control in the GridView has a unique `id` and `name` values.</span></span>

<span data-ttu-id="87561-202">每个呈现的控件都需要不同 `name` 和 `id`，因为这是浏览器在客户端唯一标识每个控件的方式，以及它如何识别到 web 服务器回发时所发生的操作或更改。</span><span class="sxs-lookup"><span data-stu-id="87561-202">Each rendered control needs a different `name` and `id` because this is how the browser uniquely identifies each control on the client-side and how it identifies to the web server what action or change has occurred on postback.</span></span> <span data-ttu-id="87561-203">例如，假设您希望在单选按钮的选中状态发生更改时运行一些服务器端代码。</span><span class="sxs-lookup"><span data-stu-id="87561-203">For example, imagine that we wanted to run some server-side code whenever a RadioButton s checked state was changed.</span></span> <span data-ttu-id="87561-204">为此，我们可以将 `AutoPostBack` 的单选按钮设置为 `true` 并为 `CheckChanged` 事件创建事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="87561-204">We could accomplish this by setting the RadioButton s `AutoPostBack` property to `true` and creating an event handler for the `CheckChanged` event.</span></span> <span data-ttu-id="87561-205">但是，如果为所有单选按钮呈现的 `name` 和 `id` 值相同，则回发时无法确定单击了哪个特定的单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-205">However, if the rendered `name` and `id` values for all of the radio buttons were the same, on postback we could not determine what specific RadioButton was clicked.</span></span>

<span data-ttu-id="87561-206">简而言之，我们不能使用单选按钮 Web 控件在 GridView 中创建一列单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-206">The short of it is that we cannot create a column of radio buttons in a GridView using the RadioButton Web control.</span></span> <span data-ttu-id="87561-207">相反，我们必须使用陈旧的技术来确保将相应的标记注入到每个 GridView 行中。</span><span class="sxs-lookup"><span data-stu-id="87561-207">Instead, we must use rather archaic techniques to ensure that the appropriate markup is injected into each GridView row.</span></span>

> [!NOTE]
> <span data-ttu-id="87561-208">与单选按钮 Web 控件一样，单选按钮 HTML 控件添加到模板时，将包含唯一的 `name` 属性，使网格中的单选按钮取消分组。</span><span class="sxs-lookup"><span data-stu-id="87561-208">Like the RadioButton Web control, the radio button HTML control, when added to a template, will include the unique `name` attribute, making the radio buttons in the grid ungrouped.</span></span> <span data-ttu-id="87561-209">如果你不熟悉 HTML 控件，可以随意忽略此注释，因为很少使用 HTML 控件，尤其是在 ASP.NET 2.0 中。</span><span class="sxs-lookup"><span data-stu-id="87561-209">If you are not familiar with HTML controls, feel free to disregard this note, as HTML controls are rarely used, especially in ASP.NET 2.0.</span></span> <span data-ttu-id="87561-210">但如果想要了解详细信息，请参阅[Allen](http://odetocode.com/blogs/scott/default.aspx) s 博客文章[WEB 控件和 HTML 控件](http://www.odetocode.com/Articles/348.aspx)。</span><span class="sxs-lookup"><span data-stu-id="87561-210">But if you are interested in learning more, see [K. Scott Allen](http://odetocode.com/blogs/scott/default.aspx) s blog entry [Web Controls and HTML Controls](http://www.odetocode.com/Articles/348.aspx).</span></span>

## <a name="using-a-literal-control-to-inject-radio-button-markup"></a><span data-ttu-id="87561-211">使用文本控件注入单选按钮标记</span><span class="sxs-lookup"><span data-stu-id="87561-211">Using a Literal Control to Inject Radio Button Markup</span></span>

<span data-ttu-id="87561-212">为了正确地分组 GridView 内的所有单选按钮，我们需要将单选按钮标记手动注入到 `ItemTemplate`中。</span><span class="sxs-lookup"><span data-stu-id="87561-212">In order to correctly group all of the radio buttons within the GridView, we need to manually inject the radio buttons markup into the `ItemTemplate`.</span></span> <span data-ttu-id="87561-213">每个单选按钮都需要相同的 `name` 属性，但应具有唯一的 `id` 属性（如果我们想通过客户端脚本访问单选按钮）。</span><span class="sxs-lookup"><span data-stu-id="87561-213">Each radio button needs the same `name` attribute, but should have a unique `id` attribute (in case we want to access a radio button via client-side script).</span></span> <span data-ttu-id="87561-214">用户选择单选按钮并回发页面后，浏览器会将所选单选按钮 s `value` 属性的值发送回。</span><span class="sxs-lookup"><span data-stu-id="87561-214">After a user selects a radio button and posts back the page, the browser will send back the value of the selected radio button s `value` attribute.</span></span> <span data-ttu-id="87561-215">因此，每个单选按钮都需要唯一的 `value` 属性。</span><span class="sxs-lookup"><span data-stu-id="87561-215">Therefore, each radio button will need a unique `value` attribute.</span></span> <span data-ttu-id="87561-216">最后，在回发时，我们需要确保将 `checked` 特性添加到选定的单选按钮，否则在用户做出选择并回发后，单选按钮将恢复为其默认状态（所有未选择）。</span><span class="sxs-lookup"><span data-stu-id="87561-216">Finally, on postback we need to make sure to add the `checked` attribute to the one radio button that is selected, otherwise after the user makes a selection and posts back, the radio buttons will return to their default state (all unselected).</span></span>

<span data-ttu-id="87561-217">可以采用两种方法将低级标记注入到模板。</span><span class="sxs-lookup"><span data-stu-id="87561-217">There are two approaches that can be taken in order to inject low-level markup into a template.</span></span> <span data-ttu-id="87561-218">一种方法是混合使用标记和调用代码隐藏类中定义的格式设置方法。</span><span class="sxs-lookup"><span data-stu-id="87561-218">One is to do a mix of markup and calls to formatting methods defined in the code-behind class.</span></span> <span data-ttu-id="87561-219">这项技术首先在 GridView 控件教程中的 "[使用 templatefield](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) " 中讨论。</span><span class="sxs-lookup"><span data-stu-id="87561-219">This technique was first discussed in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span> <span data-ttu-id="87561-220">在本例中，它可能类似于：</span><span class="sxs-lookup"><span data-stu-id="87561-220">In our case it might look something like:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample5.aspx)]

<span data-ttu-id="87561-221">此处，`GetUniqueRadioButton` 和 `GetRadioButtonValue` 会是代码隐藏类中定义的方法，这些方法返回相应的 `id` 并 `value` 每个单选按钮的属性值。</span><span class="sxs-lookup"><span data-stu-id="87561-221">Here, `GetUniqueRadioButton` and `GetRadioButtonValue` would be methods defined in the code-behind class that returned the appropriate `id` and `value` attribute values for each radio button.</span></span> <span data-ttu-id="87561-222">这种方法非常适合用于分配 `id` 和 `value` 属性，但需要指定 `checked` 属性值时，这种方法非常简短，因为仅当数据第一次绑定到 GridView 时才会执行数据绑定语法。</span><span class="sxs-lookup"><span data-stu-id="87561-222">This approach works well for assigning the `id` and `value` attributes, but falls short when needing to specify the `checked` attribute value because the databinding syntax is only executed when data is first bound to the GridView.</span></span> <span data-ttu-id="87561-223">因此，如果 GridView 启用了视图状态，则仅在第一次加载页面时（或在 GridView 显式重新绑定到数据源时）才会触发格式设置方法，因此不会在回发时调用设置 `checked` 属性的函数。</span><span class="sxs-lookup"><span data-stu-id="87561-223">Therefore, if the GridView has view state enabled, the formatting methods will only fire when the page is first loaded (or when the GridView is explicitly rebound to the data source), and therefore the function that sets the `checked` attribute won't be called on postback.</span></span> <span data-ttu-id="87561-224">这只是一个非常微妙的问题，而不是本文的讨论范围，因此，我将把它留给我们。</span><span class="sxs-lookup"><span data-stu-id="87561-224">It s a rather subtle problem and a bit beyond the scope of this article, so I'll leave it at this.</span></span> <span data-ttu-id="87561-225">不过，我确实会鼓励您尝试使用上述方法，并通过它来处理您会遇到的问题。</span><span class="sxs-lookup"><span data-stu-id="87561-225">I do, however, encourage you to try using the above approach and work it through to the point where you'll get stuck.</span></span> <span data-ttu-id="87561-226">虽然这种做法不会使您更接近于工作版本，但它将帮助您更深入地了解 GridView 和数据绑定生命周期。</span><span class="sxs-lookup"><span data-stu-id="87561-226">While such an exercise won't get you any closer to a working version, it will help foster a deeper understanding of the GridView and the databinding lifecycle.</span></span>

<span data-ttu-id="87561-227">在模板中注入自定义低级别标记的另一种方法是将 "[文本" 控件](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx)添加到模板。</span><span class="sxs-lookup"><span data-stu-id="87561-227">The other approach to injecting custom, low-level markup in a template and the approach that we'll be using for this tutorial is to add a [Literal control](https://msdn.microsoft.com/library/sz4949ks(VS.80).aspx) to the template.</span></span> <span data-ttu-id="87561-228">然后，在 GridView `RowCreated` 或 `RowDataBound` 事件处理程序中，可以通过编程方式访问文本控件，并将其 `Text` 属性设置为要发出的标记。</span><span class="sxs-lookup"><span data-stu-id="87561-228">Then, in the GridView s `RowCreated` or `RowDataBound` event handler, the Literal control can be programmatically accessed and its `Text` property set to the markup to emit.</span></span>

<span data-ttu-id="87561-229">首先从 TemplateField s `ItemTemplate`中删除单选按钮，并将其替换为文本控件。</span><span class="sxs-lookup"><span data-stu-id="87561-229">Start by removing the RadioButton from the TemplateField s `ItemTemplate`, replacing it with a Literal control.</span></span> <span data-ttu-id="87561-230">将文本控件 s `ID` 设置为 `RadioButtonMarkup`。</span><span class="sxs-lookup"><span data-stu-id="87561-230">Set the Literal control s `ID` to `RadioButtonMarkup`.</span></span>

<span data-ttu-id="87561-231">[![向 ItemTemplate 添加文本控件](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="87561-231">[![Add a Literal Control to the ItemTemplate](adding-a-gridview-column-of-radio-buttons-cs/_static/image12.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.png)</span></span>

<span data-ttu-id="87561-232">**图 12**：向 `ItemTemplate` 添加文本控件（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-232">**Figure 12**: Add a Literal Control to the `ItemTemplate` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.png))</span></span>

<span data-ttu-id="87561-233">接下来，为 GridView `RowCreated` 事件创建事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="87561-233">Next, create an event handler for the GridView s `RowCreated` event.</span></span> <span data-ttu-id="87561-234">无论数据是否正在重新绑定到 GridView，都将对每个添加的行触发一次 `RowCreated` 事件。</span><span class="sxs-lookup"><span data-stu-id="87561-234">The `RowCreated` event fires once for every row added, whether or not the data is being rebound to the GridView.</span></span> <span data-ttu-id="87561-235">这意味着，即使在从视图状态重新加载数据时，也会在回发时进行，但仍会激发 `RowCreated` 事件，这是我们使用它而不是 `RowDataBound` 的原因（仅当数据显式绑定到数据 Web 控件时才触发）。</span><span class="sxs-lookup"><span data-stu-id="87561-235">That means that even on a postback when the data is reloaded from view state, the `RowCreated` event still fires and this is the reason we are using it instead of `RowDataBound` (which fires only when the data is explicitly bound to the data Web control).</span></span>

<span data-ttu-id="87561-236">在此事件处理程序中，我们只想要在我们处理数据行的情况下继续操作。</span><span class="sxs-lookup"><span data-stu-id="87561-236">In this event handler, we only want to proceed if we re dealing with a data row.</span></span> <span data-ttu-id="87561-237">对于每个数据行，我们想要以编程方式引用 `RadioButtonMarkup` 文字控件，并将其 `Text` 属性设置为要发出的标记。</span><span class="sxs-lookup"><span data-stu-id="87561-237">For each data row we want to programmatically reference the `RadioButtonMarkup` Literal control and set its `Text` property to the markup to emit.</span></span> <span data-ttu-id="87561-238">如下面的代码所示，发出的标记将创建一个单选按钮，其 `name` 特性设置为 `SuppliersGroup`，其 `id` 特性设置为 `RowSelectorX`，其中*X*是 gridview 行的索引，其 `value` 特性设置为 gridview 行的索引。</span><span class="sxs-lookup"><span data-stu-id="87561-238">As the following code shows, the markup emitted creates a radio button whose `name` attribute is set to `SuppliersGroup`, whose `id` attribute is set to `RowSelectorX`, where *X* is the index of the GridView row, and whose `value` attribute is set to the index of the GridView row.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample6.cs)]

<span data-ttu-id="87561-239">选择 GridView 行并发生回发时，我们将对所选供应商的 `SupplierID` 感兴趣。</span><span class="sxs-lookup"><span data-stu-id="87561-239">When a GridView row is selected and a postback occurs, we are interested in the `SupplierID` of the selected supplier.</span></span> <span data-ttu-id="87561-240">因此，可能会认为每个单选按钮的值应为实际 `SupplierID` （而不是 GridView 行的索引）。</span><span class="sxs-lookup"><span data-stu-id="87561-240">Therefore, one might think that the value of each radio button should be the actual `SupplierID` (rather than the index of the GridView row).</span></span> <span data-ttu-id="87561-241">尽管这在某些情况下可能会起作用，但盲目接受并处理 `SupplierID`会带来安全风险。</span><span class="sxs-lookup"><span data-stu-id="87561-241">While this may work in certain circumstances, it would be a security risk to blindly accept and process a `SupplierID`.</span></span> <span data-ttu-id="87561-242">例如，我们的 GridView 仅列出了 USA 中的供应商。</span><span class="sxs-lookup"><span data-stu-id="87561-242">Our GridView, for example, lists only those suppliers in the USA.</span></span> <span data-ttu-id="87561-243">但是，如果直接从单选按钮传递 `SupplierID`，将停止非常用户处理回发回发回的 `SupplierID` 值？</span><span class="sxs-lookup"><span data-stu-id="87561-243">However, if the `SupplierID` is passed directly from the radio button, what s to stop a mischievous user from manipulating the `SupplierID` value sent back on postback?</span></span> <span data-ttu-id="87561-244">通过使用行索引作为 `value`，然后从 `DataKeys` 集合获取对回发的 `SupplierID`，我们可以确保用户仅使用与某个 GridView 行关联的 `SupplierID` 值之一。</span><span class="sxs-lookup"><span data-stu-id="87561-244">By using the row index as the `value`, and then getting the `SupplierID` on postback from the `DataKeys` collection, we can ensure that the user is only using one of the `SupplierID` values associated with one of the GridView rows.</span></span>

<span data-ttu-id="87561-245">添加此事件处理程序代码后，请花几分钟时间在浏览器中测试页面。</span><span class="sxs-lookup"><span data-stu-id="87561-245">After adding this event handler code, take a minute to test out the page in a browser.</span></span> <span data-ttu-id="87561-246">首先，请注意，一次只能选择网格中的一个单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-246">First, note that only one radio button in the grid can be selected at a time.</span></span> <span data-ttu-id="87561-247">但是，当选择某个单选按钮并单击其中一个按钮时，会发生回发，并且单选按钮会恢复到其初始状态（即，在回发时，不再选中所选单选按钮）。</span><span class="sxs-lookup"><span data-stu-id="87561-247">However, when selecting a radio button and clicking one of the buttons, a postback occurs and the radio buttons all revert to their initial state (that is, on postback, the selected radio button is no longer selected).</span></span> <span data-ttu-id="87561-248">若要解决此问题，我们需要增加 `RowCreated` 事件处理程序，使其检查从回发发送的所选单选按钮索引，并将 `checked="checked"` 属性添加到已发出的行索引匹配项。</span><span class="sxs-lookup"><span data-stu-id="87561-248">To fix this, we need to augment the `RowCreated` event handler so that it inspects the selected radio button index sent from the postback and adds the `checked="checked"` attribute to the emitted markup of the row index matches.</span></span>

<span data-ttu-id="87561-249">发生回发时，浏览器将回发 `name` 和所选单选按钮的 `value`。</span><span class="sxs-lookup"><span data-stu-id="87561-249">When a postback occurs, the browser sends back the `name` and `value` of the selected radio button.</span></span> <span data-ttu-id="87561-250">可以使用 `Request.Form["name"]`以编程方式检索该值。</span><span class="sxs-lookup"><span data-stu-id="87561-250">The value can be programmatically retrieved using `Request.Form["name"]`.</span></span> <span data-ttu-id="87561-251">[`Request.Form` 属性](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx)提供表示窗体变量的[`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) 。</span><span class="sxs-lookup"><span data-stu-id="87561-251">The [`Request.Form` property](https://msdn.microsoft.com/library/system.web.httprequest.form.aspx) provides a [`NameValueCollection`](https://msdn.microsoft.com/library/system.collections.specialized.namevaluecollection.aspx) representing the form variables.</span></span> <span data-ttu-id="87561-252">窗体变量是网页中窗体字段的名称和值，并在每次回发可以时由 web 浏览器发回。</span><span class="sxs-lookup"><span data-stu-id="87561-252">The form variables are the names and values of the form fields in the web page, and are sent back by the web browser whenever a postback ensues.</span></span> <span data-ttu-id="87561-253">由于 GridView 中的单选按钮的呈现 `name` 属性是 `SuppliersGroup`的，因此当网页回发后，浏览器会将 `SuppliersGroup=valueOfSelectedRadioButton` 发送回 web 服务器（与其他窗体字段一起）。</span><span class="sxs-lookup"><span data-stu-id="87561-253">Because the rendered `name` attribute of the radio buttons in the GridView is `SuppliersGroup`, when the web page is posted back the browser will send `SuppliersGroup=valueOfSelectedRadioButton` back to the web server (along with the other form fields).</span></span> <span data-ttu-id="87561-254">然后，可以使用： `Request.Form["SuppliersGroup"]`从 `Request.Form` 属性访问此信息。</span><span class="sxs-lookup"><span data-stu-id="87561-254">This information can then be accessed from the `Request.Form` property using: `Request.Form["SuppliersGroup"]`.</span></span>

<span data-ttu-id="87561-255">由于我们需要确定仅在 `RowCreated` 事件处理程序中选定的单选按钮索引，但在按钮 Web 控件的 `Click` 事件处理程序中，如果未选择任何单选按钮，则允许向返回 `-1` 的代码隐藏类添加 `SuppliersSelectedIndex` 属性，如果选择了其中一个单选按钮，则添加所选索引。</span><span class="sxs-lookup"><span data-stu-id="87561-255">Since we'll need to determine the selected radio button index not only in the `RowCreated` event handler, but in the `Click` event handlers for the Button Web controls, let s add a `SuppliersSelectedIndex` property to the code-behind class that returns `-1` if no radio button was selected and the selected index if one of the radio buttons is selected.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample7.cs)]

<span data-ttu-id="87561-256">添加此属性后，如果 `SuppliersSelectedIndex` 等于 `e.Row.RowIndex`，我们知道在 `RowCreated` 事件处理程序中添加 `checked="checked"` 标记。</span><span class="sxs-lookup"><span data-stu-id="87561-256">With this property added, we know to add the `checked="checked"` markup in the `RowCreated` event handler when `SuppliersSelectedIndex` equals `e.Row.RowIndex`.</span></span> <span data-ttu-id="87561-257">更新事件处理程序以包括此逻辑：</span><span class="sxs-lookup"><span data-stu-id="87561-257">Update the event handler to include this logic:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample8.cs)]

<span data-ttu-id="87561-258">进行此更改后，在回发后，所选单选按钮将保持选中状态。</span><span class="sxs-lookup"><span data-stu-id="87561-258">With this change, the selected radio button remains selected after a postback.</span></span> <span data-ttu-id="87561-259">现在，我们能够指定选定的单选按钮，我们可以更改该行为，以便在第一次访问该页面时，选中第一个 "GridView 行" 单选按钮（而不是默认选择默认的单选按钮，这是当前行为）。</span><span class="sxs-lookup"><span data-stu-id="87561-259">Now that we have the ability to specify what radio button is selected, we could change the behavior so that when the page was first visited, the first GridView row s radio button was selected (rather than having no radio buttons selected by default, which is the current behavior).</span></span> <span data-ttu-id="87561-260">若要在默认情况下选择第一个单选按钮，只需将 `if (SuppliersSelectedIndex == e.Row.RowIndex)` 语句更改为以下内容： `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`。</span><span class="sxs-lookup"><span data-stu-id="87561-260">To have the first radio button selected by default, simply change the `if (SuppliersSelectedIndex == e.Row.RowIndex)` statement to the following: `if (SuppliersSelectedIndex == e.Row.RowIndex || (!Page.IsPostBack && e.Row.RowIndex == 0))`.</span></span>

<span data-ttu-id="87561-261">此时，我们已将分组单选按钮列添加到 GridView 中，这样就可以在回发中选择并记住单个 GridView 行。</span><span class="sxs-lookup"><span data-stu-id="87561-261">At this point we have added a column of grouped radio buttons to the GridView that allows for a single GridView row to be selected and remembered across postbacks.</span></span> <span data-ttu-id="87561-262">接下来的步骤是显示所选供应商提供的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-262">Our next steps are to display the products provided by the selected supplier.</span></span> <span data-ttu-id="87561-263">在步骤4中，我们将了解如何将用户重定向到另一页，并沿选定 `SupplierID`发送。</span><span class="sxs-lookup"><span data-stu-id="87561-263">In Step 4 we'll see how to redirect the user to another page, sending along the selected `SupplierID`.</span></span> <span data-ttu-id="87561-264">在步骤5中，我们将了解如何在同一页面上的 GridView 中显示所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-264">In Step 5, we'll see how to display the selected supplier s products in a GridView on the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="87561-265">我们可以创建一个自定义 `DataControlField` 类来呈现适当的用户界面和功能，而不是使用 TemplateField （此冗长步骤3的重点）。</span><span class="sxs-lookup"><span data-stu-id="87561-265">Rather than using a TemplateField (the focus of this lengthy Step 3), we could create a custom `DataControlField` class that renders the appropriate user interface and functionality.</span></span> <span data-ttu-id="87561-266">[`DataControlField` 类](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx)是 BoundField、CheckBoxField、TemplateField 和其他内置 GridView 和 DetailsView 字段派生的基类。</span><span class="sxs-lookup"><span data-stu-id="87561-266">The [`DataControlField` class](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.aspx) is the base class from which the BoundField, CheckBoxField, TemplateField, and other built-in GridView and DetailsView fields derive.</span></span> <span data-ttu-id="87561-267">创建自定义 `DataControlField` 类将意味着可以使用声明性语法添加单选按钮列，并且还可以更轻松地复制其他网页和其他 web 应用程序中的功能。</span><span class="sxs-lookup"><span data-stu-id="87561-267">Creating a custom `DataControlField` class would mean that the column of radio buttons could be added just using declarative syntax, and would also make replicating the functionality on other web pages and other web applications significantly easier.</span></span>

<span data-ttu-id="87561-268">不过，如果你曾在 ASP.NET 中创建了自定义的已编译控件，则你知道这样做需要相当多的琐碎工作，并为其提供必须小心处理的微妙之处和 edge 事例的宿主。</span><span class="sxs-lookup"><span data-stu-id="87561-268">If you ve ever created custom, compiled controls in ASP.NET, however, you know that doing so requires a fair amount of legwork and carries with it a host of subtleties and edge cases that must be carefully handled.</span></span> <span data-ttu-id="87561-269">因此，我们将放弃将一列作为自定义 `DataControlField` 类实现为现在并使用 TemplateField 选项。</span><span class="sxs-lookup"><span data-stu-id="87561-269">Therefore, we will forgo implementing a column of radio buttons as a custom `DataControlField` class for now and stick with the TemplateField option.</span></span> <span data-ttu-id="87561-270">也许我们可以在以后的教程中了解如何创建、使用和部署自定义 `DataControlField` 类！</span><span class="sxs-lookup"><span data-stu-id="87561-270">Perhaps we'll have the chance to explore creating, using, and deploying custom `DataControlField` classes in a future tutorial!</span></span>

## <a name="step-4-displaying-the-selected-supplier-s-products-in-a-separate-page"></a><span data-ttu-id="87561-271">步骤4：在单独的页面中显示所选供应商的产品</span><span class="sxs-lookup"><span data-stu-id="87561-271">Step 4: Displaying the Selected Supplier s Products in a Separate Page</span></span>

<span data-ttu-id="87561-272">用户选择了 GridView 行后，需要显示所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-272">After the user has selected a GridView row, we need to show the selected supplier s products.</span></span> <span data-ttu-id="87561-273">在某些情况下，我们可能希望在单独的页面上显示这些产品，在其他页面中，我们可能更喜欢在同一页面中执行此操作。</span><span class="sxs-lookup"><span data-stu-id="87561-273">In some circumstances, we may want to display these products in a separate page, in others we might prefer to do it in the same page.</span></span> <span data-ttu-id="87561-274">首先，让我们检查如何在单独的页面上显示产品;在步骤5中，我们将介绍如何将 GridView 添加到 `RadioButtonField.aspx` 以显示选定的供应商产品。</span><span class="sxs-lookup"><span data-stu-id="87561-274">Let s first examine how to display the products in a separate page; in Step 5 we'll look at adding a GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="87561-275">当前页面上有两个按钮 Web 控件 `ListProducts` 和 `SendToProducts`。</span><span class="sxs-lookup"><span data-stu-id="87561-275">Currently there are two Button Web controls on the page `ListProducts` and `SendToProducts`.</span></span> <span data-ttu-id="87561-276">单击 "`SendToProducts`" 按钮时，我们希望将用户发送到 `~/Filtering/ProductsForSupplierDetails.aspx`。</span><span class="sxs-lookup"><span data-stu-id="87561-276">When the `SendToProducts` Button is clicked, we want to send the user to `~/Filtering/ProductsForSupplierDetails.aspx`.</span></span> <span data-ttu-id="87561-277">此页是在 "[跨两页的主/详细信息筛选](../masterdetail/master-detail-filtering-across-two-pages-cs.md)" 教程中创建的，它显示了其 `SupplierID` 通过名为 `SupplierID`的 querystring 字段传递的供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-277">This page was created in the [Master/Detail Filtering Across Two Pages](../masterdetail/master-detail-filtering-across-two-pages-cs.md) tutorial and displays the products for the supplier whose `SupplierID` is passed through the querystring field named `SupplierID`.</span></span>

<span data-ttu-id="87561-278">若要提供此功能，请为 `SendToProducts` "按钮 `Click` 事件创建事件处理程序。</span><span class="sxs-lookup"><span data-stu-id="87561-278">To provide this functionality, create an event handler for the `SendToProducts` Button s `Click` event.</span></span> <span data-ttu-id="87561-279">在步骤3中，我们添加了 `SuppliersSelectedIndex` 属性，该属性返回选定的单选按钮所在的行的索引。</span><span class="sxs-lookup"><span data-stu-id="87561-279">In Step 3 we added the `SuppliersSelectedIndex` property, which returns the index of the row whose radio button is selected.</span></span> <span data-ttu-id="87561-280">可以从 GridView 的 `DataKeys` 集合中检索相应的 `SupplierID`，然后可以使用 `Response.Redirect("url")`将用户发送到 `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID`。</span><span class="sxs-lookup"><span data-stu-id="87561-280">The corresponding `SupplierID` can be retrieved from the GridView s `DataKeys` collection and the user can then be sent to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` using `Response.Redirect("url")`.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample9.cs)]

<span data-ttu-id="87561-281">只要从 GridView 中选择一个单选按钮，此代码就会 wonderfully。</span><span class="sxs-lookup"><span data-stu-id="87561-281">This code works wonderfully as long as one of the radio buttons is selected from the GridView.</span></span> <span data-ttu-id="87561-282">如果最初没有选择任何单选按钮，并且用户单击 "`SendToProducts`" 按钮，则 `SuppliersSelectedIndex` 将 `-1`，这将导致引发异常，因为 `-1` 超出了 `DataKeys` 集合的索引范围。</span><span class="sxs-lookup"><span data-stu-id="87561-282">If, initially, the GridView does not have any radio buttons selected, and the user clicks the `SendToProducts` button, `SuppliersSelectedIndex` will be `-1`, which will cause an exception to be thrown since `-1` is out of the index range of the `DataKeys` collection.</span></span> <span data-ttu-id="87561-283">但这并不是个问题，不过，如果您决定按照第3步中所述更新 `RowCreated` 事件处理程序，以使其最初选择的是 GridView 中的第一个单选按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-283">This is not a concern, however, if you decided to update the `RowCreated` event handler as discussed in Step 3 so as to have the first radio button in the GridView initially selected.</span></span>

<span data-ttu-id="87561-284">为了容纳 `-1``SuppliersSelectedIndex` 值，请将一个 "标签" Web 控件添加到 GridView 之上的页面。</span><span class="sxs-lookup"><span data-stu-id="87561-284">To accommodate a `SuppliersSelectedIndex` value of `-1`, add a Label Web control to the page above the GridView.</span></span> <span data-ttu-id="87561-285">将其 `ID` 属性设置为 `ChooseSupplierMsg`，其 `CssClass` 属性设置为 `Warning`，其 `EnableViewState` 和 `Visible` 属性设置为 `false`，并将其 `Text` 属性设置为从网格中选择一个供应商。</span><span class="sxs-lookup"><span data-stu-id="87561-285">Set its `ID` property to `ChooseSupplierMsg`, its `CssClass` property to `Warning`, its `EnableViewState` and `Visible` properties to `false`, and its `Text` property to Please choose a supplier from the grid.</span></span> <span data-ttu-id="87561-286">CSS 类 `Warning` 用红色、斜体、粗体、大字体显示文本，并在 `Styles.css`中定义。</span><span class="sxs-lookup"><span data-stu-id="87561-286">The CSS class `Warning` displays text in a red, italic, bold, large font and is defined in `Styles.css`.</span></span> <span data-ttu-id="87561-287">通过将 `EnableViewState` 和 `Visible` 属性设置为 `false`，除了仅以编程方式将控件 `Visible` 属性设置为 `true`的回发之外，不呈现标签。</span><span class="sxs-lookup"><span data-stu-id="87561-287">By setting the `EnableViewState` and `Visible` properties to `false`, the Label is not rendered except for only those postbacks where the control s `Visible` property is programmatically set to `true`.</span></span>

<span data-ttu-id="87561-288">[![在 GridView 上方添加标签 Web 控件](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="87561-288">[![Add a Label Web Control Above the GridView](adding-a-gridview-column-of-radio-buttons-cs/_static/image13.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image21.png)</span></span>

<span data-ttu-id="87561-289">**图 13**：在 GridView 上方添加标签 Web 控件（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-289">**Figure 13**: Add a Label Web Control Above the GridView ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image22.png))</span></span>

<span data-ttu-id="87561-290">接下来，增加 `Click` 事件处理程序，如果 `SuppliersSelectedIndex` 小于零，则显示 `ChooseSupplierMsg` 标签，并将用户重定向到 `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID`。</span><span class="sxs-lookup"><span data-stu-id="87561-290">Next, augment the `Click` event handler to display the `ChooseSupplierMsg` Label if `SuppliersSelectedIndex` is less than zero, and redirect the user to `~/Filtering/ProductsForSupplierDetails.aspx?SupplierID=SupplierID` otherwise.</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample10.cs)]

<span data-ttu-id="87561-291">在浏览器中访问该页面，然后单击 "`SendToProducts`" 按钮，然后从 GridView 中选择一个供应商。</span><span class="sxs-lookup"><span data-stu-id="87561-291">Visit the page in a browser and click the `SendToProducts` button before selecting a supplier from the GridView.</span></span> <span data-ttu-id="87561-292">如图14所示，这将显示 "`ChooseSupplierMsg`" 标签。</span><span class="sxs-lookup"><span data-stu-id="87561-292">As Figure 14 shows, this displays the `ChooseSupplierMsg` label.</span></span> <span data-ttu-id="87561-293">接下来，选择一个供应商，然后单击 "`SendToProducts`" 按钮。</span><span class="sxs-lookup"><span data-stu-id="87561-293">Next, select a supplier and click the `SendToProducts` button.</span></span> <span data-ttu-id="87561-294">这会 whisk 您的页面列出所选供应商提供的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-294">This will whisk you to a page that lists the products supplied by the selected supplier.</span></span> <span data-ttu-id="87561-295">图15显示了选择 Bigfoot Breweries 供应商时的 "`ProductsForSupplierDetails.aspx`" 页。</span><span class="sxs-lookup"><span data-stu-id="87561-295">Figure 15 shows the `ProductsForSupplierDetails.aspx` page when the Bigfoot Breweries supplier was selected.</span></span>

<span data-ttu-id="87561-296">[![如果未选择任何供应商，则显示 "ChooseSupplierMsg" 标签](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="87561-296">[![The ChooseSupplierMsg Label is Displayed if No Supplier is Selected](adding-a-gridview-column-of-radio-buttons-cs/_static/image14.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image23.png)</span></span>

<span data-ttu-id="87561-297">**图 14**：如果未选择任何供应商，则显示 `ChooseSupplierMsg` 标签（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-297">**Figure 14**: The `ChooseSupplierMsg` Label is Displayed if No Supplier is Selected ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image24.png))</span></span>

<span data-ttu-id="87561-298">[![所选供应商的产品将显示在 ProductsForSupplierDetails 中](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="87561-298">[![The Selected Supplier s Products are Displayed in ProductsForSupplierDetails.aspx](adding-a-gridview-column-of-radio-buttons-cs/_static/image15.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image25.png)</span></span>

<span data-ttu-id="87561-299">**图 15**：所选供应商的产品在 `ProductsForSupplierDetails.aspx` 中显示（[单击查看完全尺寸的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-299">**Figure 15**: The Selected Supplier s Products are Displayed in `ProductsForSupplierDetails.aspx` ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image26.png))</span></span>

## <a name="step-5-displaying-the-selected-supplier-s-products-on-the-same-page"></a><span data-ttu-id="87561-300">步骤5：在同一页面上显示所选供应商的产品</span><span class="sxs-lookup"><span data-stu-id="87561-300">Step 5: Displaying the Selected Supplier s Products on the Same Page</span></span>

<span data-ttu-id="87561-301">在步骤4中，我们看到了如何将用户发送到另一个网页以显示选定的供应商产品。</span><span class="sxs-lookup"><span data-stu-id="87561-301">In Step 4 we saw how to send the user to another web page to display the selected supplier s products.</span></span> <span data-ttu-id="87561-302">或者，所选供应商的产品可以显示在同一页上。</span><span class="sxs-lookup"><span data-stu-id="87561-302">Alternatively, the selected supplier s products can be displayed on the same page.</span></span> <span data-ttu-id="87561-303">为了说明这一点，我们将向 `RadioButtonField.aspx` 添加一个 GridView 来显示所选供应商的产品。</span><span class="sxs-lookup"><span data-stu-id="87561-303">To illustrate this, we'll add another GridView to `RadioButtonField.aspx` to display the selected supplier s products.</span></span>

<span data-ttu-id="87561-304">由于我们只希望在选择供应商后显示这一 GridView 产品，因此请在 `Suppliers` GridView 下添加 Panel Web 控件，并将其 `ID` 设置为 `ProductsBySupplierPanel`，并将其 `Visible` 属性设置为 `false`。</span><span class="sxs-lookup"><span data-stu-id="87561-304">Since we only want this GridView of products to display once a supplier has been selected, add a Panel Web control beneath the `Suppliers` GridView, setting its `ID` to `ProductsBySupplierPanel` and its `Visible` property to `false`.</span></span> <span data-ttu-id="87561-305">在面板中，为所选供应商添加文本产品，然后添加名为 `ProductsBySupplier`的 GridView。</span><span class="sxs-lookup"><span data-stu-id="87561-305">Within the Panel, add the text Products for the Selected Supplier, followed by a GridView named `ProductsBySupplier`.</span></span> <span data-ttu-id="87561-306">从 GridView s 智能标记中，选择将其绑定到名为 `ProductsBySupplierDataSource`的新 ObjectDataSource。</span><span class="sxs-lookup"><span data-stu-id="87561-306">From the GridView s smart tag, choose to bind it to a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span>

<span data-ttu-id="87561-307">[![将 ProductsBySupplier GridView 绑定到新的 ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="87561-307">[![Bind the ProductsBySupplier GridView to a New ObjectDataSource](adding-a-gridview-column-of-radio-buttons-cs/_static/image16.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image27.png)</span></span>

<span data-ttu-id="87561-308">**图 16**：将 `ProductsBySupplier` GridView 绑定到新的 ObjectDataSource （[单击以查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-308">**Figure 16**: Bind the `ProductsBySupplier` GridView to a New ObjectDataSource ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image28.png))</span></span>

<span data-ttu-id="87561-309">接下来，将 ObjectDataSource 配置为使用 `ProductsBLL` 类。</span><span class="sxs-lookup"><span data-stu-id="87561-309">Next, configure the ObjectDataSource to use the `ProductsBLL` class.</span></span> <span data-ttu-id="87561-310">由于我们只想检索所选供应商提供的产品，因此请指定 ObjectDataSource 应调用 `GetProductsBySupplierID(supplierID)` 方法来检索其数据。</span><span class="sxs-lookup"><span data-stu-id="87561-310">Since we only want to retrieve those products provided by the selected supplier, specify that the ObjectDataSource should invoke the `GetProductsBySupplierID(supplierID)` method to retrieve its data.</span></span> <span data-ttu-id="87561-311">从 "更新"、"插入" 和 "删除" 选项卡的下拉列表中选择 "（无）"。</span><span class="sxs-lookup"><span data-stu-id="87561-311">Select (None) from the drop-down lists in the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="87561-312">[![将 ObjectDataSource 配置为使用 GetProductsBySupplierID （供应商）方法](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="87561-312">[![Configure the ObjectDataSource to Use the GetProductsBySupplierID(supplierID) Method](adding-a-gridview-column-of-radio-buttons-cs/_static/image17.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image29.png)</span></span>

<span data-ttu-id="87561-313">**图 17**：将 ObjectDataSource 配置为使用 `GetProductsBySupplierID(supplierID)` 方法（[单击查看完全大小的映像](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-313">**Figure 17**: Configure the ObjectDataSource to Use the `GetProductsBySupplierID(supplierID)` Method ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image30.png))</span></span>

<span data-ttu-id="87561-314">[![在 "更新"、"插入" 和 "删除" 选项卡中将下拉列表设置为 "（无）"](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="87561-314">[![Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs](adding-a-gridview-column-of-radio-buttons-cs/_static/image18.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image31.png)</span></span>

<span data-ttu-id="87561-315">**图 18**：将 "更新"、"插入" 和 "删除" 选项卡中的下拉列表设置为 "（无）" （[单击查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-315">**Figure 18**: Set the Drop-Down Lists to (None) in the UPDATE, INSERT, and DELETE Tabs ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image32.png))</span></span>

<span data-ttu-id="87561-316">在配置了 SELECT、UPDATE、INSERT 和 DELETE 选项卡后，单击 "下一步"。</span><span class="sxs-lookup"><span data-stu-id="87561-316">After configuring the SELECT, UPDATE, INSERT, and DELETE tabs, click Next.</span></span> <span data-ttu-id="87561-317">由于 `GetProductsBySupplierID(supplierID)` 方法需要输入参数，因此 "创建数据源" 向导会提示我们指定参数 s 值的源。</span><span class="sxs-lookup"><span data-stu-id="87561-317">Since the `GetProductsBySupplierID(supplierID)` method expects an input parameter, the Create Data Source wizard prompts us to specify the source for the parameter s value.</span></span>

<span data-ttu-id="87561-318">此处有几个选项可用于指定参数 s 值的源。</span><span class="sxs-lookup"><span data-stu-id="87561-318">We have a couple of options here in specifying the source of the parameter s value.</span></span> <span data-ttu-id="87561-319">可以使用默认参数对象，并以编程方式将 `SuppliersSelectedIndex` 属性的值分配给 ObjectDataSource `Selecting` 事件处理程序中的参数 s `DefaultValue` 属性。</span><span class="sxs-lookup"><span data-stu-id="87561-319">We could use the default Parameter object, and programmatically assign the value of the `SuppliersSelectedIndex` property to the Parameter s `DefaultValue` property in the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="87561-320">请参阅以[编程方式设置 objectdatasource 的参数值](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md)教程，了解如何以编程方式为 objectdatasource 参数分配值。</span><span class="sxs-lookup"><span data-stu-id="87561-320">Refer back to the [Programmatically Setting the ObjectDataSource's Parameter Values](../basic-reporting/programmatically-setting-the-objectdatasource-s-parameter-values-cs.md) tutorial for a refresher on programmatically assigning values to the ObjectDataSource s parameters.</span></span>

<span data-ttu-id="87561-321">此外，我们还可以使用 ControlParameter 并引用 `Suppliers` GridView s [`SelectedValue` 属性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx)（参见图19）。</span><span class="sxs-lookup"><span data-stu-id="87561-321">Alternatively, we can use a ControlParameter and refer to the `Suppliers` GridView s [`SelectedValue` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedvalue.aspx) (see Figure 19).</span></span> <span data-ttu-id="87561-322">GridView `SelectedValue` 属性返回对应于[`SelectedIndex` 属性](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx)的 `DataKey` 值。</span><span class="sxs-lookup"><span data-stu-id="87561-322">The GridView s `SelectedValue` property returns the `DataKey` value corresponding to the [`SelectedIndex` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.selectedindex.aspx).</span></span> <span data-ttu-id="87561-323">若要使此选项正常运行，需要在单击 "`ListProducts`" 按钮时以编程方式将 "GridView" `SelectedIndex` 属性设置为所选行。</span><span class="sxs-lookup"><span data-stu-id="87561-323">In order for this option to work, we need to programmatically set the GridView s `SelectedIndex` property to the selected row when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="87561-324">作为一项附加优势，通过设置 `SelectedIndex`，所选记录将采用 `DataWebControls` 主题中定义的 `SelectedRowStyle` （黄色背景）。</span><span class="sxs-lookup"><span data-stu-id="87561-324">As an added benefit, by setting the `SelectedIndex`, the selected record will take on the `SelectedRowStyle` defined in the `DataWebControls` Theme (a yellow background).</span></span>

<span data-ttu-id="87561-325">[![使用 ControlParameter 将 GridView s SelectedValue 指定为参数源](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="87561-325">[![Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source](adding-a-gridview-column-of-radio-buttons-cs/_static/image19.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image33.png)</span></span>

<span data-ttu-id="87561-326">**图 19**：使用 ControlParameter 将 GridView s SelectedValue 指定为参数源（[单击查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-326">**Figure 19**: Use a ControlParameter to Specify the GridView s SelectedValue as the Parameter Source ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image34.png))</span></span>

<span data-ttu-id="87561-327">完成向导后，Visual Studio 将自动为产品的数据字段添加字段。</span><span class="sxs-lookup"><span data-stu-id="87561-327">Upon completing the wizard, Visual Studio will automatically add fields for the product s data fields.</span></span> <span data-ttu-id="87561-328">删除 `ProductName`、`CategoryName`和 `UnitPrice` 的所有 BoundFields，并将 `HeaderText` 属性更改为 "产品"、"类别" 和 "价格"。</span><span class="sxs-lookup"><span data-stu-id="87561-328">Remove all but the `ProductName`, `CategoryName`, and `UnitPrice` BoundFields, and change the `HeaderText` properties to Product, Category, and Price.</span></span> <span data-ttu-id="87561-329">配置 `UnitPrice` BoundField，以便将其值设置为货币格式。</span><span class="sxs-lookup"><span data-stu-id="87561-329">Configure the `UnitPrice` BoundField so that its value is formatted as a currency.</span></span> <span data-ttu-id="87561-330">进行这些更改后，面板、GridView 和 ObjectDataSource 的声明性标记应如下所示：</span><span class="sxs-lookup"><span data-stu-id="87561-330">After making these changes, the Panel, GridView, and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample11.aspx)]

<span data-ttu-id="87561-331">若要完成此练习，我们需要将 "GridView s `SelectedIndex`" 属性设置为 "`SelectedSuppliersIndex`，将 `ProductsBySupplierPanel` 面板 `Visible`" 属性设置为在单击 "`true`" 按钮时 `ListProducts`。</span><span class="sxs-lookup"><span data-stu-id="87561-331">To complete this exercise, we need to set the GridView s `SelectedIndex` property to the `SelectedSuppliersIndex` and the `ProductsBySupplierPanel` Panel s `Visible` property to `true` when the `ListProducts` button is clicked.</span></span> <span data-ttu-id="87561-332">若要完成此操作，请为 `ListProducts` 按钮 Web 控件 `Click` 事件创建事件处理程序，并添加以下代码：</span><span class="sxs-lookup"><span data-stu-id="87561-332">To accomplish this, create an event handler for the `ListProducts` Button Web control s `Click` event and add the following code:</span></span>

[!code-csharp[Main](adding-a-gridview-column-of-radio-buttons-cs/samples/sample12.cs)]

<span data-ttu-id="87561-333">如果尚未从 GridView 中选择供应商，将显示 `ChooseSupplierMsg` 标签，并隐藏 "`ProductsBySupplierPanel`" 面板。</span><span class="sxs-lookup"><span data-stu-id="87561-333">If a supplier has not been selected from the GridView, the `ChooseSupplierMsg` Label is displayed and the `ProductsBySupplierPanel` Panel hidden.</span></span> <span data-ttu-id="87561-334">否则，如果选择了某个供应商，则会显示 `ProductsBySupplierPanel`，并更新 GridView 的 `SelectedIndex` 属性。</span><span class="sxs-lookup"><span data-stu-id="87561-334">Otherwise, if a supplier has been selected, the `ProductsBySupplierPanel` is displayed and the GridView s `SelectedIndex` property is updated.</span></span>

<span data-ttu-id="87561-335">图20显示了在选择了 Bigfoot Breweries 供应商并且单击了 "在页面上显示产品" 按钮后的结果。</span><span class="sxs-lookup"><span data-stu-id="87561-335">Figure 20 shows the results after the Bigfoot Breweries supplier has been selected and the Show Products on Page button has been clicked.</span></span>

<span data-ttu-id="87561-336">[![在同一页面上列出了 Bigfoot Breweries 提供的产品](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="87561-336">[![The Products Supplied by Bigfoot Breweries are Listed on the Same Page](adding-a-gridview-column-of-radio-buttons-cs/_static/image20.gif)](adding-a-gridview-column-of-radio-buttons-cs/_static/image35.png)</span></span>

<span data-ttu-id="87561-337">**图 20**： Bigfoot Breweries 提供的产品在同一页面上列出（[单击以查看完全大小的图像](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png)）</span><span class="sxs-lookup"><span data-stu-id="87561-337">**Figure 20**: The Products Supplied by Bigfoot Breweries are Listed on the Same Page ([Click to view full-size image](adding-a-gridview-column-of-radio-buttons-cs/_static/image36.png))</span></span>

## <a name="summary"></a><span data-ttu-id="87561-338">摘要</span><span class="sxs-lookup"><span data-stu-id="87561-338">Summary</span></span>

<span data-ttu-id="87561-339">如[使用可选的主控 GridView 和详细信息 DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md)教程中所述，可以使用 CommandField （其 `ShowSelectButton` 属性设置为 `true`）从 GridView 中选择记录。</span><span class="sxs-lookup"><span data-stu-id="87561-339">As discussed in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial, records can be selected from a GridView using a CommandField whose `ShowSelectButton` property is set to `true`.</span></span> <span data-ttu-id="87561-340">但 CommandField 将其按钮显示为普通的按钮、链接或图像。</span><span class="sxs-lookup"><span data-stu-id="87561-340">But the CommandField displays its buttons either as regular push buttons, links, or images.</span></span> <span data-ttu-id="87561-341">备用行选择用户界面是在每个 GridView 行中提供单选按钮或复选框。</span><span class="sxs-lookup"><span data-stu-id="87561-341">An alternative row-selection user interface is to provide a radio button or checkbox in each GridView row.</span></span> <span data-ttu-id="87561-342">在本教程中，我们介绍了如何添加单选按钮的列。</span><span class="sxs-lookup"><span data-stu-id="87561-342">In this tutorial we examined how to add a column of radio buttons.</span></span>

<span data-ttu-id="87561-343">遗憾的是，添加单选按钮列不会像预期那样简单简单或简单。</span><span class="sxs-lookup"><span data-stu-id="87561-343">Unfortunately, adding a column of radio buttons isn t as straightforward or simple as one might expect.</span></span> <span data-ttu-id="87561-344">不存在可在单击按钮时添加的内置 RadioButtonField，在 TemplateField 中使用单选按钮 Web 控件引入了自己的一组问题。</span><span class="sxs-lookup"><span data-stu-id="87561-344">There is no built-in RadioButtonField that can be added at the click of a button, and using the RadioButton Web control within a TemplateField introduces its own set of problems.</span></span> <span data-ttu-id="87561-345">最终，若要提供此类接口，我们需要创建一个自定义 `DataControlField` 类，或在 `RowCreated` 事件期间将相应的 HTML 注入 TemplateField。</span><span class="sxs-lookup"><span data-stu-id="87561-345">In the end, to provide such an interface we either have to create a custom `DataControlField` class or resort to injecting the appropriate HTML into a TemplateField during the `RowCreated` event.</span></span>

<span data-ttu-id="87561-346">了解如何添加单选按钮列后，让我们把注意力变成添加复选框。</span><span class="sxs-lookup"><span data-stu-id="87561-346">Having explored how to add a column of radio buttons, let us turn our attention to adding a column of checkboxes.</span></span> <span data-ttu-id="87561-347">通过一列 checkbox，用户可以选择一个或多个 GridView 行，然后对所有选定的行执行某些操作（例如，从基于 web 的电子邮件客户端选择一组电子邮件，然后选择删除所有选定的电子邮件）。</span><span class="sxs-lookup"><span data-stu-id="87561-347">With a column of checkboxes, a user can select one or more GridView rows and then perform some operation on all of the selected rows (such as selecting a set of emails from a web-based email client, and then choosing to delete all selected emails).</span></span> <span data-ttu-id="87561-348">在下一教程中，我们将了解如何添加此类列。</span><span class="sxs-lookup"><span data-stu-id="87561-348">In the next tutorial we'll see how to add such a column.</span></span>

<span data-ttu-id="87561-349">很高兴编程！</span><span class="sxs-lookup"><span data-stu-id="87561-349">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="87561-350">关于作者</span><span class="sxs-lookup"><span data-stu-id="87561-350">About the Author</span></span>

<span data-ttu-id="87561-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml)，创始人的[4GuysFromRolla.com](http://www.4guysfromrolla.com)，已在使用 Microsoft Web 技术，自1998开始。</span><span class="sxs-lookup"><span data-stu-id="87561-351">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="87561-352">Scott 的工作方式是独立的顾问、培训师和撰稿人。</span><span class="sxs-lookup"><span data-stu-id="87561-352">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="87561-353">他的最新书籍是，[*在24小时内，sam ASP.NET 2.0*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)。</span><span class="sxs-lookup"><span data-stu-id="87561-353">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="87561-354">可以[mitchell@4GuysFromRolla.com访问。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="87561-354">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="87561-355">或通过他的博客，可以在[http://ScottOnWriting.NET](http://ScottOnWriting.NET)找到。</span><span class="sxs-lookup"><span data-stu-id="87561-355">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="87561-356">特别感谢</span><span class="sxs-lookup"><span data-stu-id="87561-356">Special Thanks To</span></span>

<span data-ttu-id="87561-357">此教程系列由许多有用的审阅者查看。</span><span class="sxs-lookup"><span data-stu-id="87561-357">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="87561-358">本教程的领导审查人员是 David Suru。</span><span class="sxs-lookup"><span data-stu-id="87561-358">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="87561-359">想要查看我即将发布的 MSDN 文章？</span><span class="sxs-lookup"><span data-stu-id="87561-359">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="87561-360">如果是这样，请在mitchell@4GuysFromRolla.com放置一行[。](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="87561-360">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="87561-361">下一部分</span><span class="sxs-lookup"><span data-stu-id="87561-361">Next</span></span>](adding-a-gridview-column-of-checkboxes-cs.md)
