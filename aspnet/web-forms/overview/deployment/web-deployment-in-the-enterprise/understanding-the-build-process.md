---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
title: 了解生成过程 |Microsoft Docs
author: jrjlee
description: 本主题提供企业级生成和部署过程的演练。 本主题中所述的方法使用自定义 Microsoft Build Engin 。
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 5b982451-547b-4a2f-a5dc-79bc64d84d40
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
msc.type: authoredcontent
ms.openlocfilehash: 802d93f7ca987d018967275bae68b8c56d883a25
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78520832"
---
# <a name="understanding-the-build-process"></a><span data-ttu-id="ff2c2-104">了解生成过程</span><span class="sxs-lookup"><span data-stu-id="ff2c2-104">Understanding the Build Process</span></span>

<span data-ttu-id="ff2c2-105">作者： [Jason](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="ff2c2-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="ff2c2-106">下载 PDF</span><span class="sxs-lookup"><span data-stu-id="ff2c2-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="ff2c2-107">本主题提供企业级生成和部署过程的演练。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-107">This topic provides a walkthrough of an enterprise-scale build and deployment process.</span></span> <span data-ttu-id="ff2c2-108">本主题中所述的方法使用自定义 Microsoft 生成引擎（MSBuild）项目文件来提供对过程的每个方面的精细控制。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-108">The approach described in this topic uses custom Microsoft Build Engine (MSBuild) project files to provide fine-grained control over every aspect of the process.</span></span> <span data-ttu-id="ff2c2-109">在项目文件中，自定义 MSBuild 目标用于运行部署实用工具，如 Internet Information Services （IIS） Web 部署工具（Msdeploy.exe）和数据库部署实用工具 VSDBCMD。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-109">Within the project files, custom MSBuild targets are used to run deployment utilities like the Internet Information Services (IIS) Web Deployment Tool (MSDeploy.exe) and the database deployment utility VSDBCMD.exe.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="ff2c2-110">前面的主题[了解项目文件](understanding-the-project-file.md)，其中介绍了 MSBuild 项目文件的关键组件，并引入了拆分项目文件的概念来支持部署到多个目标环境。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-110">The previous topic, [Understanding the Project File](understanding-the-project-file.md), described the key components of an MSBuild project file and introduced the concept of split project files to support deployment to multiple target environments.</span></span> <span data-ttu-id="ff2c2-111">如果你尚不熟悉这些概念，则应在完成本主题之前查看[了解项目文件](understanding-the-project-file.md)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-111">If you're not already familiar with these concepts, you should review [Understanding the Project File](understanding-the-project-file.md) before you work through this topic.</span></span>

<span data-ttu-id="ff2c2-112">本主题介绍一系列教程的一部分，这些教程基于名为 Fabrikam，Inc. 的虚构公司的企业部署要求。本教程系列使用一个示例解决方案&#x2014;，该解决方案使用[联系人管理器解决方案](the-contact-manager-solution.md)&#x2014;来表示具有真实复杂性级别的 web 应用程序，包括 ASP.NET MVC 3 应用程序、Windows Communication Foundation （WCF）服务和数据库项目。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-112">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="ff2c2-113">这些教程核心的部署方法基于[理解项目文件](understanding-the-project-file.md)中所述的拆分项目文件方法，其中，生成过程由两个项目文件&#x2014;控制，其中一个包含适用于每个目标环境的生成说明，另一个包含特定于环境的生成和部署设置。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-113">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="ff2c2-114">在生成时，特定于环境的项目文件将合并到环境无关的项目文件中，以形成一组完整的生成说明。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-114">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="build-and-deployment-overview"></a><span data-ttu-id="ff2c2-115">生成和部署概述</span><span class="sxs-lookup"><span data-stu-id="ff2c2-115">Build and Deployment Overview</span></span>

<span data-ttu-id="ff2c2-116">在[Contact Manager 解决方案](the-contact-manager-solution.md)中，三个文件控制生成和部署过程：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-116">In the [Contact Manager solution](the-contact-manager-solution.md), three files control the build and deployment process:</span></span>

- <span data-ttu-id="ff2c2-117">*通用项目文件*（*发布*）。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-117">A *universal project file* (*Publish.proj*).</span></span> <span data-ttu-id="ff2c2-118">这包含不在目标环境之间更改的生成和部署说明。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-118">This contains build and deployment instructions that do not change between destination environments.</span></span>
- <span data-ttu-id="ff2c2-119">*环境特定的项目文件*（*Env*）。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-119">An *environment-specific project file* (*Env-Dev.proj*).</span></span> <span data-ttu-id="ff2c2-120">其中包含特定于特定目标环境的生成和部署设置。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-120">This contains build and deployment settings that are specific to a particular destination environment.</span></span> <span data-ttu-id="ff2c2-121">例如，你可以使用*Env Dev*文件来提供开发人员或测试环境的设置，并创建一个名为 " *Env-Stage* " 的替代文件来提供过渡环境的设置。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-121">For example, you could use the *Env-Dev.proj* file to provide settings for a developer or test environment and create an alternative file named *Env-Stage.proj* to provide settings for a staging environment.</span></span>
- <span data-ttu-id="ff2c2-122">*命令文件*（*Publish-Dev*）。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-122">A *command file* (*Publish-Dev.cmd*).</span></span> <span data-ttu-id="ff2c2-123">这包含一个 Msbuild.exe 命令，该命令指定要执行的项目文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-123">This contains an MSBuild.exe command that specifies which project files you want to execute.</span></span> <span data-ttu-id="ff2c2-124">可以为每个目标环境创建一个命令文件，其中每个文件都包含一个用于指定其他特定于环境的项目文件的 Msbuild.exe 命令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-124">You can create a command file for every destination environment, where each file contains an MSBuild.exe command that specifies a different environment-specific project file.</span></span> <span data-ttu-id="ff2c2-125">这使得开发人员只需运行相应的命令文件即可部署到不同的环境。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-125">This lets the developer deploy to different environments simply by running the appropriate command file.</span></span>

<span data-ttu-id="ff2c2-126">在示例解决方案中，可以在 "发布解决方案" 文件夹中找到这三个文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-126">In the sample solution, you can find these three files in the Publish solution folder.</span></span>

![](understanding-the-build-process/_static/image1.png)

<span data-ttu-id="ff2c2-127">在更详细地查看这些文件之前，让我们先了解一下在使用此方法时总体生成过程是如何工作的。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-127">Before you look at these files in more detail, let's take a look at how the overall build process works when you use this approach.</span></span> <span data-ttu-id="ff2c2-128">在较高级别，生成和部署过程如下所示：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-128">At a high level, the build and deployment process looks like this:</span></span>

![](understanding-the-build-process/_static/image2.png)

<span data-ttu-id="ff2c2-129">首先要做的事情是，这两个项目&#x2014;文件中一个包含通用生成和部署说明，另一个包含环境特定&#x2014;的设置合并到一个项目文件中。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-129">The first thing that happens is that the two project files&#x2014;one containing universal build and deployment instructions, and one containing environment-specific settings&#x2014;are merged into a single project file.</span></span> <span data-ttu-id="ff2c2-130">然后，MSBuild 将通过项目文件中的说明。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-130">MSBuild then works through the instructions in the project file.</span></span> <span data-ttu-id="ff2c2-131">它使用每个项目的项目文件来生成解决方案中的每个项目。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-131">It builds each of the projects in the solution, using the project file for each project.</span></span> <span data-ttu-id="ff2c2-132">然后，它调用其他工具（如 Web 部署（Msdeploy.exe））和 VSDBCMD 实用程序，以将您的 Web 内容和数据库部署到目标环境。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-132">It then calls out to other tools, like Web Deploy (MSDeploy.exe) and the VSDBCMD utility to deploy your web content and databases to the target environment.</span></span>

<span data-ttu-id="ff2c2-133">从一开始到完成，生成和部署过程将执行以下任务：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-133">From start to finish, the build and deployment process performs these tasks:</span></span>

1. <span data-ttu-id="ff2c2-134">它会删除输出目录的内容，以准备全新的生成。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-134">It deletes the contents of the output directory, in preparation for a fresh build.</span></span>
2. <span data-ttu-id="ff2c2-135">它在解决方案中生成每个项目：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-135">It builds each project in the solution:</span></span>

    1. <span data-ttu-id="ff2c2-136">对于本示例&#x2014;中的 web 项目，生成过程会为每个项目创建一个&#x2014;web 部署包，这是一个 ASP.NET MVC WEB 应用程序和 WCF web 服务。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-136">For web projects&#x2014;in this case, an ASP.NET MVC web application and a WCF web service&#x2014;the build process creates a web deployment package for each project.</span></span>
    2. <span data-ttu-id="ff2c2-137">对于数据库项目，生成过程会为每个项目创建一个部署清单（deploymanifest 文件）。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-137">For database projects, the build process creates a deployment manifest (.deploymanifest file) for each project.</span></span>
3. <span data-ttu-id="ff2c2-138">它使用 VSDBCMD 实用程序来部署解决方案中的每个数据库项目，&#x2014;&#x2014;同时使用项目文件中的各种属性和 deploymanifest 文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-138">It uses the VSDBCMD.exe utility to deploy each database project in the solution, using various properties from the project files&#x2014;a target connection string and a database name&#x2014;together with the .deploymanifest file.</span></span>
4. <span data-ttu-id="ff2c2-139">它使用 Msdeploy.exe 实用工具来部署解决方案中的每个 web 项目，并使用项目文件中的各种属性来控制部署过程。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-139">It uses the MSDeploy.exe utility to deploy each web project in the solution, using various properties from the project files to control the deployment process.</span></span>

<span data-ttu-id="ff2c2-140">您可以使用示例解决方案更详细地跟踪此过程。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-140">You can use the sample solution to trace this process in more detail.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-141">有关如何为自己的服务器环境自定义特定于环境的项目文件的指南，请参阅[配置目标环境的部署属性](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-141">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="invoking-the-build-and-deployment-process"></a><span data-ttu-id="ff2c2-142">调用生成和部署进程</span><span class="sxs-lookup"><span data-stu-id="ff2c2-142">Invoking the Build and Deployment Process</span></span>

<span data-ttu-id="ff2c2-143">若要将 Contact Manager 解决方案部署到开发人员测试环境，开发人员需要运行*Publish-Dev*命令文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-143">To deploy the Contact Manager solution to a developer test environment, the developer runs the *Publish-Dev.cmd* command file.</span></span> <span data-ttu-id="ff2c2-144">这将调用 Msbuild.exe，并将*Publish*指定为要执行的项目文件，并将*Env-Dev*指定为参数值。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-144">This invokes MSBuild.exe, specifying *Publish.proj* as the project file to execute and *Env-Dev.proj* as a parameter value.</span></span>

[!code-console[Main](understanding-the-build-process/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="ff2c2-145">**/Fl**开关（short for **/fileLogger**）将生成输出记录到当前目录中名为*msbuild.exe*的文件中。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-145">The **/fl** switch (short for **/fileLogger**) logs the build output to a file named *msbuild.log* in the current directory.</span></span> <span data-ttu-id="ff2c2-146">有关详细信息，请参阅[MSBuild 命令行参考](https://msdn.microsoft.com/library/ms164311.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-146">For more information, see the [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>

<span data-ttu-id="ff2c2-147">此时，MSBuild 开始运行，加载*Publish*文件，并开始处理其中的指令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-147">At this point, MSBuild starts running, loads the *Publish.proj* file, and starts processing the instructions within it.</span></span> <span data-ttu-id="ff2c2-148">第一个指令指示 MSBuild 导入**TargetEnvPropsFile**参数指定的项目文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-148">The first instruction tells MSBuild to import the project file that the **TargetEnvPropsFile** parameter specifies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample2.xml)]

<span data-ttu-id="ff2c2-149">**TargetEnvPropsFile**参数指定了*env dev*文件，因此 MSBuild 将*env 开发*文件的内容合并到*Publish*文件中。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-149">The **TargetEnvPropsFile** parameter specifies the *Env-Dev.proj* file, so MSBuild merges the contents of the *Env-Dev.proj* file into the *Publish.proj* file.</span></span>

<span data-ttu-id="ff2c2-150">在合并的项目文件中，MSBuild 遇到的下一个元素是属性组。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-150">The next elements that MSBuild encounters in the merged project file are property groups.</span></span> <span data-ttu-id="ff2c2-151">属性按其在文件中出现的顺序进行处理。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-151">Properties are processed in the order in which they appear in the file.</span></span> <span data-ttu-id="ff2c2-152">MSBuild 将为每个属性创建一个键值对，同时满足指定的条件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-152">MSBuild creates a key-value pair for each property, providing that any specified conditions are met.</span></span> <span data-ttu-id="ff2c2-153">稍后在文件中定义的属性将覆盖在文件中之前定义的具有相同名称的任何属性。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-153">Properties defined later in the file will overwrite any properties with the same name defined earlier in the file.</span></span> <span data-ttu-id="ff2c2-154">例如，请考虑**OutputRoot**属性。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-154">For example, consider the **OutputRoot** properties.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample3.xml)]

<span data-ttu-id="ff2c2-155">当 MSBuild 处理第一个**OutputRoot**元素时，如果尚未提供具有相似名称的参数，则会将**OutputRoot**属性的值设置为 **。\Publish\Out**。当它遇到第二个**OutputRoot**元素时，如果条件的计算结果为**true**，则它将用**OutDir**参数的值覆盖**OutputRoot**属性的值。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-155">When MSBuild processes the first **OutputRoot** element, providing a similarly named parameter has not been provided, it sets the value of the **OutputRoot** property to **..\Publish\Out**. When it encounters the second **OutputRoot** element, if the condition evaluates to **true**, it will overwrite the value of the **OutputRoot** property with the value of the **OutDir** parameter.</span></span>

<span data-ttu-id="ff2c2-156">MSBuild 遇到的下一个元素是单个项组，其中包含名为**buildsettings.projectstobuild**的项。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-156">The next element that MSBuild encounters is a single item group, containing an item named **ProjectsToBuild**.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample4.xml)]

<span data-ttu-id="ff2c2-157">MSBuild 通过生成名为**buildsettings.projectstobuild**的项列表来处理此指令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-157">MSBuild processes this instruction by building an item list named **ProjectsToBuild**.</span></span> <span data-ttu-id="ff2c2-158">在这种情况下，项列表包含单个值&#x2014;，即解决方案文件的路径和文件名。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-158">In this case, the item list contains a single value&#x2014;the path and filename of the solution file.</span></span>

<span data-ttu-id="ff2c2-159">此时，剩余元素为目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-159">At this point, the remaining elements are targets.</span></span> <span data-ttu-id="ff2c2-160">从本质上讲，目标的处理&#x2014;方式不同于属性和项，除非用户显式指定了目标或由项目文件中的另一个构造调用，否则不会处理目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-160">Targets are processed differently from properties and items&#x2014;essentially, targets are not processed unless they are either explicitly specified by the user or invoked by another construct within the project file.</span></span> <span data-ttu-id="ff2c2-161">请记住，开始**项目**标记包含**DefaultTargets**属性。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-161">Recall that the opening **Project** tag includes a **DefaultTargets** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample5.xml)]

<span data-ttu-id="ff2c2-162">如果调用了 Msbuild.exe，则这将指示 MSBuild 调用**FullPublish**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-162">This instructs MSBuild to invoke the **FullPublish** target, if targets are not specified when MSBuild.exe is invoked.</span></span> <span data-ttu-id="ff2c2-163">**FullPublish**目标不包含任何任务;而只需指定依赖项列表。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-163">The **FullPublish** target doesn't contain any tasks; instead it simply specifies a list of dependencies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample6.xml)]

<span data-ttu-id="ff2c2-164">此依赖项通知 MSBuild 为了执行**FullPublish**目标，它需要按提供的顺序调用此目标列表：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-164">This dependency tells MSBuild that in order to execute the **FullPublish** target, it needs to invoke this list of targets in the order provided:</span></span>

1. <span data-ttu-id="ff2c2-165">它必须调用**Clean**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-165">It must invoke the **Clean** target.</span></span>
2. <span data-ttu-id="ff2c2-166">它必须调用**BuildProjects**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-166">It must invoke the **BuildProjects** target.</span></span>
3. <span data-ttu-id="ff2c2-167">它必须调用**GatherPackagesForPublishing**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-167">It must invoke the **GatherPackagesForPublishing** target.</span></span>
4. <span data-ttu-id="ff2c2-168">它必须调用**PublishDbPackages**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-168">It must invoke the **PublishDbPackages** target.</span></span>
5. <span data-ttu-id="ff2c2-169">它必须调用**PublishWebPackages**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-169">It must invoke the **PublishWebPackages** target.</span></span>

### <a name="the-clean-target"></a><span data-ttu-id="ff2c2-170">清理目标</span><span class="sxs-lookup"><span data-stu-id="ff2c2-170">The Clean Target</span></span>

<span data-ttu-id="ff2c2-171">**清理**目标基本上会删除输出目录及其所有内容，这是为全新生成做准备。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-171">The **Clean** target basically deletes the output directory and all its contents, as preparation for a fresh build.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample7.xml)]

<span data-ttu-id="ff2c2-172">请注意，目标包含**ItemGroup**元素。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-172">Notice that the target includes an **ItemGroup** element.</span></span> <span data-ttu-id="ff2c2-173">在**目标**元素中定义属性或项时，将创建*动态*属性和项。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-173">When you define properties or items within a **Target** element, you're creating *dynamic* properties and items.</span></span> <span data-ttu-id="ff2c2-174">换句话说，在执行目标之前，不会对属性或项进行处理。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-174">In other words, the properties or items aren't processed until the target is executed.</span></span> <span data-ttu-id="ff2c2-175">输出目录可能不存在，或者在生成过程开始之前不包含任何文件，因此无法将 **\_FilesToDelete**列表生成为静态项;您必须等到执行执行完毕。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-175">The output directory might not exist or contain any files until the build process begins, so you can't build the **\_FilesToDelete** list as a static item; you have to wait until execution is underway.</span></span> <span data-ttu-id="ff2c2-176">因此，可以将该列表构建为目标中的动态项。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-176">As such, you build the list as a dynamic item within the target.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-177">在这种情况下，因为**清理**目标是第一次执行，因此不需要使用动态项组。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-177">In this case, because the **Clean** target is the first to be executed, there's no real need to use a dynamic item group.</span></span> <span data-ttu-id="ff2c2-178">但是，在这种情况下，最好使用动态属性和项，因为你可能想要在某个时间点以不同的顺序执行目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-178">However, it's good practice to use dynamic properties and items in this type of scenario, as you might want to execute targets in a different order at some point.</span></span>  
> <span data-ttu-id="ff2c2-179">还应瞄准，以避免声明永远不会使用的项。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-179">You should also aim to avoid declaring items that will never be used.</span></span> <span data-ttu-id="ff2c2-180">如果你的项仅将由特定目标使用，请考虑将它们放在目标内，以消除生成过程中的任何不必要的开销。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-180">If you have items that will only be used by a specific target, consider placing them inside the target to remove any unnecessary overhead on the build process.</span></span>

<span data-ttu-id="ff2c2-181">动态项放在一起，**干净**的目标相当简单，并使用内置的**Message**、 **Delete**和**RemoveDir**任务来执行以下操作：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-181">Dynamic items aside, the **Clean** target is fairly straightforward and makes use of the built-in **Message**, **Delete**, and **RemoveDir** tasks to:</span></span>

1. <span data-ttu-id="ff2c2-182">向记录器发送消息。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-182">Send a message to the logger.</span></span>
2. <span data-ttu-id="ff2c2-183">生成要删除的文件的列表。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-183">Build a list of files to delete.</span></span>
3. <span data-ttu-id="ff2c2-184">删除文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-184">Delete the files.</span></span>
4. <span data-ttu-id="ff2c2-185">删除输出目录。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-185">Remove the output directory.</span></span>

### <a name="the-buildprojects-target"></a><span data-ttu-id="ff2c2-186">BuildProjects 目标</span><span class="sxs-lookup"><span data-stu-id="ff2c2-186">The BuildProjects Target</span></span>

<span data-ttu-id="ff2c2-187">**BuildProjects**目标基本上会生成示例解决方案中的所有项目。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-187">The **BuildProjects** target basically builds all the projects in the sample solution.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample8.xml)]

<span data-ttu-id="ff2c2-188">前面的主题[了解项目文件](understanding-the-project-file.md)中对此目标进行了详细介绍，以说明任务和目标如何引用属性和项。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-188">This target was described in some detail in the previous topic, [Understanding the Project File](understanding-the-project-file.md), to illustrate how tasks and targets reference properties and items.</span></span> <span data-ttu-id="ff2c2-189">此时，您主要对**MSBuild**任务感兴趣。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-189">At this point, you're mainly interested in the **MSBuild** task.</span></span> <span data-ttu-id="ff2c2-190">您可以使用此任务来生成多个项目。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-190">You can use this task to build multiple projects.</span></span> <span data-ttu-id="ff2c2-191">该任务不创建 Msbuild.exe 的新实例;它使用当前正在运行的实例来构建每个项目。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-191">The task does not create a new instance of MSBuild.exe; it uses the current running instance to build each project.</span></span> <span data-ttu-id="ff2c2-192">在此示例中，重要的要点是部署属性：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-192">The key points of interest in this example are the deployment properties:</span></span>

- <span data-ttu-id="ff2c2-193">当完成每个项目的生成时， **DeployOnBuild**属性指示 MSBuild 在项目设置中运行任何部署说明。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-193">The **DeployOnBuild** property instructs MSBuild to run any deployment instructions in the project settings when the build of each project is complete.</span></span>
- <span data-ttu-id="ff2c2-194">**DeployTarget**属性标识生成项目后要调用的目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-194">The **DeployTarget** property identifies the target that you want to invoke after the project is built.</span></span> <span data-ttu-id="ff2c2-195">在这种情况下，**包**目标会将项目输出生成到可部署的 web 包中。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-195">In this case, the **Package** target builds the project output into a deployable web package.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-196">**包**目标调用 Web 发布管道（WPP），该管道提供 MSBuild 与 Web 部署之间的集成。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-196">The **Package** target invokes the Web Publishing Pipeline (WPP), which provides integration between MSBuild and Web Deploy.</span></span> <span data-ttu-id="ff2c2-197">如果希望查看 WPP 提供的内置目标，请查看% PROGRAMFILES （x86）% \ MSBuild\Microsoft\VisualStudio\v10.0\Web 文件夹中的 " *Microsoft web.config* " 文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-197">If you want to take a look at the built-in targets that the WPP provides, review the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>

### <a name="the-gatherpackagesforpublishing-target"></a><span data-ttu-id="ff2c2-198">GatherPackagesForPublishing 目标</span><span class="sxs-lookup"><span data-stu-id="ff2c2-198">The GatherPackagesForPublishing Target</span></span>

<span data-ttu-id="ff2c2-199">如果你研究**GatherPackagesForPublishing**目标，你会注意到它不包含任何任务。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-199">If you study the **GatherPackagesForPublishing** target, you'll notice that it doesn't actually contain any tasks.</span></span> <span data-ttu-id="ff2c2-200">相反，它包含定义三个动态项的单个项组。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-200">Instead, it contains a single item group that defines three dynamic items.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample9.xml)]

<span data-ttu-id="ff2c2-201">这些项引用在执行**BuildProjects**目标时创建的部署包。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-201">These items refer to the deployment packages that were created when the **BuildProjects** target was executed.</span></span> <span data-ttu-id="ff2c2-202">无法在项目文件中静态定义这些项，因为在执行**BuildProjects**目标之前，项所引用的文件不存在。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-202">You couldn't define these items statically in the project file, because the files to which the items refer don't exist until the **BuildProjects** target is executed.</span></span> <span data-ttu-id="ff2c2-203">相反，必须在未调用的目标中动态定义项，直到执行**BuildProjects**目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-203">Instead, the items must be defined dynamically within a target that is not invoked until after the **BuildProjects** target is executed.</span></span>

<span data-ttu-id="ff2c2-204">此目标中不使用这些项，&#x2014;此目标只是生成与每个项值相关联的项和元数据。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-204">The items are not used within this target&#x2014;this target simply builds the items and the metadata associated with each item value.</span></span> <span data-ttu-id="ff2c2-205">在处理这些元素后， **PublishPackages**项将包含两个值： *ContactManager*文件的路径和*ContactManager*文件的路径（& e）。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-205">Once these elements are processed, the **PublishPackages** item will contain two values, the path to the *ContactManager.Mvc.deploy.cmd* file and the path to the *ContactManager.Service.deploy.cmd* file.</span></span> <span data-ttu-id="ff2c2-206">Web 部署会将这些文件创建为每个项目的 web 包的一部分，并且这些文件必须在目标服务器上调用才能部署包。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-206">Web Deploy creates these files as part of the web package for each project, and these are the files that you must invoke on the destination server in order to deploy the packages.</span></span> <span data-ttu-id="ff2c2-207">如果打开这些文件中的一个，你将看到带有各种特定于版本的参数值的 Msdeploy.exe 命令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-207">If you open up one of these files, you'll basically see an MSDeploy.exe command with various build-specific parameter values.</span></span>

<span data-ttu-id="ff2c2-208">**DbPublishPackages**项将包含单个值，即*ContactManager*文件的路径。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-208">The **DbPublishPackages** item will contain a single value, the path to the *ContactManager.Database.deploymanifest* file.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-209">生成数据库项目时将生成一个 deploymanifest 文件，并且该文件使用与 MSBuild 项目文件相同的架构。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-209">A .deploymanifest file is generated when you build a database project, and it uses the same schema as an MSBuild project file.</span></span> <span data-ttu-id="ff2c2-210">它包含部署数据库时所需的所有信息，包括数据库架构（.dbschema）的位置以及任何预先部署脚本和后期部署脚本的详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-210">It contains all the information required to deploy a database, including the location of the database schema (.dbschema) and details of any pre-deployment and post-deployment scripts.</span></span> <span data-ttu-id="ff2c2-211">有关详细信息，请参阅[数据库生成和部署的概述](https://msdn.microsoft.com/library/aa833165.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-211">For more information, see [An Overview of Database Build and Deployment](https://msdn.microsoft.com/library/aa833165.aspx).</span></span>

<span data-ttu-id="ff2c2-212">你将了解有关如何创建和[打包 Web 应用程序项目](building-and-packaging-web-application-projects.md)和[部署数据库项目](deploying-database-projects.md)的部署包和数据库部署清单的详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-212">You'll learn more about how deployment packages and database deployment manifests are created and used in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Deploying Database Projects](deploying-database-projects.md).</span></span>

### <a name="the-publishdbpackages-target"></a><span data-ttu-id="ff2c2-213">PublishDbPackages 目标</span><span class="sxs-lookup"><span data-stu-id="ff2c2-213">The PublishDbPackages Target</span></span>

<span data-ttu-id="ff2c2-214">简而言之， **PublishDbPackages**目标调用 VSDBCMD 实用工具，将**ContactManager**数据库部署到目标环境。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-214">Briefly speaking, the **PublishDbPackages** target invokes the VSDBCMD utility to deploy the **ContactManager** database to a target environment.</span></span> <span data-ttu-id="ff2c2-215">配置数据库部署涉及到许多决策和细微差别，你将在[部署数据库项目](deploying-database-projects.md)并[为多个环境自定义数据库部署](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md)中了解更多相关信息。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-215">Configuring database deployment involves lots of decisions and nuances, and you'll learn more about this in [Deploying Database Projects](deploying-database-projects.md) and [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="ff2c2-216">在本主题中，我们将重点介绍此目标的实际工作方式。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-216">In this topic, we'll focus on how this target actually functions.</span></span>

<span data-ttu-id="ff2c2-217">首先，请注意，开始标记包含**输出**属性。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-217">First, notice that the opening tag includes an **Outputs** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample10.xml)]

<span data-ttu-id="ff2c2-218">这是*目标批处理*的示例。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-218">This is an example of *target batching*.</span></span> <span data-ttu-id="ff2c2-219">在 MSBuild 项目文件中，批处理是用于循环访问集合的一项技术。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-219">In MSBuild project files, batching is a technique for iterating over collections.</span></span> <span data-ttu-id="ff2c2-220">**输出**属性的值 **"% （DbPublishPackages）"** 是指**DbPublishPackages**项列表的 "**标识**元数据" 属性。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-220">The value of the **Outputs** attribute, **"%(DbPublishPackages.Identity)"**, refers to the **Identity** metadata property of the **DbPublishPackages** item list.</span></span> <span data-ttu-id="ff2c2-221">此表示法 \**输出 =% \* \* \* （ItemList. ItemMetadataName）* 转换为：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-221">This notation, \**Outputs=%\*\*\*(ItemList.ItemMetadataName)*, is translated as:</span></span>

- <span data-ttu-id="ff2c2-222">将**DbPublishPackages**中的项拆分为包含相同**标识**元数据值的项的批。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-222">Split the items in **DbPublishPackages** into batches of items that contain the same **Identity** metadata value.</span></span>
- <span data-ttu-id="ff2c2-223">每批执行一次目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-223">Execute the target once per batch.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-224">**标识**是在创建时分配给每个项的[内置元数据值](https://msdn.microsoft.com/library/ms164313.aspx)之一。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-224">**Identity** is one of the [built-in metadata values](https://msdn.microsoft.com/library/ms164313.aspx) that is assigned to every item on creation.</span></span> <span data-ttu-id="ff2c2-225">它引用**项**元素&#x2014;中的**Include**特性的值，换言之，该项的路径和文件名。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-225">It refers to the value of the **Include** attribute in the **Item** element&#x2014;in other words, the path and filename of the item.</span></span>

<span data-ttu-id="ff2c2-226">在这种情况下，因为应该不会有多个具有相同路径和文件名的项，因此，实际上是使用一项的批大小。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-226">In this case, because there should never be more than one item with the same path and filename, we're essentially working with batch sizes of one.</span></span> <span data-ttu-id="ff2c2-227">针对每个数据库包执行一次目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-227">The target is executed once for every database package.</span></span>

<span data-ttu-id="ff2c2-228">可以在 **\_Cmd**属性中看到类似的表示法，该属性使用适当的开关生成 VSDBCMD 命令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-228">You can see a similar notation in the **\_Cmd** property, which builds a VSDBCMD command with the appropriate switches.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample11.xml)]

<span data-ttu-id="ff2c2-229">在这种情况下， **% （DbPublishPackages. DatabaseConnectionString）** 、 **% （DbPublishPackages TargetDatabase）** 和 **% （DbPublishPackages）** 都引用**FullPath**项集合的元数据值。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-229">In this case, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, and **%(DbPublishPackages.FullPath)** all refer to metadata values of the **DbPublishPackages** item collection.</span></span> <span data-ttu-id="ff2c2-230">**\_Cmd**属性由**Exec**任务使用，该任务调用命令。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-230">The **\_Cmd** property is used by the **Exec** task, which invokes the command.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample12.xml)]

<span data-ttu-id="ff2c2-231">作为此表示法的结果， **Exec**任务将基于**DatabaseConnectionString**、 **TargetDatabase**和**FullPath**元数据值的唯一组合创建批处理，并为每个批次执行任务一次。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-231">As a result of this notation, the **Exec** task will create batches based on unique combinations of the **DatabaseConnectionString**, **TargetDatabase**, and **FullPath** metadata values, and the task will execute once for each batch.</span></span> <span data-ttu-id="ff2c2-232">这是*任务批处理*的一个示例。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-232">This is an example of *task batching*.</span></span> <span data-ttu-id="ff2c2-233">但是，由于目标级别批处理已经将项集合划分为单项批处理，因此**Exec**任务将运行一次，并且仅针对目标的每个迭代运行一次。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-233">However, because the target-level batching has already divided our item collection into single-item batches, the **Exec** task will run once and only once for each iteration of the target.</span></span> <span data-ttu-id="ff2c2-234">换句话说，此任务会为解决方案中的每个数据库包调用一次 VSDBCMD 实用程序。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-234">In other words, this task invokes the VSDBCMD utility once for each database package in the solution.</span></span>

> [!NOTE]
> <span data-ttu-id="ff2c2-235">有关目标和任务批处理的详细信息，请参阅 MSBuild[批处理](https://msdn.microsoft.com/library/ms171473.aspx)、[目标批处理中的项元数据](https://msdn.microsoft.com/library/ms228229.aspx)，以及[任务批处理中的项元数据](https://msdn.microsoft.com/library/ms171474.aspx)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-235">For more information on target and task batching, see MSBuild [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [Item Metadata in Target Batching](https://msdn.microsoft.com/library/ms228229.aspx), and [Item Metadata in Task Batching](https://msdn.microsoft.com/library/ms171474.aspx).</span></span>

### <a name="the-publishwebpackages-target"></a><span data-ttu-id="ff2c2-236">PublishWebPackages 目标</span><span class="sxs-lookup"><span data-stu-id="ff2c2-236">The PublishWebPackages Target</span></span>

<span data-ttu-id="ff2c2-237">此时，您已调用**BuildProjects**目标，该目标为示例解决方案中的每个项目生成一个 web 部署包。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-237">By this point, you've invoked the **BuildProjects** target, which generates a web deployment package for each project in the sample solution.</span></span> <span data-ttu-id="ff2c2-238">随附每个包都是一个 *.deploy .cmd*文件，其中包含将包部署到目标环境所需的 msdeploy.exe 命令，以及一个*SetParameters*文件，该文件指定目标环境的必要细节。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-238">Accompanying each package is a *deploy.cmd* file, which contains the MSDeploy.exe commands required to deploy the package to the target environment, and a *SetParameters.xml* file, which specifies the necessary details of the target environment.</span></span> <span data-ttu-id="ff2c2-239">你还调用了**GatherPackagesForPublishing**目标，它会生成一个项集合，其中包含你感兴趣的*部署 .cmd*文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-239">You've also invoked the **GatherPackagesForPublishing** target, which generates an item collection containing the *deploy.cmd* files you're interested in.</span></span> <span data-ttu-id="ff2c2-240">实质上， **PublishWebPackages**目标执行以下功能：</span><span class="sxs-lookup"><span data-stu-id="ff2c2-240">Essentially, the **PublishWebPackages** target performs these functions:</span></span>

- <span data-ttu-id="ff2c2-241">它使用**XmlPoke**任务，为每个包操作*SetParameters*文件，以便为目标环境包含正确的详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-241">It manipulates the *SetParameters.xml* file for each package to include the correct details for the target environment, using the **XmlPoke** task.</span></span>
- <span data-ttu-id="ff2c2-242">它使用适当的开关为每个包调用 *.deploy .cmd*文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-242">It invokes the *deploy.cmd* file for each package, using the appropriate switches.</span></span>

<span data-ttu-id="ff2c2-243">与**PublishDbPackages**目标一样， **PublishWebPackages**目标使用目标批处理来确保针对每个 web 包执行一次目标。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-243">Just like the **PublishDbPackages** target, the **PublishWebPackages** target uses target batching to ensure that the target is executed once for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample13.xml)]

<span data-ttu-id="ff2c2-244">在目标中， **Exec**任务用于为每个 web 包运行 *.deploy .cmd*文件。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-244">Within the target, the **Exec** task is used to run the *deploy.cmd* file for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample14.xml)]

<span data-ttu-id="ff2c2-245">有关配置 web 包部署的详细信息，请参阅[生成和打包 Web 应用程序项目](building-and-packaging-web-application-projects.md)。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-245">For more information on configuring the deployment of web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="ff2c2-246">结束语</span><span class="sxs-lookup"><span data-stu-id="ff2c2-246">Conclusion</span></span>

<span data-ttu-id="ff2c2-247">本主题提供了有关如何使用拆分项目文件来控制从联系人管理器示例解决方案开始到完成的生成和部署过程的演练。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-247">This topic provided a walkthrough of how split project files are used to control the build and deployment process from start to finish for the Contact Manager sample solution.</span></span> <span data-ttu-id="ff2c2-248">使用此方法，只需运行特定于环境的命令文件，即可在单个可重复的步骤中运行复杂的企业级部署。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-248">Using this approach lets you run complex, enterprise-scale deployments in a single, repeatable step, simply by running an environment-specific command file.</span></span>

## <a name="further-reading"></a><span data-ttu-id="ff2c2-249">其他阅读材料</span><span class="sxs-lookup"><span data-stu-id="ff2c2-249">Further Reading</span></span>

<span data-ttu-id="ff2c2-250">有关项目文件和 WPP 的更深入介绍，请参阅[Microsoft 生成引擎内部：使用 MSBuild 和 Team Foundation build](http://amzn.com/0735645248) By Sayed Ibrahim Hashimi 和 William BARTHOLOMEW，ISBN：978-0-7356-4524-0。</span><span class="sxs-lookup"><span data-stu-id="ff2c2-250">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ff2c2-251">[上一页](understanding-the-project-file.md)
> [下一页](building-and-packaging-web-application-projects.md)</span><span class="sxs-lookup"><span data-stu-id="ff2c2-251">[Previous](understanding-the-project-file.md)
[Next](building-and-packaging-web-application-projects.md)</span></span>
