---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment
title: 选择正确的 Web 部署方法 |Microsoft Docs
author: jrjlee
description: 使用 Internet Information Services （IIS） Web 部署工具（Web 部署）2.0 或更高版本时，可以使用以下三种主要方法获取 。
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 787a53fd-9901-4a11-9d58-61e0509cda45
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment
msc.type: authoredcontent
ms.openlocfilehash: 13f784dd8e6404806104d56b026b3c41ca178892
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 03/06/2020
ms.locfileid: "78441422"
---
# <a name="choosing-the-right-approach-to-web-deployment"></a><span data-ttu-id="016fe-103">选择 Web 部署的适当方法</span><span class="sxs-lookup"><span data-stu-id="016fe-103">Choosing the Right Approach to Web Deployment</span></span>

<span data-ttu-id="016fe-104">作者： [Jason](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="016fe-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="016fe-105">下载 PDF</span><span class="sxs-lookup"><span data-stu-id="016fe-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="016fe-106">使用 Internet Information Services （IIS） Web 部署工具（Web 部署）2.0 或更高版本时，可以使用以下三种主要方法将打包的 web 应用程序部署到 web 服务器上。</span><span class="sxs-lookup"><span data-stu-id="016fe-106">When you work with the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) 2.0 or later, there are three main approaches you can use to get your packaged web applications onto a web server.</span></span> <span data-ttu-id="016fe-107">你可以：</span><span class="sxs-lookup"><span data-stu-id="016fe-107">You can either:</span></span>
> 
> - <span data-ttu-id="016fe-108">通过目标服务器上的*Web 部署代理服务*（也称为 "远程代理"）来部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="016fe-108">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the "remote agent") on the destination server.</span></span>
> - <span data-ttu-id="016fe-109">使用点播 Web 部署（也称为 "temp agent"）从远程位置部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="016fe-109">Deploy the application from a remote location using Web Deploy On Demand (also known as the "temp agent").</span></span>
> - <span data-ttu-id="016fe-110">通过目标服务器上的*IIS Web 部署处理程序*来部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="016fe-110">Deploy the application from a remote location by targeting the *IIS Web Deploy Handler* on the destination server.</span></span>
> - <span data-ttu-id="016fe-111">通过将 web 包手动复制到目标服务器并通过 IIS 管理器导入来部署应用程序。</span><span class="sxs-lookup"><span data-stu-id="016fe-111">Deploy the application by manually copying the web package to the destination server and importing it through IIS Manager.</span></span>
> 
> <span data-ttu-id="016fe-112">你配置目标 web 服务器的方式将取决于你想要使用的部署方法。</span><span class="sxs-lookup"><span data-stu-id="016fe-112">How you configure your destination web servers will depend on which approach to deployment you want to use.</span></span> <span data-ttu-id="016fe-113">本主题将帮助你决定部署哪种方法适合你。</span><span class="sxs-lookup"><span data-stu-id="016fe-113">This topic will help you decide which approach to deployment is right for you.</span></span>

<span data-ttu-id="016fe-114">下表显示了每种部署方法的主要优点和缺点，以及大多数情况下最适合的方案。</span><span class="sxs-lookup"><span data-stu-id="016fe-114">This table shows the main advantages and disadvantages of each deployment approach, together with the scenarios that most typically suit each approach.</span></span>

| <span data-ttu-id="016fe-115">方法</span><span class="sxs-lookup"><span data-stu-id="016fe-115">Approach</span></span> | <span data-ttu-id="016fe-116">优点</span><span class="sxs-lookup"><span data-stu-id="016fe-116">Advantages</span></span> | <span data-ttu-id="016fe-117">缺点</span><span class="sxs-lookup"><span data-stu-id="016fe-117">Disadvantages</span></span> | <span data-ttu-id="016fe-118">典型方案</span><span class="sxs-lookup"><span data-stu-id="016fe-118">Typical Scenarios</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="016fe-119">远程代理</span><span class="sxs-lookup"><span data-stu-id="016fe-119">Remote Agent</span></span> | <span data-ttu-id="016fe-120">它很容易设置。</span><span class="sxs-lookup"><span data-stu-id="016fe-120">It is easy to set up.</span></span> <span data-ttu-id="016fe-121">它适用于 web 应用程序和内容的定期更新。</span><span class="sxs-lookup"><span data-stu-id="016fe-121">It is suitable for regular updates to web applications and content.</span></span> | <span data-ttu-id="016fe-122">用户必须是目标服务器上的管理员。</span><span class="sxs-lookup"><span data-stu-id="016fe-122">The user must be an administrator on the target server.</span></span> <span data-ttu-id="016fe-123">用户无法提供备用凭据。</span><span class="sxs-lookup"><span data-stu-id="016fe-123">the user can't supply alternative credentials.</span></span> | <span data-ttu-id="016fe-124">开发环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-124">Development environments.</span></span> <span data-ttu-id="016fe-125">测试环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-125">Test environments.</span></span> |
| <span data-ttu-id="016fe-126">临时代理</span><span class="sxs-lookup"><span data-stu-id="016fe-126">Temp Agent</span></span> | <span data-ttu-id="016fe-127">不需要在目标计算机上安装 Web 部署。</span><span class="sxs-lookup"><span data-stu-id="016fe-127">There is no need to install Web Deploy on the target computer.</span></span> <span data-ttu-id="016fe-128">自动使用最新版本的 Web 部署。</span><span class="sxs-lookup"><span data-stu-id="016fe-128">The latest version of Web Deploy is automatically used.</span></span> | <span data-ttu-id="016fe-129">用户必须是目标服务器上的管理员。</span><span class="sxs-lookup"><span data-stu-id="016fe-129">The user must be an administrator on the target server.</span></span> <span data-ttu-id="016fe-130">用户无法提供备用凭据。</span><span class="sxs-lookup"><span data-stu-id="016fe-130">The user can't supply alternative credentials.</span></span> | <span data-ttu-id="016fe-131">开发环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-131">Development environments.</span></span> <span data-ttu-id="016fe-132">测试环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-132">Test environments.</span></span> |
| <span data-ttu-id="016fe-133">Web 部署处理程序</span><span class="sxs-lookup"><span data-stu-id="016fe-133">Web Deploy Handler</span></span> | <span data-ttu-id="016fe-134">非管理员用户可以部署内容。</span><span class="sxs-lookup"><span data-stu-id="016fe-134">Non-administrator users can deploy content.</span></span> <span data-ttu-id="016fe-135">它适用于 web 应用程序和内容的定期更新。</span><span class="sxs-lookup"><span data-stu-id="016fe-135">It is suitable for regular updates to web applications and content.</span></span> | <span data-ttu-id="016fe-136">设置起来要复杂得多。</span><span class="sxs-lookup"><span data-stu-id="016fe-136">It is a lot more complex to set up.</span></span> | <span data-ttu-id="016fe-137">过渡环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-137">Staging environments.</span></span> <span data-ttu-id="016fe-138">Intranet 生产环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-138">Intranet production environments.</span></span> <span data-ttu-id="016fe-139">宿主环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-139">Hosted environments.</span></span> |
| <span data-ttu-id="016fe-140">脱机部署</span><span class="sxs-lookup"><span data-stu-id="016fe-140">Offline Deployment</span></span> | <span data-ttu-id="016fe-141">很容易设置。</span><span class="sxs-lookup"><span data-stu-id="016fe-141">It is very easy to set up.</span></span> <span data-ttu-id="016fe-142">它适用于隔离环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-142">It is suitable for isolated environments.</span></span> | <span data-ttu-id="016fe-143">服务器管理员每次都必须手动复制和导入 web 包。</span><span class="sxs-lookup"><span data-stu-id="016fe-143">The server administrator must manually copy and import the web package every time.</span></span> | <span data-ttu-id="016fe-144">面向 Internet 的生产环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-144">Internet-facing production environments.</span></span> <span data-ttu-id="016fe-145">隔离网络环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-145">Isolated network environments.</span></span> |

## <a name="using-the-remote-agent"></a><span data-ttu-id="016fe-146">使用远程代理</span><span class="sxs-lookup"><span data-stu-id="016fe-146">Using the Remote Agent</span></span>

<span data-ttu-id="016fe-147">在目标服务器上使用默认设置安装 Web 部署时，将自动安装和启动 Web 部署代理服务（"远程代理"）。</span><span class="sxs-lookup"><span data-stu-id="016fe-147">When you install Web Deploy using the default settings on a destination server, the Web Deployment Agent Service (the "remote agent") is automatically installed and started.</span></span> <span data-ttu-id="016fe-148">默认情况下，远程代理会在此地址公开 HTTP 终结点：</span><span class="sxs-lookup"><span data-stu-id="016fe-148">By default, the remote agent exposes an HTTP endpoint at this address:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="016fe-149">你可以将 [*server*] 替换为 web 服务器的计算机名称、你的 web 服务器的 IP 地址或解析为你的 web 服务器的主机名。</span><span class="sxs-lookup"><span data-stu-id="016fe-149">You can replace [*server*] with the machine name of your web server, an IP address for your web server, or a hostname that resolves to your web server.</span></span>

<span data-ttu-id="016fe-150">服务器管理员可以通过指定此终结点地址，从远程位置（例如开发人员计算机或生成服务器）部署 web 包。</span><span class="sxs-lookup"><span data-stu-id="016fe-150">Server administrators can deploy web packages from a remote location, like a developer machine or a build server, by specifying this endpoint address.</span></span> <span data-ttu-id="016fe-151">例如，假设在 Fabrikam，Inc. 的 Matt Hink 已在其开发人员计算机上生成 ContactManager web 应用程序项目。</span><span class="sxs-lookup"><span data-stu-id="016fe-151">For example, suppose Matt Hink at Fabrikam, Inc. has built the ContactManager.Mvc web application project on his developer machine.</span></span> <span data-ttu-id="016fe-152">生成过程将生成一个 web 包和一个 *.deploy .cmd*文件，其中包含安装包所需的 Web 部署命令。</span><span class="sxs-lookup"><span data-stu-id="016fe-152">The build process generates a web package, together with a *.deploy.cmd* file that contains the Web Deploy commands required to install the package.</span></span> <span data-ttu-id="016fe-153">如果 Matt 是 TESTWEB1 服务器上的服务器管理员，则可以通过在其开发人员计算机上运行以下命令，将 web 应用程序部署到测试 web 服务器：</span><span class="sxs-lookup"><span data-stu-id="016fe-153">If Matt is a server administrator on the TESTWEB1 server, he can deploy the web application to the test web server by running this command on his developer machine:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample2.cmd)]

<span data-ttu-id="016fe-154">在实际情况下，如果提供计算机名称，则 Web 部署可执行文件可以推断远程代理的终结点地址，因此 Matt 只需要键入：</span><span class="sxs-lookup"><span data-stu-id="016fe-154">In actual fact, the Web Deploy executable can infer the endpoint address of the remote agent if you provide the machine name, so Matt only needs to type this:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample3.cmd)]

> [!NOTE]
> <span data-ttu-id="016fe-155">有关 Web 部署命令行语法和 *.deploy .cmd*文件的详细信息，请参阅[如何：使用 .Deploy .Cmd 文件安装部署包](https://msdn.microsoft.com/library/ff356104.aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-155">For more information on Web Deploy command-line syntax and *.deploy.cmd* files, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

<span data-ttu-id="016fe-156">远程代理提供一种简单的方法来从远程位置部署内容，这种方法可以很好地使用一键式或自动部署。</span><span class="sxs-lookup"><span data-stu-id="016fe-156">The remote agent offers a straightforward way to deploy content from a remote location, and this approach can work well with one-click or automated deployment.</span></span> <span data-ttu-id="016fe-157">但是，运行部署命令的用户还必须是目标服务器上的域管理员或本地管理员组的成员。</span><span class="sxs-lookup"><span data-stu-id="016fe-157">However, the user who runs the deployment command must also be either a domain administrator or a member of the local administrators group on the destination server.</span></span> <span data-ttu-id="016fe-158">此外，远程代理不支持基本身份验证，因此不能在命令行上传递替代凭据。</span><span class="sxs-lookup"><span data-stu-id="016fe-158">In addition, the remote agent doesn't support basic authentication, so you can't pass alternative credentials on the command line.</span></span>

<span data-ttu-id="016fe-159">远程代理提供了一种在开发或测试方案中进行部署的有用方法，在这种情况下，开发人员对测试服务器环境具有完全管理员控制并不少见，通常会重新生成和重新部署应用程序解答.</span><span class="sxs-lookup"><span data-stu-id="016fe-159">The remote agent provides a useful approach to deployment in development or test scenarios, where it's not uncommon for developers to have full administrator control over a test server environment, and applications are typically rebuilt and redeployed very frequently.</span></span> <span data-ttu-id="016fe-160">但是，对于过渡环境或生产环境而言，此方法通常不太合适。</span><span class="sxs-lookup"><span data-stu-id="016fe-160">However, this approach is usually less acceptable for staging or production environments.</span></span>

<span data-ttu-id="016fe-161">有关使用远程代理方法的方案的端到端示例，请参阅[方案：配置用于 Web 部署的测试环境](scenario-configuring-a-test-environment-for-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="016fe-161">For an end-to-end example of a scenario that uses the remote agent approach, see [Scenario: Configuring a Test Environment for Web Deployment](scenario-configuring-a-test-environment-for-web-deployment.md).</span></span>

## <a name="using-the-temp-agent"></a><span data-ttu-id="016fe-162">使用 Temp 代理</span><span class="sxs-lookup"><span data-stu-id="016fe-162">Using the Temp Agent</span></span>

<span data-ttu-id="016fe-163">部署的 temp 代理方法类似于远程代理方法。</span><span class="sxs-lookup"><span data-stu-id="016fe-163">The temp agent approach to deployment is similar to the remote agent approach.</span></span> <span data-ttu-id="016fe-164">但是，与远程代理方法不同，你无需在目标 Web 服务器上安装 Web 部署。</span><span class="sxs-lookup"><span data-stu-id="016fe-164">However, in contrast to the remote agent approach, you don't need to install Web Deploy on the destination web server.</span></span> <span data-ttu-id="016fe-165">相反，当您执行部署时，Web 部署将在目标服务器上安装 Web 部署代理服务的临时版本，并使用此版本将内容部署到 IIS。</span><span class="sxs-lookup"><span data-stu-id="016fe-165">Instead, when you perform the deployment, Web Deploy will install a temporary version of the web deployment agent service on the destination server and will use this to deploy your content to IIS.</span></span> <span data-ttu-id="016fe-166">部署完成后，将删除所有临时文件。</span><span class="sxs-lookup"><span data-stu-id="016fe-166">When the deployment is complete, all temporary files are removed.</span></span>

<span data-ttu-id="016fe-167">如果要使用 temp agent 提供程序设置，请将 **/g**标志添加到部署命令：</span><span class="sxs-lookup"><span data-stu-id="016fe-167">If you want to use the temp agent provider setting, add the **/g** flag to your deployment command:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample4.cmd)]

> [!NOTE]
> <span data-ttu-id="016fe-168">如果 web 部署代理服务已安装在目标计算机上，即使该服务未运行，也不能使用 temp 代理。</span><span class="sxs-lookup"><span data-stu-id="016fe-168">You can't use the temp agent if the web deployment agent service is installed on the destination computer, even if the service is not running.</span></span>

<span data-ttu-id="016fe-169">此方法的优点是，不需要在目标服务器上维护 Web 部署安装。</span><span class="sxs-lookup"><span data-stu-id="016fe-169">The advantage of this approach is that you don't need to maintain installations of Web Deploy on your destination servers.</span></span> <span data-ttu-id="016fe-170">此外，不需要确保源计算机和目标计算机运行相同版本的 Web 部署。</span><span class="sxs-lookup"><span data-stu-id="016fe-170">Furthermore, you don't need to ensure that the source and destination computers are running the same version of Web Deploy.</span></span> <span data-ttu-id="016fe-171">但是，此方法与远程代理方法的主体限制相同，也就是说，你必须是目标服务器上的本地管理员才能部署内容，并且仅支持 NTLM 身份验证。</span><span class="sxs-lookup"><span data-stu-id="016fe-171">However, this approach suffers from the same principal limitations as the remote agent approach, namely that you must be a local administrator on the destination server in order to deploy content, and only NTLM authentication is supported.</span></span> <span data-ttu-id="016fe-172">Temp 代理方法还需要更多的目标环境初始配置。</span><span class="sxs-lookup"><span data-stu-id="016fe-172">The temp agent approach also requires a lot more initial configuration of the destination environment.</span></span>

<span data-ttu-id="016fe-173">有关使用 temp 代理的详细信息，请参阅[如何：使用 .deploy .Cmd 文件安装部署包](https://msdn.microsoft.com/library/ff356104.aspx)和[按需 Web 部署](https://technet.microsoft.com/library/ee517345(WS.10).aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-173">For more information on using the temp agent, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx) and [Web Deploy On Demand](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span>

## <a name="using-the-web-deploy-handler"></a><span data-ttu-id="016fe-174">使用 Web 部署处理程序</span><span class="sxs-lookup"><span data-stu-id="016fe-174">Using the Web Deploy Handler</span></span>

<span data-ttu-id="016fe-175">对于 IIS 7，Web 部署通过 IIS Web 部署处理程序提供了一种备选部署方法。</span><span class="sxs-lookup"><span data-stu-id="016fe-175">For IIS 7 onwards, Web Deploy offers an alternative deployment approach through the IIS Web Deploy Handler.</span></span> <span data-ttu-id="016fe-176">Web 部署处理程序与 IIS Web 管理服务（WMSvc）紧密集成，这旨在允许用户从远程位置管理 IIS 网站。</span><span class="sxs-lookup"><span data-stu-id="016fe-176">The Web Deploy Handler is closely integrated with the IIS Web Management Service (WMSvc), which is designed to allow users to manage IIS websites from remote locations.</span></span>

<span data-ttu-id="016fe-177">默认情况下，远程代理会在此地址公开 HTTP 终结点：</span><span class="sxs-lookup"><span data-stu-id="016fe-177">By default, the remote agent exposes an HTTP endpoint at this address:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample5.cmd)]

> [!NOTE]
> <span data-ttu-id="016fe-178">你可以将 [*server*] 替换为 web 服务器的计算机名称、你的 web 服务器的 IP 地址或解析为你的 web 服务器的主机名。</span><span class="sxs-lookup"><span data-stu-id="016fe-178">You can replace [*server*] with the machine name of your web server, an IP address for your web server, or a hostname that resolves to your web server.</span></span>

<span data-ttu-id="016fe-179">通过远程代理和 temp 代理进行 Web 部署处理程序的大优势在于，您可以将 IIS 配置为允许非管理员用户将应用程序和内容部署到特定的 IIS 网站。</span><span class="sxs-lookup"><span data-stu-id="016fe-179">The big advantage of the Web Deploy Handler over the remote agent, and the temp agent, is that you can configure IIS to allow non-administrator users to deploy applications and content to specific IIS websites.</span></span> <span data-ttu-id="016fe-180">Web 部署处理程序还支持基本身份验证，因此你可以在 Web 部署命令中提供作为参数的替代凭据。</span><span class="sxs-lookup"><span data-stu-id="016fe-180">The Web Deploy Handler also supports basic authentication, so you can provide alternative credentials as parameters in your Web Deploy commands.</span></span> <span data-ttu-id="016fe-181">主要缺点是，Web 部署处理程序最初的设置和配置要复杂得多。</span><span class="sxs-lookup"><span data-stu-id="016fe-181">The major drawback is that the Web Deploy Handler is initially a lot more complicated to set up and configure.</span></span>

<span data-ttu-id="016fe-182">对于非管理员用户，Web 管理服务（WMSvc）只允许用户使用站点级连接连接到 IIS，而不允许使用服务器级连接连接到 IIS。</span><span class="sxs-lookup"><span data-stu-id="016fe-182">In the case of non-administrator users, the Web Management Service (WMSvc) will only allow the user to connect to IIS using a site-level connection, rather than a server-level connection.</span></span> <span data-ttu-id="016fe-183">若要访问特定站点，可以在终结点地址中包含特定于站点的查询字符串：</span><span class="sxs-lookup"><span data-stu-id="016fe-183">To access a particular site, you can include a site-specific query string in the endpoint address:</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample6.cmd)]

<span data-ttu-id="016fe-184">例如，假设某一生成过程配置为在每次成功生成后自动将 web 应用程序部署到过渡环境。</span><span class="sxs-lookup"><span data-stu-id="016fe-184">For example, suppose a build process is configured to automatically deploy a web application to a staging environment after every successful build.</span></span> <span data-ttu-id="016fe-185">如果使用远程代理方法，则需要在目标服务器上将生成过程标识为管理员。</span><span class="sxs-lookup"><span data-stu-id="016fe-185">If you used the remote agent approach, you'd need to make the build process identity an administrator on your destination servers.</span></span> <span data-ttu-id="016fe-186">与此相反，使用 Web 部署处理程序方法，您可以向非管理员用户&#x2014;授予仅限特定&#x2014;IIS**网站的权限**，并且生成过程可以提供这些凭据来部署 Web 包。</span><span class="sxs-lookup"><span data-stu-id="016fe-186">In contrast, using the Web Deploy Handler approach you can give a non-administrator user&#x2014;**FABRIKAM\stagingdeployer** in this case&#x2014;permission to a specific IIS website only, and the build process can provide these credentials to deploy the web package.</span></span>

[!code-console[Main](choosing-the-right-approach-to-web-deployment/samples/sample7.cmd)]

> [!NOTE]
> <span data-ttu-id="016fe-187">有关 Web 部署命令行操作和语法的详细信息，请参阅[Web 部署命令行参考](https://technet.microsoft.com/library/dd568991(v=ws.10).aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-187">For more information on Web Deploy command-line operations and syntax, see [Web Deploy Command Line Reference](https://technet.microsoft.com/library/dd568991(v=ws.10).aspx).</span></span> <span data-ttu-id="016fe-188">有关使用 *.deploy .cmd*文件的详细信息，请参阅[如何：使用 .Deploy .Cmd 文件安装部署包](https://msdn.microsoft.com/library/ff356104.aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-188">For more information on using the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

<span data-ttu-id="016fe-189">Web 部署处理程序提供了一种用于在过渡环境、托管环境和基于 intranet 的生产环境中进行部署的有用方法，在这种环境中，可以远程访问服务器，但不能使用管理员凭据。</span><span class="sxs-lookup"><span data-stu-id="016fe-189">The Web Deploy Handler provides a useful approach to deployment in staging environments, hosted environments, and intranet-based production environments, where remote access to the server is available but administrator credentials are not.</span></span>

<span data-ttu-id="016fe-190">有关使用 Web 部署处理程序方法的方案的端到端示例，请参阅[方案：配置用于 Web 部署的过渡环境](scenario-configuring-a-staging-environment-for-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="016fe-190">For an end-to-end example of a scenario that uses the Web Deploy Handler approach, see [Scenario: Configuring a Staging Environment for Web Deployment](scenario-configuring-a-staging-environment-for-web-deployment.md).</span></span>

## <a name="using-offline-deployment"></a><span data-ttu-id="016fe-191">使用脱机部署</span><span class="sxs-lookup"><span data-stu-id="016fe-191">Using Offline Deployment</span></span>

<span data-ttu-id="016fe-192">在某些情况下，不可能或不切实际地将应用程序和内容从远程位置部署到 IIS 网站。</span><span class="sxs-lookup"><span data-stu-id="016fe-192">In some cases, it's not possible or practical to deploy applications and content to an IIS website from a remote location.</span></span> <span data-ttu-id="016fe-193">例如，源计算机和目标计算机可能位于独立的网络或网段中，或防火墙策略可能不允许远程访问。</span><span class="sxs-lookup"><span data-stu-id="016fe-193">For example, the source and destination computers may be in isolated networks or network segments, or firewall policy may not permit remote access.</span></span>

<span data-ttu-id="016fe-194">在这种情况下，仍可以使用 Web 部署的打包和发布功能;你不能从远程位置使用它们。</span><span class="sxs-lookup"><span data-stu-id="016fe-194">In scenarios like these, you can still use the packaging and publishing capabilities of Web Deploy; you just can't use them from a remote location.</span></span> <span data-ttu-id="016fe-195">相反，目标服务器上的管理员必须将 web 包复制到服务器上，并通过 IIS 管理器将其导入。</span><span class="sxs-lookup"><span data-stu-id="016fe-195">Instead, an administrator on the destination server must copy the web package onto the server and import it through IIS Manager.</span></span>

![](choosing-the-right-approach-to-web-deployment/_static/image1.png)

<span data-ttu-id="016fe-196">脱机部署方法通常适用于面向 Internet 的生产环境，其中外围网络中的服务器可能与内部网络中的计算机的连接受限。</span><span class="sxs-lookup"><span data-stu-id="016fe-196">The offline deployment approach is typically useful in Internet-facing production environments, where servers in a perimeter network may have restricted connectivity with computers in the internal network.</span></span>

<span data-ttu-id="016fe-197">有关使用脱机部署方法的方案的端到端示例，请参阅[方案：配置用于 Web 部署的生产环境](scenario-configuring-a-production-environment-for-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="016fe-197">For an end-to-end example of a scenario that uses the offline deployment approach, see [Scenario: Configuring a Production Environment for Web Deployment](scenario-configuring-a-production-environment-for-web-deployment.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="016fe-198">其他阅读材料</span><span class="sxs-lookup"><span data-stu-id="016fe-198">Further Reading</span></span>

<span data-ttu-id="016fe-199">有关 Web 部署命令行操作和语法的详细信息，请参阅[Web 部署命令行参考](https://technet.microsoft.com/library/dd568991(v=ws.10).aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-199">For more information on Web Deploy command-line operations and syntax, see [Web Deploy Command Line Reference](https://technet.microsoft.com/library/dd568991(v=ws.10).aspx).</span></span> <span data-ttu-id="016fe-200">有关使用 *.deploy .cmd*文件的详细信息，请参阅[如何：使用 .Deploy .Cmd 文件安装部署包](https://msdn.microsoft.com/library/ff356104.aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-200">For more information on using the *.deploy.cmd* file, see [How to: Install a Deployment Package Using the deploy.cmd File](https://msdn.microsoft.com/library/ff356104.aspx).</span></span>

<span data-ttu-id="016fe-201">有关从远程计算机部署 web 包的不同方法的更多常规指导，请参阅[远程使用 Web 部署](https://technet.microsoft.com/library/ee461175(WS.10).aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-201">For more general guidance on the different ways in which you can deploy web packages from a remote computer, see [Using Web Deploy Remotely](https://technet.microsoft.com/library/ee461175(WS.10).aspx).</span></span> <span data-ttu-id="016fe-202">有关使用点播 Web 部署的详细信息，请参阅[点播 Web 部署](https://technet.microsoft.com/library/ee517345(WS.10).aspx)。</span><span class="sxs-lookup"><span data-stu-id="016fe-202">For more information on using Web Deploy On Demand, see [Web Deploy On Demand](https://technet.microsoft.com/library/ee517345(WS.10).aspx).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="016fe-203">[上一页](configuring-server-environments-for-web-deployment.md)
> [下一页](scenario-configuring-a-test-environment-for-web-deployment.md)</span><span class="sxs-lookup"><span data-stu-id="016fe-203">[Previous](configuring-server-environments-for-web-deployment.md)
[Next](scenario-configuring-a-test-environment-for-web-deployment.md)</span></span>
