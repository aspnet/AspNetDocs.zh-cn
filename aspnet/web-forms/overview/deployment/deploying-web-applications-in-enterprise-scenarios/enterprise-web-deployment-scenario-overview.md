---
uid: web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
title: 企业 Web 部署：方案概述 |Microsoft Docs
author: jrjlee
description: 本教程系列与现实级别的复杂性，以及虚构企业部署方案中，使用示例解决方案提供 ref...
ms.author: riande
ms.date: 05/03/2012
ms.assetid: aa862153-4cd8-4e33-beeb-abf502c6664f
msc.legacyurl: /web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
msc.type: authoredcontent
ms.openlocfilehash: 326abfe4fe86d0741b0bf807d5454d6cf87a7c12
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/09/2019
ms.locfileid: "59411964"
---
# <a name="enterprise-web-deployment-scenario-overview"></a><span data-ttu-id="ff1b4-103">企业 Web 部署：方案概述</span><span class="sxs-lookup"><span data-stu-id="ff1b4-103">Enterprise Web Deployment: Scenario Overview</span></span>

<span data-ttu-id="ff1b4-104">通过[Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="ff1b4-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="ff1b4-105">下载 PDF</span><span class="sxs-lookup"><span data-stu-id="ff1b4-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="ff1b4-106">本系列教程使用示例解决方案使用真实的复杂性，虚构企业部署方案中，以及级别提供的参考实现，并为提供的任务和演练的通用上下文。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-106">This set of tutorials uses a sample solution with a realistic level of complexity, together with a fictional enterprise deployment scenario, to provide a reference implementation and to give the tasks and walkthroughs a common context.</span></span> <span data-ttu-id="ff1b4-107">本主题介绍了教程方案，并引入了示例解决方案。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-107">This topic describes the tutorial scenario and introduces the sample solution.</span></span>


## <a name="scenario-description"></a><span data-ttu-id="ff1b4-108">应用场景说明</span><span class="sxs-lookup"><span data-stu-id="ff1b4-108">Scenario Description</span></span>

<span data-ttu-id="ff1b4-109">Fabrikam，Inc.，虚构公司，创建一种解决方案，可让远程销售团队存储和检索的 web 界面的联系信息。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-109">Fabrikam, Inc., a fictitious company, is creating a solution that lets remote sales teams store and retrieve contact information from a web interface.</span></span>

<span data-ttu-id="ff1b4-110">在 Fabrikam，Inc.的应用程序生命周期管理 (ALM) 进程需要的软件开发过程的各个阶段中要部署到三个服务器环境的解决方案：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-110">The Application Lifecycle Management (ALM) processes at Fabrikam, Inc. require the solution to be deployed to three server environments at various stages of the software development process:</span></span>

- <span data-ttu-id="ff1b4-111">开发人员测试或"沙盒"环境。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-111">A developer test or "sandbox" environment.</span></span>
- <span data-ttu-id="ff1b4-112">基于 intranet 的过渡环境中。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-112">An intranet-based staging environment.</span></span>
- <span data-ttu-id="ff1b4-113">面向 Internet 的生产环境。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-113">An Internet-facing production environment.</span></span>

<span data-ttu-id="ff1b4-114">每个环境都有不同的配置和安全要求，以及每个又带来了独特的部署挑战。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-114">Each of these environments has different configuration and security requirements, and each poses unique deployment challenges.</span></span>

### <a name="the-fabrikam-inc-server-infrastructure"></a><span data-ttu-id="ff1b4-115">The Fabrikam, Inc.服务器基础结构</span><span class="sxs-lookup"><span data-stu-id="ff1b4-115">The Fabrikam, Inc. Server Infrastructure</span></span>

<span data-ttu-id="ff1b4-116">这是 Fabrikam，Inc.高级开发和部署基础结构</span><span class="sxs-lookup"><span data-stu-id="ff1b4-116">This is the high-level development and deployment infrastructure at Fabrikam, Inc.</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image1.png)

<span data-ttu-id="ff1b4-117">开发人员工作站、 源控制基础结构、 开发人员测试环境中和所有位于 Fabrikam.net 域内的 intranet 网络的过渡环境。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-117">The developer workstations, the source control infrastructure, the developer test environment, and the staging environment all reside on the intranet network within the Fabrikam.net domain.</span></span> <span data-ttu-id="ff1b4-118">在生产环境驻留在外围网络 （也称为 DMZ、 外围安全区域和外围子网），这是通过防火墙与 intranet 网络隔离。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-118">The production environment resides on a perimeter network (also known as DMZ, demilitarized zone, and screened subnet), which is isolated from the intranet network by a firewall.</span></span> <span data-ttu-id="ff1b4-119">这是一种常见部署方案： 你通常将面向 Internet 的 web 服务器隔离从内部服务器基础结构通过防火墙或网关服务器使用。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-119">This is a common deployment scenario: you typically isolate your Internet-facing web servers from your internal server infrastructure through the use of firewalls or gateway servers.</span></span>

<span data-ttu-id="ff1b4-120">在此示例中：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-120">In this example:</span></span>

- <span data-ttu-id="ff1b4-121">具有单独的生成服务器的 Team Foundation Server (TFS) 2010年服务器提供源代码管理和持续集成 (CI) 功能。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-121">A Team Foundation Server (TFS) 2010 server with a separate build server provides source control and continuous integration (CI) functionality.</span></span>
- <span data-ttu-id="ff1b4-122">开发人员测试环境包括 Internet Information Services (IIS) 7.5 web 服务器和 SQL Server 2008 R2 数据库服务器。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-122">The developer test environment includes an Internet Information Services (IIS) 7.5 web server and a SQL Server 2008 R2 database server.</span></span>
- <span data-ttu-id="ff1b4-123">在生产环境包括多个 IIS 7.5 web 服务器通过 Web Farm Framework (WFF) 控制器服务器，以及 SQL Server 2008 R2 数据库服务器同步。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-123">The production environment includes multiple IIS 7.5 web servers synchronized by a Web Farm Framework (WFF) controller server, together with a SQL Server 2008 R2 database server.</span></span> <span data-ttu-id="ff1b4-124">在实践中，数据库服务器可能使用群集或镜像以提高可伸缩性和可用性。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-124">In practice, the database server may use clustering or mirroring to improve scalability and availability.</span></span>
- <span data-ttu-id="ff1b4-125">在过渡环境旨在尽可能接近地复制生产环境的配置。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-125">The staging environment is designed to replicate the configuration of the production environment as closely as possible.</span></span>
- <span data-ttu-id="ff1b4-126">防火墙和网络隔离策略不允许直接的自动化部署从 intranet 到外围网络。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-126">The firewall and network isolation policies do not permit direct, automated deployment from the intranet to the perimeter network.</span></span>

<span data-ttu-id="ff1b4-127">每个环境的配置更详细地介绍第二个教程中，[用于 Web 部署配置服务器环境](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md)。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-127">The configuration of each of these environments is described in more detail in the second tutorial, [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

### <a name="team-roles-for-alm"></a><span data-ttu-id="ff1b4-128">ALM 的团队角色</span><span class="sxs-lookup"><span data-stu-id="ff1b4-128">Team Roles for ALM</span></span>

<span data-ttu-id="ff1b4-129">这些是所涉及的用户创建、 管理、 生成和发布 Contact Manager 解决方案：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-129">These users are involved in creating, managing, building, and publishing the Contact Manager solution:</span></span>

- <span data-ttu-id="ff1b4-130">Matt 婷是 Fabrikam，Inc.的 web 应用程序开发人员他是团队的通过使用 Visual Studio 2010 开发 Contact Manager 解决方案的一部分。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-130">Matt Hink is a web application developer at Fabrikam, Inc. He is part of the team who developed the Contact Manager solution by using Visual Studio 2010.</span></span> <span data-ttu-id="ff1b4-131">Matt 允许自身环境配置为满足其需求的开发人员测试环境中的服务器上具有完全管理员权限。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-131">Matt has full administrator rights on the servers in the developer test environment, which lets him configure the environment to meet his needs.</span></span> <span data-ttu-id="ff1b4-132">另外，他还有到他在其中存储 Contact Manager 解决方案的源代码的 Visual Studio 2010 的 TFS 实例的用户访问权限。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-132">He also has user access to the Visual Studio 2010 TFS instance where he stores the source code for the Contact Manager solution.</span></span>
- <span data-ttu-id="ff1b4-133">Rob Walters 是 Fabrikam，Inc.开发团队的服务器管理员。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-133">Rob Walters is a server administrator for the Fabrikam, Inc. development team.</span></span> <span data-ttu-id="ff1b4-134">Rob TFS 服务器上具有管理访问权限，以便他可以配置 TFS 和 Team Build 的所有方面。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-134">Rob has administrative access on the TFS server so that he can configure all aspects of TFS and Team Build.</span></span> <span data-ttu-id="ff1b4-135">Rob 还具有管理访问权限的测试和过渡 web 服务器，并且在测试和过渡环境中的数据库服务器可作为数据库管理员 (DBA)。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-135">Rob also has administrative access to the test and staging web servers and acts as the database administrator (DBA) for the database servers in the test and staging environments.</span></span> <span data-ttu-id="ff1b4-136">Rob 具有 Team Build 服务器上配置 TFS 以执行这些任务：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-136">Rob has configured Team Build on the TFS server to carry out these tasks:</span></span>

    - <span data-ttu-id="ff1b4-137">生成并运行单元测试应用程序，每当用户签入到 TFS 的文件。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-137">Build and run unit tests on the application whenever a user checks in a file to TFS.</span></span> <span data-ttu-id="ff1b4-138">这称为 CI。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-138">This is called CI.</span></span>
    - <span data-ttu-id="ff1b4-139">应用程序通过单元测试后自动部署到测试环境 Contact Manager 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-139">Deploy the Contact Manager application to the test environment automatically once the application passes unit tests.</span></span> <span data-ttu-id="ff1b4-140">这包括在初始部署之后将数据库发布到在初始部署和对数据库的任何更新的测试服务器。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-140">This includes publishing the database to the test servers on initial deployment and any updates to the database after initial deployment.</span></span>
    - <span data-ttu-id="ff1b4-141">联系人管理器应用程序部署到过渡环境中单步过程。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-141">Deploy the Contact Manager application to the staging environment in a single-step process.</span></span>
    - <span data-ttu-id="ff1b4-142">创建 Web 服务器管理员和 DBA 可以使用应用程序发布到生产环境的 Web 包。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-142">Create a Web package that a Web server administrator and a DBA can use to publish the application to the production environment.</span></span>
- <span data-ttu-id="ff1b4-143">Lisa Andrews 是服务器管理员，负责应用程序部署到 Fabrikam，Inc.生产服务器。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-143">Lisa Andrews is a server administrator responsible for deploying applications to the Fabrikam, Inc. production servers.</span></span> <span data-ttu-id="ff1b4-144">她具有读取访问权限的 TFS Team Build 存储的位置的 web 部署包后生成的联系人管理器应用程序的共享。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-144">She has read access to the share where the TFS Team Build stores the web deployment package once it builds the Contact Manager application.</span></span> <span data-ttu-id="ff1b4-145">她还具有流向生产 web 服务器的管理访问权限，使她可以部署到生产环境的应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-145">She also has administrative access to the production web servers so that she can deploy the application to production.</span></span> <span data-ttu-id="ff1b4-146">此外，她充当 DBA，他将数据库和数据库更新部署到生产环境中的数据库服务器。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-146">Additionally, she acts as the DBA who deploys databases and database updates to the database server in the production environment.</span></span>

<a id="_The_Contact_Manager"></a>

### <a name="the-contact-manager-solution"></a><span data-ttu-id="ff1b4-147">Contact Manager 解决方案</span><span class="sxs-lookup"><span data-stu-id="ff1b4-147">The Contact Manager Solution</span></span>

<span data-ttu-id="ff1b4-148">联系人管理器解决方案旨在让已注册、 登录的用户添加和编辑通过 web 界面的联系信息。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-148">The Contact Manager solution is designed to let registered, logged-in users add and edit contact information through a web interface.</span></span> <span data-ttu-id="ff1b4-149">Contact Manager 解决方案包含四个单独项目：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-149">The Contact Manager solution consists of four individual projects:</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image2.png)

- <span data-ttu-id="ff1b4-150">**ContactManager.Mvc**.</span><span class="sxs-lookup"><span data-stu-id="ff1b4-150">**ContactManager.Mvc**.</span></span> <span data-ttu-id="ff1b4-151">这是表示解决方案的入口点的 ASP.NET MVC3 web 应用程序项目。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-151">This is an ASP.NET MVC3 web application project that represents the entry point for the solution.</span></span> <span data-ttu-id="ff1b4-152">它提供了一些基本的 web 应用程序功能，如向用户提供的功能来创建和查看联系人详细信息。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-152">It offers some basic web application functionality, like providing users with the ability to create and view contact details.</span></span> <span data-ttu-id="ff1b4-153">应用程序依赖于用于管理联系人和 ASP.NET 应用程序服务数据库来管理身份验证和授权的 Windows Communication Foundation (WCF) 服务。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-153">The application relies on a Windows Communication Foundation (WCF) service to manage contacts and an ASP.NET application services database to manage authentication and authorization.</span></span>
- <span data-ttu-id="ff1b4-154">**ContactManager.Database**。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-154">**ContactManager.Database**.</span></span> <span data-ttu-id="ff1b4-155">这是 Visual Studio 2010 数据库项目。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-155">This is a Visual Studio 2010 database project.</span></span> <span data-ttu-id="ff1b4-156">项目定义存储联系人详细信息的数据库的架构。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-156">The project defines the schema for a database that stores contact details.</span></span>
- <span data-ttu-id="ff1b4-157">**ContactManager.Service**.</span><span class="sxs-lookup"><span data-stu-id="ff1b4-157">**ContactManager.Service**.</span></span> <span data-ttu-id="ff1b4-158">这是 WCF web 服务项目。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-158">This is a WCF web service project.</span></span> <span data-ttu-id="ff1b4-159">WCF 公开终结点，允许调用方执行创建、 检索、 更新和删除 (CRUD) 操作在联系人管理器数据库。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-159">The WCF exposes an endpoint that allows callers to perform create, retrieve, update, and delete (CRUD) operations on the Contact Manager database.</span></span> <span data-ttu-id="ff1b4-160">该服务依赖于联系人管理器数据库和 ContactManager.Common.dll 程序集。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-160">The service relies on the Contact Manager database and the ContactManager.Common.dll assembly.</span></span>
- <span data-ttu-id="ff1b4-161">**ContactManager.Common**。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-161">**ContactManager.Common**.</span></span> <span data-ttu-id="ff1b4-162">这是一个类库项目。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-162">This is a class library project.</span></span> <span data-ttu-id="ff1b4-163">WCF 服务依赖于此程序集中定义的类型。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-163">The WCF service relies on types defined in this assembly.</span></span>

<span data-ttu-id="ff1b4-164">本系列中的第一个教程中提供了该解决方案，其部署要求的全面审查[企业中的 Web 部署](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md)。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-164">A complete review of the solution and its deployment requirements is provided in the first tutorial in this series, [Web Deployment in the Enterprise](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md).</span></span>

<a id="_Deployment_Tasks"></a>

## <a name="deployment-tasks"></a><span data-ttu-id="ff1b4-165">部署任务</span><span class="sxs-lookup"><span data-stu-id="ff1b4-165">Deployment Tasks</span></span>

<span data-ttu-id="ff1b4-166">有几个不同的任务涉及的应用程序部署到在大型组织中不同的环境。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-166">There are several distinct tasks involved in deploying applications to different environments in a large organization.</span></span> <span data-ttu-id="ff1b4-167">这些是教程涵盖的关键任务：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-167">These are the key tasks that the tutorials cover:</span></span>

![](enterprise-web-deployment-scenario-overview/_static/image3.png)

<span data-ttu-id="ff1b4-168">下面是部署过程中从本文档前面所述的用户的角度来看，每个步骤的列表：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-168">Here is a list of each step in the deployment process from the perspective of the users described earlier in this document:</span></span>

1. <span data-ttu-id="ff1b4-169">所有团队成员都查看来确定关键部署要求和问题的 Visual Studio 2010 中的 Contact Manager 解决方案。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-169">All members of the team review the Contact Manager solution in Visual Studio 2010 to determine key deployment requirements and issues.</span></span>
2. <span data-ttu-id="ff1b4-170">Matt 婷可以部署到开发人员测试环境，若要执行的部署逻辑初始测试 Contact Manager 解决方案直接从开发人员工作站。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-170">Matt Hink may deploy the Contact Manager solution directly from the developer workstation to the developer test environment, to conduct an initial test of the deployment logic.</span></span>
3. <span data-ttu-id="ff1b4-171">Matt 婷在 TFS 中添加到源代码管理应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-171">Matt Hink adds the application to source control in TFS.</span></span>
4. <span data-ttu-id="ff1b4-172">Rob Walters Team Build 中创建各种 Contact Manager 解决方案的生成定义。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-172">Rob Walters creates various build definitions for the Contact Manager solution in Team Build.</span></span> <span data-ttu-id="ff1b4-173">一个生成定义使用 CI 解决方案部署到开发人员测试环境，只要用户签入新代码。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-173">One build definition uses CI to deploy the solution to the developer test environment whenever a user checks in new code.</span></span> <span data-ttu-id="ff1b4-174">另一个生成定义允许到过渡环境所需的用户触发器部署。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-174">Another build definition lets users trigger deployments to the staging environment as required.</span></span>
5. <span data-ttu-id="ff1b4-175">每次用户签入新代码，Team Build 自动生成的解决方案组件、 运行单元测试，并将解决方案部署到开发人员测试环境中，如果生成成功并且已通过单元测试。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-175">Every time a user checks in new code, Team Build automatically builds the solution components, runs unit tests, and deploys the solution to the developer test environment if the build was successful and the unit tests pass.</span></span>
6. <span data-ttu-id="ff1b4-176">当用户触发部署到过渡环境时，该解决方案是打包和部署在单步过程。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-176">When a user triggers a deployment to the staging environment, the solution is packaged and deployed in a single-step process.</span></span> <span data-ttu-id="ff1b4-177">此过程还会生成以手动部署到生产环境的包。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-177">This process also generates a package for manual deployment to the production environment.</span></span>
7. <span data-ttu-id="ff1b4-178">Lisa Andrews 手动导入在步骤 6 中创建的 web 包部署到生产环境的应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-178">Lisa Andrews deploys the application to the production environment by manually importing the web package created in step 6.</span></span>

### <a name="key-deployment-issues"></a><span data-ttu-id="ff1b4-179">关键的部署问题</span><span class="sxs-lookup"><span data-stu-id="ff1b4-179">Key Deployment Issues</span></span>

<span data-ttu-id="ff1b4-180">Contact Manager 解决方案和 Fabrikam，Inc.方案重点介绍各种常见的问题和部署复杂的企业级解决方案时可能遇到的难题。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-180">The Contact Manager solution and the Fabrikam, Inc. scenario highlight various common issues and challenges that you may encounter when you deploy complex, enterprise-scale solutions.</span></span> <span data-ttu-id="ff1b4-181">例如：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-181">For example:</span></span>

- <span data-ttu-id="ff1b4-182">您需要能够将项目部署到多个环境，如开发人员或测试环境中，暂存平台和生产服务器。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-182">You need to be able to deploy projects to multiple environments, like developer or test environments, staging platforms, and production servers.</span></span> <span data-ttu-id="ff1b4-183">该解决方案需要与每个环境的不同的配置设置一起部署。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-183">The solution needs to be deployed with different configuration settings for each environment.</span></span>
- <span data-ttu-id="ff1b4-184">您需要将单步执行或自动生成和部署过程的一部分同时部署多个依赖项目。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-184">You need to deploy multiple dependent projects simultaneously as part of a single-step or automated build and deployment process.</span></span>
- <span data-ttu-id="ff1b4-185">需要无法将驱动器部署从自动化过程。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-185">You need to be able to drive deployment from an automated process.</span></span> <span data-ttu-id="ff1b4-186">例如，想要使用 CI 过程时签入新代码部署到过渡环境的 web 应用程序。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-186">For example, you want to use a CI process to deploy web applications to a staging environment when new code is checked in.</span></span>
- <span data-ttu-id="ff1b4-187">您需要能够控制部署过程并将部署变量设置从 Visual Studio 外部，如开发人员不太可能具有正确的配置设置或为每个目标环境所需的凭据。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-187">You need to be able to control the deployment process and set deployment variables from outside Visual Studio, as developers are unlikely to have the correct configuration settings or the necessary credentials for every target environment.</span></span>
- <span data-ttu-id="ff1b4-188">您需要部署的基于架构的数据库项目并保留在后续部署上的现有数据。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-188">You need to deploy schema-based database projects and preserve existing data on subsequent deployments.</span></span>
- <span data-ttu-id="ff1b4-189">您需要部署上临时成员资格数据库而不部署用户帐户数据。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-189">You need to deploy membership databases on an ad hoc basis without deploying user account data.</span></span> <span data-ttu-id="ff1b4-190">您可能还需要更新已部署的成员资格数据库的架构，而不会丢失现有用户帐户数据。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-190">You may also need to update the schema of deployed membership databases without losing existing user account data.</span></span>
- <span data-ttu-id="ff1b4-191">需要时将内容部署到各种目标环境中排除某些文件或文件夹。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-191">You need to exclude certain files or folders when you deploy content to various target environments.</span></span>

<span data-ttu-id="ff1b4-192">此外，管理部署频繁和增量更新时引发了一些其他挑战。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-192">In addition, managing deployment when updates are frequent and incremental throws up some additional challenges.</span></span> <span data-ttu-id="ff1b4-193">例如：</span><span class="sxs-lookup"><span data-stu-id="ff1b4-193">For example:</span></span>

- <span data-ttu-id="ff1b4-194">每次一名开发人员签入新代码运行单元测试。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-194">You run unit tests every time a developer checks in new code.</span></span> <span data-ttu-id="ff1b4-195">你只想要部署解决方案，如果该代码将单元测试。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-195">You only want to deploy the solution if the code passes the unit tests.</span></span>
- <span data-ttu-id="ff1b4-196">在部署到过渡或生产环境的 web 应用程序时，你想要将用户重定向*应用程序\_offline.htm*部署过程的持续时间的文件。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-196">When you deploy a web application to a staging or production environment, you want to redirect users to an *app\_offline.htm* file for the duration of the deployment process.</span></span>
- <span data-ttu-id="ff1b4-197">你想要记录部署活动。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-197">You want to log deployment activities.</span></span> <span data-ttu-id="ff1b4-198">部署过程应将成功或失败部署的电子邮件通知发送给指定收件人。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-198">The deployment process should send email notifications of successful or failed deployments to designated recipients.</span></span>
- <span data-ttu-id="ff1b4-199">自动的部署失败时，部署过程应重试当前部署或改为部署以前的 web 包。</span><span class="sxs-lookup"><span data-stu-id="ff1b4-199">If an automated deployment fails, the deployment process should retry the current deployment or deploy the previous web package instead.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ff1b4-200">[上一页](deploying-web-applications-in-enterprise-scenarios.md)
> [下一页](application-lifecycle-management-from-development-to-production.md)</span><span class="sxs-lookup"><span data-stu-id="ff1b4-200">[Previous](deploying-web-applications-in-enterprise-scenarios.md)
[Next](application-lifecycle-management-from-development-to-production.md)</span></span>
